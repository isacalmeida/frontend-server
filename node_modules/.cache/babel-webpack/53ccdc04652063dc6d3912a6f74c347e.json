{"ast":null,"code":"import _toConsumableArray from \"C:/Documentos/workspaces/isac/frontend-server/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:/Documentos/workspaces/isac/frontend-server/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Documentos/workspaces/isac/frontend-server/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { EventEmitter, Component, ViewEncapsulation, ChangeDetectionStrategy, NgZone, Input, Output, ViewChild, ChangeDetectorRef, ContentChildren, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DomHandler } from 'primeng/dom';\nimport { MessageService, PrimeTemplate, SharedModule } from 'primeng/api';\nimport { RippleModule } from 'primeng/ripple';\nimport { trigger, state, style, transition, animate, query, animateChild } from '@angular/animations';\n\nvar ToastItem = /*#__PURE__*/function () {\n  function ToastItem(zone) {\n    _classCallCheck(this, ToastItem);\n\n    this.zone = zone;\n    this.onClose = new EventEmitter();\n  }\n\n  _createClass(ToastItem, [{\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      this.initTimeout();\n    }\n  }, {\n    key: \"initTimeout\",\n    value: function initTimeout() {\n      var _this = this;\n\n      if (!this.message.sticky) {\n        this.zone.runOutsideAngular(function () {\n          _this.timeout = setTimeout(function () {\n            _this.onClose.emit({\n              index: _this.index,\n              message: _this.message\n            });\n          }, _this.message.life || 3000);\n        });\n      }\n    }\n  }, {\n    key: \"clearTimeout\",\n    value: function (_clearTimeout) {\n      function clearTimeout() {\n        return _clearTimeout.apply(this, arguments);\n      }\n\n      clearTimeout.toString = function () {\n        return _clearTimeout.toString();\n      };\n\n      return clearTimeout;\n    }(function () {\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n        this.timeout = null;\n      }\n    })\n  }, {\n    key: \"onMouseEnter\",\n    value: function onMouseEnter() {\n      this.clearTimeout();\n    }\n  }, {\n    key: \"onMouseLeave\",\n    value: function onMouseLeave() {\n      this.initTimeout();\n    }\n  }, {\n    key: \"onCloseIconClick\",\n    value: function onCloseIconClick(event) {\n      this.clearTimeout();\n      this.onClose.emit({\n        index: this.index,\n        message: this.message\n      });\n      event.preventDefault();\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.clearTimeout();\n    }\n  }]);\n\n  return ToastItem;\n}();\n\nToastItem.decorators = [{\n  type: Component,\n  args: [{\n    selector: 'p-toastItem',\n    template: \"\\n        <div #container [attr.id]=\\\"message.id\\\" class=\\\"p-toast-message\\\" [ngClass]=\\\"'p-toast-message-' + message.severity\\\" [@messageState]=\\\"{value: 'visible', params: {showTransformParams: showTransformOptions, hideTransformParams: hideTransformOptions, showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}\\\"\\n                (mouseenter)=\\\"onMouseEnter()\\\" (mouseleave)=\\\"onMouseLeave()\\\">\\n            <div class=\\\"p-toast-message-content\\\" role=\\\"alert\\\" aria-live=\\\"assertive\\\" aria-atomic=\\\"true\\\">\\n                <ng-container *ngIf=\\\"!template\\\">\\n                    <span class=\\\"p-toast-message-icon pi\\\" [ngClass]=\\\"{'pi-info-circle': message.severity == 'info', 'pi-exclamation-triangle': message.severity == 'warn',\\n                        'pi-times-circle': message.severity == 'error', 'pi-check' :message.severity == 'success'}\\\"></span>\\n                    <div class=\\\"p-toast-message-text\\\">\\n                        <div class=\\\"p-toast-summary\\\">{{message.summary}}</div>\\n                        <div class=\\\"p-toast-detail\\\">{{message.detail}}</div>\\n                    </div>\\n                </ng-container>\\n                <button type=\\\"button\\\" class=\\\"p-toast-icon-close p-link\\\" (click)=\\\"onCloseIconClick($event)\\\" (keydown.enter)=\\\"onCloseIconClick($event)\\\" *ngIf=\\\"message.closable !== false\\\" pRipple>\\n                    <span class=\\\"p-toast-icon-close-icon pi pi-times\\\"></span>\\n                </button>\\n                <ng-container *ngTemplateOutlet=\\\"template; context: {$implicit: message}\\\"></ng-container>\\n            </div>\\n        </div>\\n    \",\n    animations: [trigger('messageState', [state('visible', style({\n      transform: 'translateY(0)',\n      opacity: 1\n    })), transition('void => *', [style({\n      transform: '{{showTransformParams}}',\n      opacity: 0\n    }), animate('{{showTransitionParams}}')]), transition('* => void', [animate('{{hideTransitionParams}}', style({\n      height: 0,\n      opacity: 0,\n      transform: '{{hideTransformParams}}'\n    }))])])],\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n  }]\n}];\n\nToastItem.ctorParameters = function () {\n  return [{\n    type: NgZone\n  }];\n};\n\nToastItem.propDecorators = {\n  message: [{\n    type: Input\n  }],\n  index: [{\n    type: Input\n  }],\n  template: [{\n    type: Input\n  }],\n  showTransformOptions: [{\n    type: Input\n  }],\n  hideTransformOptions: [{\n    type: Input\n  }],\n  showTransitionOptions: [{\n    type: Input\n  }],\n  hideTransitionOptions: [{\n    type: Input\n  }],\n  onClose: [{\n    type: Output\n  }],\n  containerViewChild: [{\n    type: ViewChild,\n    args: ['container']\n  }]\n};\n\nvar Toast = /*#__PURE__*/function () {\n  function Toast(messageService, cd) {\n    _classCallCheck(this, Toast);\n\n    this.messageService = messageService;\n    this.cd = cd;\n    this.autoZIndex = true;\n    this.baseZIndex = 0;\n    this.position = 'top-right';\n    this.preventOpenDuplicates = false;\n    this.preventDuplicates = false;\n    this.showTransformOptions = 'translateY(100%)';\n    this.hideTransformOptions = 'translateY(-100%)';\n    this.showTransitionOptions = '300ms ease-out';\n    this.hideTransitionOptions = '250ms ease-in';\n    this.onClose = new EventEmitter();\n  }\n\n  _createClass(Toast, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this2 = this;\n\n      this.messageSubscription = this.messageService.messageObserver.subscribe(function (messages) {\n        if (messages) {\n          if (messages instanceof Array) {\n            var filteredMessages = messages.filter(function (m) {\n              return _this2.canAdd(m);\n            });\n\n            _this2.add(filteredMessages);\n          } else if (_this2.canAdd(messages)) {\n            _this2.add([messages]);\n          }\n        }\n      });\n      this.clearSubscription = this.messageService.clearObserver.subscribe(function (key) {\n        if (key) {\n          if (_this2.key === key) {\n            _this2.messages = null;\n          }\n        } else {\n          _this2.messages = null;\n        }\n\n        _this2.cd.markForCheck();\n      });\n    }\n  }, {\n    key: \"add\",\n    value: function add(messages) {\n      this.messages = this.messages ? [].concat(_toConsumableArray(this.messages), _toConsumableArray(messages)) : _toConsumableArray(messages);\n\n      if (this.preventDuplicates) {\n        this.messagesArchieve = this.messagesArchieve ? [].concat(_toConsumableArray(this.messagesArchieve), _toConsumableArray(messages)) : _toConsumableArray(messages);\n      }\n\n      this.cd.markForCheck();\n    }\n  }, {\n    key: \"canAdd\",\n    value: function canAdd(message) {\n      var allow = this.key === message.key;\n\n      if (allow && this.preventOpenDuplicates) {\n        allow = !this.containsMessage(this.messages, message);\n      }\n\n      if (allow && this.preventDuplicates) {\n        allow = !this.containsMessage(this.messagesArchieve, message);\n      }\n\n      return allow;\n    }\n  }, {\n    key: \"containsMessage\",\n    value: function containsMessage(collection, message) {\n      if (!collection) {\n        return false;\n      }\n\n      return collection.find(function (m) {\n        return m.summary === message.summary && m.detail == message.detail && m.severity === message.severity;\n      }) != null;\n    }\n  }, {\n    key: \"ngAfterContentInit\",\n    value: function ngAfterContentInit() {\n      var _this3 = this;\n\n      this.templates.forEach(function (item) {\n        switch (item.getType()) {\n          case 'message':\n            _this3.template = item.template;\n            break;\n\n          default:\n            _this3.template = item.template;\n            break;\n        }\n      });\n    }\n  }, {\n    key: \"onMessageClose\",\n    value: function onMessageClose(event) {\n      this.messages.splice(event.index, 1);\n      this.onClose.emit({\n        message: event.message\n      });\n      this.cd.detectChanges();\n    }\n  }, {\n    key: \"onAnimationStart\",\n    value: function onAnimationStart(event) {\n      if (event.fromState === 'void' && this.autoZIndex) {\n        this.containerViewChild.nativeElement.style.zIndex = String(this.baseZIndex + ++DomHandler.zindex);\n      }\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      if (this.messageSubscription) {\n        this.messageSubscription.unsubscribe();\n      }\n\n      if (this.clearSubscription) {\n        this.clearSubscription.unsubscribe();\n      }\n    }\n  }]);\n\n  return Toast;\n}();\n\nToast.decorators = [{\n  type: Component,\n  args: [{\n    selector: 'p-toast',\n    template: \"\\n        <div #container [ngClass]=\\\"'p-toast p-component p-toast-' + position\\\" [ngStyle]=\\\"style\\\" [class]=\\\"styleClass\\\">\\n            <p-toastItem *ngFor=\\\"let msg of messages; let i=index\\\" [message]=\\\"msg\\\" [index]=\\\"i\\\" (onClose)=\\\"onMessageClose($event)\\\"\\n                    [template]=\\\"template\\\" @toastAnimation (@toastAnimation.start)=\\\"onAnimationStart($event)\\\" \\n                    [showTransformOptions]=\\\"showTransformOptions\\\" [hideTransformOptions]=\\\"hideTransformOptions\\\" \\n                    [showTransitionOptions]=\\\"showTransitionOptions\\\" [hideTransitionOptions]=\\\"hideTransitionOptions\\\"></p-toastItem>\\n        </div>\\n    \",\n    animations: [trigger('toastAnimation', [transition(':enter, :leave', [query('@*', animateChild())])])],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    styles: [\".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{-ms-flex-align:start;align-items:flex-start;display:-ms-flexbox;display:flex}.p-toast-message-text{-ms-flex:1 1 auto;flex:1 1 auto}.p-toast-top-right{right:20px;top:20px}.p-toast-top-left{left:20px;top:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{left:50%;margin-left:-10em;top:20px}.p-toast-bottom-center{bottom:20px;left:50%;margin-left:-10em}.p-toast-center{-ms-transform:translate(-50%,-50%);left:50%;min-width:20vw;top:50%;transform:translate(-50%,-50%)}.p-toast-icon-close{-ms-flex-align:center;-ms-flex-pack:center;align-items:center;display:-ms-flexbox;display:flex;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\"]\n  }]\n}];\n\nToast.ctorParameters = function () {\n  return [{\n    type: MessageService\n  }, {\n    type: ChangeDetectorRef\n  }];\n};\n\nToast.propDecorators = {\n  key: [{\n    type: Input\n  }],\n  autoZIndex: [{\n    type: Input\n  }],\n  baseZIndex: [{\n    type: Input\n  }],\n  style: [{\n    type: Input\n  }],\n  styleClass: [{\n    type: Input\n  }],\n  position: [{\n    type: Input\n  }],\n  preventOpenDuplicates: [{\n    type: Input\n  }],\n  preventDuplicates: [{\n    type: Input\n  }],\n  showTransformOptions: [{\n    type: Input\n  }],\n  hideTransformOptions: [{\n    type: Input\n  }],\n  showTransitionOptions: [{\n    type: Input\n  }],\n  hideTransitionOptions: [{\n    type: Input\n  }],\n  onClose: [{\n    type: Output\n  }],\n  containerViewChild: [{\n    type: ViewChild,\n    args: ['container']\n  }],\n  templates: [{\n    type: ContentChildren,\n    args: [PrimeTemplate]\n  }]\n};\n\nvar ToastModule = function ToastModule() {\n  _classCallCheck(this, ToastModule);\n};\n\nToastModule.decorators = [{\n  type: NgModule,\n  args: [{\n    imports: [CommonModule, RippleModule],\n    exports: [Toast, SharedModule],\n    declarations: [Toast, ToastItem]\n  }]\n}];\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { Toast, ToastItem, ToastModule };","map":{"version":3,"sources":["../../src/app/components/toast/toast.ts","../../src/app/components/toast/primeng-toast.ts"],"names":[],"mappings":"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","sourcesContent":["import {NgModule,Component,Input,Output,OnInit,AfterViewInit,AfterContentInit,OnDestroy,ElementRef,ViewChild,EventEmitter,ContentChildren,QueryList,TemplateRef,ChangeDetectionStrategy, NgZone, ChangeDetectorRef, ViewEncapsulation} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {Message} from 'primeng/api';\nimport {DomHandler} from 'primeng/dom';\nimport {PrimeTemplate,SharedModule} from 'primeng/api';\nimport {MessageService} from 'primeng/api';\nimport {RippleModule} from 'primeng/ripple';\nimport {Subscription} from 'rxjs';\nimport {trigger,state,style,transition,animate,query,animateChild,AnimationEvent} from '@angular/animations';\n\n@Component({\n    selector: 'p-toastItem',\n    template: `\n        <div #container [attr.id]=\"message.id\" class=\"p-toast-message\" [ngClass]=\"'p-toast-message-' + message.severity\" [@messageState]=\"{value: 'visible', params: {showTransformParams: showTransformOptions, hideTransformParams: hideTransformOptions, showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}\"\n                (mouseenter)=\"onMouseEnter()\" (mouseleave)=\"onMouseLeave()\">\n            <div class=\"p-toast-message-content\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n                <ng-container *ngIf=\"!template\">\n                    <span class=\"p-toast-message-icon pi\" [ngClass]=\"{'pi-info-circle': message.severity == 'info', 'pi-exclamation-triangle': message.severity == 'warn',\n                        'pi-times-circle': message.severity == 'error', 'pi-check' :message.severity == 'success'}\"></span>\n                    <div class=\"p-toast-message-text\">\n                        <div class=\"p-toast-summary\">{{message.summary}}</div>\n                        <div class=\"p-toast-detail\">{{message.detail}}</div>\n                    </div>\n                </ng-container>\n                <button type=\"button\" class=\"p-toast-icon-close p-link\" (click)=\"onCloseIconClick($event)\" (keydown.enter)=\"onCloseIconClick($event)\" *ngIf=\"message.closable !== false\" pRipple>\n                    <span class=\"p-toast-icon-close-icon pi pi-times\"></span>\n                </button>\n                <ng-container *ngTemplateOutlet=\"template; context: {$implicit: message}\"></ng-container>\n            </div>\n        </div>\n    `,\n    animations: [\n        trigger('messageState', [\n            state('visible', style({\n                transform: 'translateY(0)',\n                opacity: 1\n            })),\n            transition('void => *', [\n                style({transform: '{{showTransformParams}}', opacity: 0}),\n                animate('{{showTransitionParams}}')\n            ]),\n            transition('* => void', [\n                animate(('{{hideTransitionParams}}'), style({\n                    height: 0,\n                    opacity: 0,\n                    transform: '{{hideTransformParams}}'\n                }))\n            ])\n        ])\n    ],\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ToastItem implements AfterViewInit, OnDestroy {\n\n    @Input() message: Message;\n\n    @Input() index: number;\n\n    @Input() template: TemplateRef<any>;\n\n    @Input() showTransformOptions: string;\n\n    @Input() hideTransformOptions: string;\n\n    @Input() showTransitionOptions: string;\n\n    @Input() hideTransitionOptions: string;\n\n    @Output() onClose: EventEmitter<any> = new EventEmitter();\n\n    @ViewChild('container') containerViewChild: ElementRef;\n\n    timeout: any;\n\n    constructor(private zone: NgZone) {}\n    \n    ngAfterViewInit() {\n        this.initTimeout();\n    }\n\n    initTimeout() {\n        if (!this.message.sticky) {\n            this.zone.runOutsideAngular(() => {\n                this.timeout = setTimeout(() => {\n                    this.onClose.emit({\n                        index: this.index,\n                        message: this.message\n                    });\n                }, this.message.life || 3000);\n            });\n        }\n    }\n\n    clearTimeout() {\n        if (this.timeout) {\n            clearTimeout(this.timeout);\n            this.timeout = null;\n        }\n    }\n    \n    onMouseEnter() {\n        this.clearTimeout();\n    }\n\n    onMouseLeave() {\n        this.initTimeout();\n    }\n \n    onCloseIconClick(event) {\n        this.clearTimeout();\n        \n        this.onClose.emit({\n            index: this.index,\n            message: this.message\n        });\n\n        event.preventDefault();\n    }\n\n    ngOnDestroy() {\n        this.clearTimeout();\n    }\n}\n\n@Component({\n    selector: 'p-toast',\n    template: `\n        <div #container [ngClass]=\"'p-toast p-component p-toast-' + position\" [ngStyle]=\"style\" [class]=\"styleClass\">\n            <p-toastItem *ngFor=\"let msg of messages; let i=index\" [message]=\"msg\" [index]=\"i\" (onClose)=\"onMessageClose($event)\"\n                    [template]=\"template\" @toastAnimation (@toastAnimation.start)=\"onAnimationStart($event)\" \n                    [showTransformOptions]=\"showTransformOptions\" [hideTransformOptions]=\"hideTransformOptions\" \n                    [showTransitionOptions]=\"showTransitionOptions\" [hideTransitionOptions]=\"hideTransitionOptions\"></p-toastItem>\n        </div>\n    `,\n    animations: [\n        trigger('toastAnimation', [\n            transition(':enter, :leave', [\n                query('@*', animateChild())\n            ])\n        ])\n    ],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    styleUrls: ['./toast.css']\n})\nexport class Toast implements OnInit,AfterContentInit,OnDestroy {\n\n    @Input() key: string;\n\n    @Input() autoZIndex: boolean = true;\n    \n    @Input() baseZIndex: number = 0;\n\n    @Input() style: any;\n        \n    @Input() styleClass: string;\n\n    @Input() position: string = 'top-right';\n\n    @Input() preventOpenDuplicates: boolean = false;\n\n    @Input() preventDuplicates: boolean = false;\n    \n    @Input() showTransformOptions: string = 'translateY(100%)';\n\n    @Input() hideTransformOptions: string = 'translateY(-100%)';\n\n    @Input() showTransitionOptions: string = '300ms ease-out';\n\n    @Input() hideTransitionOptions: string = '250ms ease-in';\n\n    @Output() onClose: EventEmitter<any> = new EventEmitter();\n\n    @ViewChild('container') containerViewChild: ElementRef;\n\n    @ContentChildren(PrimeTemplate) templates: QueryList<any>;\n\n    messageSubscription: Subscription;\n\n    clearSubscription: Subscription;\n\n    messages: Message[];\n\n    messagesArchieve: Message[];\n\n    template: TemplateRef<any>;\n    \n    constructor(public messageService: MessageService, private cd: ChangeDetectorRef) {}\n\n    ngOnInit() {\n        this.messageSubscription = this.messageService.messageObserver.subscribe(messages => {\n            if (messages) {\n                if (messages instanceof Array) {\n                    const filteredMessages = messages.filter(m => this.canAdd(m));\n                    this.add(filteredMessages);\n                }\n                else if (this.canAdd(messages)) {\n                    this.add([messages]);\n                }\n            }\n        });\n\n        this.clearSubscription = this.messageService.clearObserver.subscribe(key => {\n            if (key) {\n                if (this.key === key) {\n                    this.messages = null;\n                }\n            }\n            else {\n                this.messages = null;\n            }\n\n            this.cd.markForCheck();\n        });       \n    }\n\n    add(messages: Message[]): void {\n        this.messages = this.messages ? [...this.messages, ...messages] : [...messages];\n\n        if (this.preventDuplicates) {\n            this.messagesArchieve = this.messagesArchieve ? [...this.messagesArchieve, ...messages] : [...messages];\n        }\n\n        this.cd.markForCheck();\n    }\n\n    canAdd(message: Message): boolean {\n        let allow = this.key === message.key;\n\n        if (allow && this.preventOpenDuplicates) {\n            allow = !this.containsMessage(this.messages, message);\n        }\n\n        if (allow && this.preventDuplicates) {\n            allow = !this.containsMessage(this.messagesArchieve, message);\n        }\n\n        return allow;\n    }\n\n    containsMessage(collection: Message[], message: Message): boolean {\n        if (!collection) {\n            return false;\n        }\n\n        return collection.find(m => {\n           return ((m.summary === message.summary) && (m.detail == message.detail) && (m.severity === message.severity));\n        }) != null;\n    }\n\n    ngAfterContentInit() {\n        this.templates.forEach((item) => {\n            switch(item.getType()) {\n                case 'message':\n                    this.template = item.template;\n                break;\n\n                default:\n                    this.template = item.template;\n                break;\n            }\n        });\n    }\n\n    onMessageClose(event) {\n        this.messages.splice(event.index, 1);\n\n        this.onClose.emit({\n            message: event.message\n        });\n\n        this.cd.detectChanges();\n    }\n\n    onAnimationStart(event: AnimationEvent) {\n        if (event.fromState === 'void' && this.autoZIndex) {\n            this.containerViewChild.nativeElement.style.zIndex = String(this.baseZIndex + (++DomHandler.zindex));\n        }\n    }\n\n    ngOnDestroy() {        \n        if (this.messageSubscription) {\n            this.messageSubscription.unsubscribe();\n        }\n        \n        if (this.clearSubscription) {\n            this.clearSubscription.unsubscribe();\n        }\n    }\n}\n\n@NgModule({\n    imports: [CommonModule,RippleModule],\n    exports: [Toast,SharedModule],\n    declarations: [Toast,ToastItem]\n})\nexport class ToastModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]},"metadata":{},"sourceType":"module"}