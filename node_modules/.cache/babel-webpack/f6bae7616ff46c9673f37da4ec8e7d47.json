{"ast":null,"code":"import _toConsumableArray from \"C:/Documentos/workspaces/isac/frontend-server/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _createForOfIteratorHelper from \"C:/Documentos/workspaces/isac/frontend-server/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _classCallCheck from \"C:/Documentos/workspaces/isac/frontend-server/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Documentos/workspaces/isac/frontend-server/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Injectable, EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, ElementRef, NgZone, ChangeDetectorRef, Input, Output, ViewChild, ContentChildren, Directive, HostListener, Optional, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PrimeTemplate, SharedModule } from 'primeng/api';\nimport { PaginatorModule } from 'primeng/paginator';\nimport { DomHandler } from 'primeng/dom';\nimport { ObjectUtils, FilterUtils } from 'primeng/utils';\nimport { Subject } from 'rxjs';\nimport { CdkVirtualScrollViewport, ScrollingModule } from '@angular/cdk/scrolling';\n\nvar TableService = /*#__PURE__*/function () {\n  function TableService() {\n    _classCallCheck(this, TableService);\n\n    this.sortSource = new Subject();\n    this.selectionSource = new Subject();\n    this.contextMenuSource = new Subject();\n    this.valueSource = new Subject();\n    this.totalRecordsSource = new Subject();\n    this.columnsSource = new Subject();\n    this.sortSource$ = this.sortSource.asObservable();\n    this.selectionSource$ = this.selectionSource.asObservable();\n    this.contextMenuSource$ = this.contextMenuSource.asObservable();\n    this.valueSource$ = this.valueSource.asObservable();\n    this.totalRecordsSource$ = this.totalRecordsSource.asObservable();\n    this.columnsSource$ = this.columnsSource.asObservable();\n  }\n\n  _createClass(TableService, [{\n    key: \"onSort\",\n    value: function onSort(sortMeta) {\n      this.sortSource.next(sortMeta);\n    }\n  }, {\n    key: \"onSelectionChange\",\n    value: function onSelectionChange() {\n      this.selectionSource.next();\n    }\n  }, {\n    key: \"onContextMenu\",\n    value: function onContextMenu(data) {\n      this.contextMenuSource.next(data);\n    }\n  }, {\n    key: \"onValueChange\",\n    value: function onValueChange(value) {\n      this.valueSource.next(value);\n    }\n  }, {\n    key: \"onTotalRecordsChange\",\n    value: function onTotalRecordsChange(value) {\n      this.totalRecordsSource.next(value);\n    }\n  }, {\n    key: \"onColumnsChange\",\n    value: function onColumnsChange(columns) {\n      this.columnsSource.next(columns);\n    }\n  }]);\n\n  return TableService;\n}();\n\nTableService.decorators = [{\n  type: Injectable\n}];\n\nvar Table = /*#__PURE__*/function () {\n  function Table(el, zone, tableService, cd) {\n    _classCallCheck(this, Table);\n\n    this.el = el;\n    this.zone = zone;\n    this.tableService = tableService;\n    this.cd = cd;\n    this.pageLinks = 5;\n    this.alwaysShowPaginator = true;\n    this.paginatorPosition = 'bottom';\n    this.paginatorDropdownScrollHeight = '200px';\n    this.currentPageReportTemplate = '{currentPage} of {totalPages}';\n    this.showPageLinks = true;\n    this.defaultSortOrder = 1;\n    this.sortMode = 'single';\n    this.resetPageOnSort = true;\n    this.selectionChange = new EventEmitter();\n    this.contextMenuSelectionChange = new EventEmitter();\n    this.contextMenuSelectionMode = \"separate\";\n\n    this.rowTrackBy = function (index, item) {\n      return item;\n    };\n\n    this.lazy = false;\n    this.lazyLoadOnInit = true;\n    this.compareSelectionBy = 'deepEquals';\n    this.csvSeparator = ',';\n    this.exportFilename = 'download';\n    this.filters = {};\n    this.filterDelay = 300;\n    this.expandedRowKeys = {};\n    this.editingRowKeys = {};\n    this.rowExpandMode = 'multiple';\n    this.virtualScrollDelay = 150;\n    this.virtualRowHeight = 28;\n    this.columnResizeMode = 'fit';\n    this.loadingIcon = 'pi pi-spinner';\n    this.showLoader = true;\n    this.stateStorage = 'session';\n    this.editMode = 'cell';\n    this.onRowSelect = new EventEmitter();\n    this.onRowUnselect = new EventEmitter();\n    this.onPage = new EventEmitter();\n    this.onSort = new EventEmitter();\n    this.onFilter = new EventEmitter();\n    this.onLazyLoad = new EventEmitter();\n    this.onRowExpand = new EventEmitter();\n    this.onRowCollapse = new EventEmitter();\n    this.onContextMenuSelect = new EventEmitter();\n    this.onColResize = new EventEmitter();\n    this.onColReorder = new EventEmitter();\n    this.onRowReorder = new EventEmitter();\n    this.onEditInit = new EventEmitter();\n    this.onEditComplete = new EventEmitter();\n    this.onEditCancel = new EventEmitter();\n    this.onHeaderCheckboxToggle = new EventEmitter();\n    this.sortFunction = new EventEmitter();\n    this.firstChange = new EventEmitter();\n    this.rowsChange = new EventEmitter();\n    this.onStateSave = new EventEmitter();\n    this.onStateRestore = new EventEmitter();\n    this._value = [];\n    this._totalRecords = 0;\n    this._first = 0;\n    this.selectionKeys = {};\n    this._sortOrder = 1;\n  }\n\n  _createClass(Table, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      if (this.lazy && this.lazyLoadOnInit) {\n        if (!this.virtualScroll) {\n          this.onLazyLoad.emit(this.createLazyLoadMetadata());\n        }\n\n        if (this.restoringFilter) {\n          this.restoringFilter = false;\n        }\n      }\n\n      this.initialized = true;\n    }\n  }, {\n    key: \"ngAfterContentInit\",\n    value: function ngAfterContentInit() {\n      var _this = this;\n\n      this.templates.forEach(function (item) {\n        switch (item.getType()) {\n          case 'caption':\n            _this.captionTemplate = item.template;\n            break;\n\n          case 'header':\n            _this.headerTemplate = item.template;\n            break;\n\n          case 'body':\n            _this.bodyTemplate = item.template;\n            break;\n\n          case 'loadingbody':\n            _this.loadingBodyTemplate = item.template;\n            break;\n\n          case 'footer':\n            _this.footerTemplate = item.template;\n            break;\n\n          case 'summary':\n            _this.summaryTemplate = item.template;\n            break;\n\n          case 'colgroup':\n            _this.colGroupTemplate = item.template;\n            break;\n\n          case 'rowexpansion':\n            _this.expandedRowTemplate = item.template;\n            break;\n\n          case 'frozenrows':\n            _this.frozenRowsTemplate = item.template;\n            break;\n\n          case 'frozenheader':\n            _this.frozenHeaderTemplate = item.template;\n            break;\n\n          case 'frozenbody':\n            _this.frozenBodyTemplate = item.template;\n            break;\n\n          case 'frozenfooter':\n            _this.frozenFooterTemplate = item.template;\n            break;\n\n          case 'frozencolgroup':\n            _this.frozenColGroupTemplate = item.template;\n            break;\n\n          case 'emptymessage':\n            _this.emptyMessageTemplate = item.template;\n            break;\n\n          case 'paginatorleft':\n            _this.paginatorLeftTemplate = item.template;\n            break;\n\n          case 'paginatorright':\n            _this.paginatorRightTemplate = item.template;\n            break;\n        }\n      });\n    }\n  }, {\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      if (this.isStateful() && this.resizableColumns) {\n        this.restoreColumnWidths();\n      }\n    }\n  }, {\n    key: \"clearCache\",\n    value: function clearCache() {\n      if (this.scrollable) {\n        if (this.scrollableViewChild) {\n          this.scrollableViewChild.clearCache();\n        }\n\n        if (this.scrollableFrozenViewChild) {\n          this.scrollableViewChild.clearCache();\n        }\n      }\n    }\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(simpleChange) {\n      if (simpleChange.value) {\n        if (this.isStateful() && !this.stateRestored) {\n          this.restoreState();\n        }\n\n        this._value = simpleChange.value.currentValue;\n\n        if (!this.lazy) {\n          this.clearCache();\n          this.totalRecords = this._value ? this._value.length : 0;\n          if (this.sortMode == 'single' && this.sortField) this.sortSingle();else if (this.sortMode == 'multiple' && this.multiSortMeta) this.sortMultiple();else if (this.hasFilter()) //sort already filters\n            this._filter();\n        }\n\n        this.tableService.onValueChange(simpleChange.value.currentValue);\n      }\n\n      if (simpleChange.columns) {\n        this._columns = simpleChange.columns.currentValue;\n        this.tableService.onColumnsChange(simpleChange.columns.currentValue);\n\n        if (this._columns && this.isStateful() && this.reorderableColumns && !this.columnOrderStateRestored) {\n          this.restoreColumnOrder();\n        }\n      }\n\n      if (simpleChange.sortField) {\n        this._sortField = simpleChange.sortField.currentValue; //avoid triggering lazy load prior to lazy initialization at onInit\n\n        if (!this.lazy || this.initialized) {\n          if (this.sortMode === 'single') {\n            this.sortSingle();\n          }\n        }\n      }\n\n      if (simpleChange.sortOrder) {\n        this._sortOrder = simpleChange.sortOrder.currentValue; //avoid triggering lazy load prior to lazy initialization at onInit\n\n        if (!this.lazy || this.initialized) {\n          if (this.sortMode === 'single') {\n            this.sortSingle();\n          }\n        }\n      }\n\n      if (simpleChange.multiSortMeta) {\n        this._multiSortMeta = simpleChange.multiSortMeta.currentValue;\n\n        if (this.sortMode === 'multiple') {\n          this.sortMultiple();\n        }\n      }\n\n      if (simpleChange.selection) {\n        this._selection = simpleChange.selection.currentValue;\n\n        if (!this.preventSelectionSetterPropagation) {\n          this.updateSelectionKeys();\n          this.tableService.onSelectionChange();\n        }\n\n        this.preventSelectionSetterPropagation = false;\n      }\n    }\n  }, {\n    key: \"updateSelectionKeys\",\n    value: function updateSelectionKeys() {\n      if (this.dataKey && this._selection) {\n        this.selectionKeys = {};\n\n        if (Array.isArray(this._selection)) {\n          var _iterator = _createForOfIteratorHelper(this._selection),\n              _step;\n\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var data = _step.value;\n              this.selectionKeys[String(ObjectUtils.resolveFieldData(data, this.dataKey))] = 1;\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n        } else {\n          this.selectionKeys[String(ObjectUtils.resolveFieldData(this._selection, this.dataKey))] = 1;\n        }\n      }\n    }\n  }, {\n    key: \"onPageChange\",\n    value: function onPageChange(event) {\n      this.first = event.first;\n      this.rows = event.rows;\n\n      if (this.lazy) {\n        this.onLazyLoad.emit(this.createLazyLoadMetadata());\n      }\n\n      this.onPage.emit({\n        first: this.first,\n        rows: this.rows\n      });\n      this.firstChange.emit(this.first);\n      this.rowsChange.emit(this.rows);\n      this.tableService.onValueChange(this.value);\n\n      if (this.isStateful()) {\n        this.saveState();\n      }\n\n      this.anchorRowIndex = null;\n\n      if (this.scrollable) {\n        this.resetScrollTop();\n      }\n    }\n  }, {\n    key: \"sort\",\n    value: function sort(event) {\n      var originalEvent = event.originalEvent;\n\n      if (this.sortMode === 'single') {\n        this._sortOrder = this.sortField === event.field ? this.sortOrder * -1 : this.defaultSortOrder;\n        this._sortField = event.field;\n        this.sortSingle();\n\n        if (this.resetPageOnSort) {\n          this._first = 0;\n          this.firstChange.emit(this._first);\n\n          if (this.scrollable) {\n            this.resetScrollTop();\n          }\n        }\n      }\n\n      if (this.sortMode === 'multiple') {\n        var metaKey = originalEvent.metaKey || originalEvent.ctrlKey;\n        var sortMeta = this.getSortMeta(event.field);\n\n        if (sortMeta) {\n          if (!metaKey) {\n            this._multiSortMeta = [{\n              field: event.field,\n              order: sortMeta.order * -1\n            }];\n\n            if (this.resetPageOnSort) {\n              this._first = 0;\n              this.firstChange.emit(this._first);\n\n              if (this.scrollable) {\n                this.resetScrollTop();\n              }\n            }\n          } else {\n            sortMeta.order = sortMeta.order * -1;\n          }\n        } else {\n          if (!metaKey || !this.multiSortMeta) {\n            this._multiSortMeta = [];\n\n            if (this.resetPageOnSort) {\n              this._first = 0;\n              this.firstChange.emit(this._first);\n            }\n          }\n\n          this._multiSortMeta.push({\n            field: event.field,\n            order: this.defaultSortOrder\n          });\n        }\n\n        this.sortMultiple();\n      }\n\n      if (this.isStateful()) {\n        this.saveState();\n      }\n\n      this.anchorRowIndex = null;\n    }\n  }, {\n    key: \"sortSingle\",\n    value: function sortSingle() {\n      var _this2 = this;\n\n      if (this.sortField && this.sortOrder) {\n        if (this.restoringSort) {\n          this.restoringSort = false;\n        }\n\n        if (this.lazy) {\n          this.onLazyLoad.emit(this.createLazyLoadMetadata());\n        } else if (this.value) {\n          if (this.customSort) {\n            this.sortFunction.emit({\n              data: this.value,\n              mode: this.sortMode,\n              field: this.sortField,\n              order: this.sortOrder\n            });\n          } else {\n            this.value.sort(function (data1, data2) {\n              var value1 = ObjectUtils.resolveFieldData(data1, _this2.sortField);\n              var value2 = ObjectUtils.resolveFieldData(data2, _this2.sortField);\n              var result = null;\n              if (value1 == null && value2 != null) result = -1;else if (value1 != null && value2 == null) result = 1;else if (value1 == null && value2 == null) result = 0;else if (typeof value1 === 'string' && typeof value2 === 'string') result = value1.localeCompare(value2);else result = value1 < value2 ? -1 : value1 > value2 ? 1 : 0;\n              return _this2.sortOrder * result;\n            });\n            this._value = _toConsumableArray(this.value);\n          }\n\n          if (this.hasFilter()) {\n            this._filter();\n          }\n        }\n\n        var sortMeta = {\n          field: this.sortField,\n          order: this.sortOrder\n        };\n        this.onSort.emit(sortMeta);\n        this.tableService.onSort(sortMeta);\n      }\n    }\n  }, {\n    key: \"sortMultiple\",\n    value: function sortMultiple() {\n      var _this3 = this;\n\n      if (this.multiSortMeta) {\n        if (this.lazy) {\n          this.onLazyLoad.emit(this.createLazyLoadMetadata());\n        } else if (this.value) {\n          if (this.customSort) {\n            this.sortFunction.emit({\n              data: this.value,\n              mode: this.sortMode,\n              multiSortMeta: this.multiSortMeta\n            });\n          } else {\n            this.value.sort(function (data1, data2) {\n              return _this3.multisortField(data1, data2, _this3.multiSortMeta, 0);\n            });\n            this._value = _toConsumableArray(this.value);\n          }\n\n          if (this.hasFilter()) {\n            this._filter();\n          }\n        }\n\n        this.onSort.emit({\n          multisortmeta: this.multiSortMeta\n        });\n        this.tableService.onSort(this.multiSortMeta);\n      }\n    }\n  }, {\n    key: \"multisortField\",\n    value: function multisortField(data1, data2, multiSortMeta, index) {\n      var value1 = ObjectUtils.resolveFieldData(data1, multiSortMeta[index].field);\n      var value2 = ObjectUtils.resolveFieldData(data2, multiSortMeta[index].field);\n      var result = null;\n      if (value1 == null && value2 != null) result = -1;else if (value1 != null && value2 == null) result = 1;else if (value1 == null && value2 == null) result = 0;else if (typeof value1 == 'string' || value1 instanceof String) {\n        if (value1.localeCompare && value1 != value2) {\n          return multiSortMeta[index].order * value1.localeCompare(value2);\n        }\n      } else {\n        result = value1 < value2 ? -1 : 1;\n      }\n\n      if (value1 == value2) {\n        return multiSortMeta.length - 1 > index ? this.multisortField(data1, data2, multiSortMeta, index + 1) : 0;\n      }\n\n      return multiSortMeta[index].order * result;\n    }\n  }, {\n    key: \"getSortMeta\",\n    value: function getSortMeta(field) {\n      if (this.multiSortMeta && this.multiSortMeta.length) {\n        for (var i = 0; i < this.multiSortMeta.length; i++) {\n          if (this.multiSortMeta[i].field === field) {\n            return this.multiSortMeta[i];\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"isSorted\",\n    value: function isSorted(field) {\n      if (this.sortMode === 'single') {\n        return this.sortField && this.sortField === field;\n      } else if (this.sortMode === 'multiple') {\n        var sorted = false;\n\n        if (this.multiSortMeta) {\n          for (var i = 0; i < this.multiSortMeta.length; i++) {\n            if (this.multiSortMeta[i].field == field) {\n              sorted = true;\n              break;\n            }\n          }\n        }\n\n        return sorted;\n      }\n    }\n  }, {\n    key: \"handleRowClick\",\n    value: function handleRowClick(event) {\n      var target = event.originalEvent.target;\n      var targetNode = target.nodeName;\n      var parentNode = target.parentElement && target.parentElement.nodeName;\n\n      if (targetNode == 'INPUT' || targetNode == 'BUTTON' || targetNode == 'A' || parentNode == 'INPUT' || parentNode == 'BUTTON' || parentNode == 'A' || DomHandler.hasClass(event.originalEvent.target, 'p-clickable')) {\n        return;\n      }\n\n      if (this.selectionMode) {\n        this.preventSelectionSetterPropagation = true;\n\n        if (this.isMultipleSelectionMode() && event.originalEvent.shiftKey && this.anchorRowIndex != null) {\n          DomHandler.clearSelection();\n\n          if (this.rangeRowIndex != null) {\n            this.clearSelectionRange(event.originalEvent);\n          }\n\n          this.rangeRowIndex = event.rowIndex;\n          this.selectRange(event.originalEvent, event.rowIndex);\n        } else {\n          var rowData = event.rowData;\n          var selected = this.isSelected(rowData);\n          var metaSelection = this.rowTouched ? false : this.metaKeySelection;\n          var dataKeyValue = this.dataKey ? String(ObjectUtils.resolveFieldData(rowData, this.dataKey)) : null;\n          this.anchorRowIndex = event.rowIndex;\n          this.rangeRowIndex = event.rowIndex;\n\n          if (metaSelection) {\n            var metaKey = event.originalEvent.metaKey || event.originalEvent.ctrlKey;\n\n            if (selected && metaKey) {\n              if (this.isSingleSelectionMode()) {\n                this._selection = null;\n                this.selectionKeys = {};\n                this.selectionChange.emit(null);\n              } else {\n                var selectionIndex = this.findIndexInSelection(rowData);\n                this._selection = this.selection.filter(function (val, i) {\n                  return i != selectionIndex;\n                });\n                this.selectionChange.emit(this.selection);\n\n                if (dataKeyValue) {\n                  delete this.selectionKeys[dataKeyValue];\n                }\n              }\n\n              this.onRowUnselect.emit({\n                originalEvent: event.originalEvent,\n                data: rowData,\n                type: 'row'\n              });\n            } else {\n              if (this.isSingleSelectionMode()) {\n                this._selection = rowData;\n                this.selectionChange.emit(rowData);\n\n                if (dataKeyValue) {\n                  this.selectionKeys = {};\n                  this.selectionKeys[dataKeyValue] = 1;\n                }\n              } else if (this.isMultipleSelectionMode()) {\n                if (metaKey) {\n                  this._selection = this.selection || [];\n                } else {\n                  this._selection = [];\n                  this.selectionKeys = {};\n                }\n\n                this._selection = [].concat(_toConsumableArray(this.selection), [rowData]);\n                this.selectionChange.emit(this.selection);\n\n                if (dataKeyValue) {\n                  this.selectionKeys[dataKeyValue] = 1;\n                }\n              }\n\n              this.onRowSelect.emit({\n                originalEvent: event.originalEvent,\n                data: rowData,\n                type: 'row',\n                index: event.rowIndex\n              });\n            }\n          } else {\n            if (this.selectionMode === 'single') {\n              if (selected) {\n                this._selection = null;\n                this.selectionKeys = {};\n                this.selectionChange.emit(this.selection);\n                this.onRowUnselect.emit({\n                  originalEvent: event.originalEvent,\n                  data: rowData,\n                  type: 'row'\n                });\n              } else {\n                this._selection = rowData;\n                this.selectionChange.emit(this.selection);\n                this.onRowSelect.emit({\n                  originalEvent: event.originalEvent,\n                  data: rowData,\n                  type: 'row',\n                  index: event.rowIndex\n                });\n\n                if (dataKeyValue) {\n                  this.selectionKeys = {};\n                  this.selectionKeys[dataKeyValue] = 1;\n                }\n              }\n            } else if (this.selectionMode === 'multiple') {\n              if (selected) {\n                var _selectionIndex = this.findIndexInSelection(rowData);\n\n                this._selection = this.selection.filter(function (val, i) {\n                  return i != _selectionIndex;\n                });\n                this.selectionChange.emit(this.selection);\n                this.onRowUnselect.emit({\n                  originalEvent: event.originalEvent,\n                  data: rowData,\n                  type: 'row'\n                });\n\n                if (dataKeyValue) {\n                  delete this.selectionKeys[dataKeyValue];\n                }\n              } else {\n                this._selection = this.selection ? [].concat(_toConsumableArray(this.selection), [rowData]) : [rowData];\n                this.selectionChange.emit(this.selection);\n                this.onRowSelect.emit({\n                  originalEvent: event.originalEvent,\n                  data: rowData,\n                  type: 'row',\n                  index: event.rowIndex\n                });\n\n                if (dataKeyValue) {\n                  this.selectionKeys[dataKeyValue] = 1;\n                }\n              }\n            }\n          }\n        }\n\n        this.tableService.onSelectionChange();\n\n        if (this.isStateful()) {\n          this.saveState();\n        }\n      }\n\n      this.rowTouched = false;\n    }\n  }, {\n    key: \"handleRowTouchEnd\",\n    value: function handleRowTouchEnd(event) {\n      this.rowTouched = true;\n    }\n  }, {\n    key: \"handleRowRightClick\",\n    value: function handleRowRightClick(event) {\n      if (this.contextMenu) {\n        var rowData = event.rowData;\n\n        if (this.contextMenuSelectionMode === 'separate') {\n          this.contextMenuSelection = rowData;\n          this.contextMenuSelectionChange.emit(rowData);\n          this.onContextMenuSelect.emit({\n            originalEvent: event.originalEvent,\n            data: rowData,\n            index: event.rowIndex\n          });\n          this.contextMenu.show(event.originalEvent);\n          this.tableService.onContextMenu(rowData);\n        } else if (this.contextMenuSelectionMode === 'joint') {\n          this.preventSelectionSetterPropagation = true;\n          var selected = this.isSelected(rowData);\n          var dataKeyValue = this.dataKey ? String(ObjectUtils.resolveFieldData(rowData, this.dataKey)) : null;\n\n          if (!selected) {\n            if (this.isSingleSelectionMode()) {\n              this.selection = rowData;\n              this.selectionChange.emit(rowData);\n            } else if (this.isMultipleSelectionMode()) {\n              this.selection = [rowData];\n              this.selectionChange.emit(this.selection);\n            }\n\n            if (dataKeyValue) {\n              this.selectionKeys[dataKeyValue] = 1;\n            }\n          }\n\n          this.contextMenu.show(event.originalEvent);\n          this.onContextMenuSelect.emit({\n            originalEvent: event,\n            data: rowData,\n            index: event.rowIndex\n          });\n        }\n      }\n    }\n  }, {\n    key: \"selectRange\",\n    value: function selectRange(event, rowIndex) {\n      var rangeStart, rangeEnd;\n\n      if (this.anchorRowIndex > rowIndex) {\n        rangeStart = rowIndex;\n        rangeEnd = this.anchorRowIndex;\n      } else if (this.anchorRowIndex < rowIndex) {\n        rangeStart = this.anchorRowIndex;\n        rangeEnd = rowIndex;\n      } else {\n        rangeStart = rowIndex;\n        rangeEnd = rowIndex;\n      }\n\n      if (this.lazy && this.paginator) {\n        rangeStart -= this.first;\n        rangeEnd -= this.first;\n      }\n\n      for (var i = rangeStart; i <= rangeEnd; i++) {\n        var rangeRowData = this.filteredValue ? this.filteredValue[i] : this.value[i];\n\n        if (!this.isSelected(rangeRowData)) {\n          this._selection = [].concat(_toConsumableArray(this.selection), [rangeRowData]);\n          var dataKeyValue = this.dataKey ? String(ObjectUtils.resolveFieldData(rangeRowData, this.dataKey)) : null;\n\n          if (dataKeyValue) {\n            this.selectionKeys[dataKeyValue] = 1;\n          }\n\n          this.onRowSelect.emit({\n            originalEvent: event,\n            data: rangeRowData,\n            type: 'row'\n          });\n        }\n      }\n\n      this.selectionChange.emit(this.selection);\n    }\n  }, {\n    key: \"clearSelectionRange\",\n    value: function clearSelectionRange(event) {\n      var _this4 = this;\n\n      var rangeStart, rangeEnd;\n\n      if (this.rangeRowIndex > this.anchorRowIndex) {\n        rangeStart = this.anchorRowIndex;\n        rangeEnd = this.rangeRowIndex;\n      } else if (this.rangeRowIndex < this.anchorRowIndex) {\n        rangeStart = this.rangeRowIndex;\n        rangeEnd = this.anchorRowIndex;\n      } else {\n        rangeStart = this.rangeRowIndex;\n        rangeEnd = this.rangeRowIndex;\n      }\n\n      var _loop = function _loop(i) {\n        var rangeRowData = _this4.value[i];\n\n        var selectionIndex = _this4.findIndexInSelection(rangeRowData);\n\n        _this4._selection = _this4.selection.filter(function (val, i) {\n          return i != selectionIndex;\n        });\n        var dataKeyValue = _this4.dataKey ? String(ObjectUtils.resolveFieldData(rangeRowData, _this4.dataKey)) : null;\n\n        if (dataKeyValue) {\n          delete _this4.selectionKeys[dataKeyValue];\n        }\n\n        _this4.onRowUnselect.emit({\n          originalEvent: event,\n          data: rangeRowData,\n          type: 'row'\n        });\n      };\n\n      for (var i = rangeStart; i <= rangeEnd; i++) {\n        _loop(i);\n      }\n    }\n  }, {\n    key: \"isSelected\",\n    value: function isSelected(rowData) {\n      if (rowData && this.selection) {\n        if (this.dataKey) {\n          return this.selectionKeys[ObjectUtils.resolveFieldData(rowData, this.dataKey)] !== undefined;\n        } else {\n          if (this.selection instanceof Array) return this.findIndexInSelection(rowData) > -1;else return this.equals(rowData, this.selection);\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"findIndexInSelection\",\n    value: function findIndexInSelection(rowData) {\n      var index = -1;\n\n      if (this.selection && this.selection.length) {\n        for (var i = 0; i < this.selection.length; i++) {\n          if (this.equals(rowData, this.selection[i])) {\n            index = i;\n            break;\n          }\n        }\n      }\n\n      return index;\n    }\n  }, {\n    key: \"toggleRowWithRadio\",\n    value: function toggleRowWithRadio(event, rowData) {\n      this.preventSelectionSetterPropagation = true;\n\n      if (this.selection != rowData) {\n        this._selection = rowData;\n        this.selectionChange.emit(this.selection);\n        this.onRowSelect.emit({\n          originalEvent: event.originalEvent,\n          index: event.rowIndex,\n          data: rowData,\n          type: 'radiobutton'\n        });\n\n        if (this.dataKey) {\n          this.selectionKeys = {};\n          this.selectionKeys[String(ObjectUtils.resolveFieldData(rowData, this.dataKey))] = 1;\n        }\n      } else {\n        this._selection = null;\n        this.selectionChange.emit(this.selection);\n        this.onRowUnselect.emit({\n          originalEvent: event.originalEvent,\n          index: event.rowIndex,\n          data: rowData,\n          type: 'radiobutton'\n        });\n      }\n\n      this.tableService.onSelectionChange();\n\n      if (this.isStateful()) {\n        this.saveState();\n      }\n    }\n  }, {\n    key: \"toggleRowWithCheckbox\",\n    value: function toggleRowWithCheckbox(event, rowData) {\n      this.selection = this.selection || [];\n      var selected = this.isSelected(rowData);\n      var dataKeyValue = this.dataKey ? String(ObjectUtils.resolveFieldData(rowData, this.dataKey)) : null;\n      this.preventSelectionSetterPropagation = true;\n\n      if (selected) {\n        var selectionIndex = this.findIndexInSelection(rowData);\n        this._selection = this.selection.filter(function (val, i) {\n          return i != selectionIndex;\n        });\n        this.selectionChange.emit(this.selection);\n        this.onRowUnselect.emit({\n          originalEvent: event.originalEvent,\n          index: event.rowIndex,\n          data: rowData,\n          type: 'checkbox'\n        });\n\n        if (dataKeyValue) {\n          delete this.selectionKeys[dataKeyValue];\n        }\n      } else {\n        this._selection = this.selection ? [].concat(_toConsumableArray(this.selection), [rowData]) : [rowData];\n        this.selectionChange.emit(this.selection);\n        this.onRowSelect.emit({\n          originalEvent: event.originalEvent,\n          index: event.rowIndex,\n          data: rowData,\n          type: 'checkbox'\n        });\n\n        if (dataKeyValue) {\n          this.selectionKeys[dataKeyValue] = 1;\n        }\n      }\n\n      this.tableService.onSelectionChange();\n\n      if (this.isStateful()) {\n        this.saveState();\n      }\n    }\n  }, {\n    key: \"toggleRowsWithCheckbox\",\n    value: function toggleRowsWithCheckbox(event, check) {\n      this._selection = check ? this.filteredValue ? this.filteredValue.slice() : this.value.slice() : [];\n      this.preventSelectionSetterPropagation = true;\n      this.updateSelectionKeys();\n      this.selectionChange.emit(this._selection);\n      this.tableService.onSelectionChange();\n      this.onHeaderCheckboxToggle.emit({\n        originalEvent: event,\n        checked: check\n      });\n\n      if (this.isStateful()) {\n        this.saveState();\n      }\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(data1, data2) {\n      return this.compareSelectionBy === 'equals' ? data1 === data2 : ObjectUtils.equals(data1, data2, this.dataKey);\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(value, field, matchMode) {\n      var _this5 = this;\n\n      if (this.filterTimeout) {\n        clearTimeout(this.filterTimeout);\n      }\n\n      if (!this.isFilterBlank(value)) {\n        this.filters[field] = {\n          value: value,\n          matchMode: matchMode\n        };\n      } else if (this.filters[field]) {\n        delete this.filters[field];\n      }\n\n      this.filterTimeout = setTimeout(function () {\n        _this5._filter();\n\n        _this5.filterTimeout = null;\n      }, this.filterDelay);\n      this.anchorRowIndex = null;\n    }\n  }, {\n    key: \"filterGlobal\",\n    value: function filterGlobal(value, matchMode) {\n      this.filter(value, 'global', matchMode);\n    }\n  }, {\n    key: \"isFilterBlank\",\n    value: function isFilterBlank(filter) {\n      if (filter !== null && filter !== undefined) {\n        if (typeof filter === 'string' && filter.trim().length == 0 || filter instanceof Array && filter.length == 0) return true;else return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_filter\",\n    value: function _filter() {\n      if (!this.restoringFilter) {\n        this.first = 0;\n        this.firstChange.emit(this.first);\n      }\n\n      if (this.lazy) {\n        this.onLazyLoad.emit(this.createLazyLoadMetadata());\n      } else {\n        if (!this.value) {\n          return;\n        }\n\n        if (!this.hasFilter()) {\n          this.filteredValue = null;\n\n          if (this.paginator) {\n            this.totalRecords = this.value ? this.value.length : 0;\n          }\n        } else {\n          var globalFilterFieldsArray;\n\n          if (this.filters['global']) {\n            if (!this.columns && !this.globalFilterFields) throw new Error('Global filtering requires dynamic columns or globalFilterFields to be defined.');else globalFilterFieldsArray = this.globalFilterFields || this.columns;\n          }\n\n          this.filteredValue = [];\n\n          for (var i = 0; i < this.value.length; i++) {\n            var localMatch = true;\n            var globalMatch = false;\n            var localFiltered = false;\n\n            for (var prop in this.filters) {\n              if (this.filters.hasOwnProperty(prop) && prop !== 'global') {\n                localFiltered = true;\n                var filterMeta = this.filters[prop];\n                var filterField = prop;\n                var filterValue = filterMeta.value;\n                var filterMatchMode = filterMeta.matchMode || 'startsWith';\n                var dataFieldValue = ObjectUtils.resolveFieldData(this.value[i], filterField);\n                var filterConstraint = FilterUtils[filterMatchMode];\n\n                if (!filterConstraint(dataFieldValue, filterValue, this.filterLocale)) {\n                  localMatch = false;\n                }\n\n                if (!localMatch) {\n                  break;\n                }\n              }\n            }\n\n            if (this.filters['global'] && !globalMatch && globalFilterFieldsArray) {\n              for (var j = 0; j < globalFilterFieldsArray.length; j++) {\n                var globalFilterField = globalFilterFieldsArray[j].field || globalFilterFieldsArray[j];\n                globalMatch = FilterUtils[this.filters['global'].matchMode](ObjectUtils.resolveFieldData(this.value[i], globalFilterField), this.filters['global'].value, this.filterLocale);\n\n                if (globalMatch) {\n                  break;\n                }\n              }\n            }\n\n            var matches = void 0;\n\n            if (this.filters['global']) {\n              matches = localFiltered ? localFiltered && localMatch && globalMatch : globalMatch;\n            } else {\n              matches = localFiltered && localMatch;\n            }\n\n            if (matches) {\n              this.filteredValue.push(this.value[i]);\n            }\n          }\n\n          if (this.filteredValue.length === this.value.length) {\n            this.filteredValue = null;\n          }\n\n          if (this.paginator) {\n            this.totalRecords = this.filteredValue ? this.filteredValue.length : this.value ? this.value.length : 0;\n          }\n        }\n      }\n\n      this.onFilter.emit({\n        filters: this.filters,\n        filteredValue: this.filteredValue || this.value\n      });\n      this.tableService.onValueChange(this.value);\n\n      if (this.isStateful() && !this.restoringFilter) {\n        this.saveState();\n      }\n\n      if (this.restoringFilter) {\n        this.restoringFilter = false;\n      }\n\n      this.cd.markForCheck();\n\n      if (this.scrollable) {\n        this.resetScrollTop();\n      }\n    }\n  }, {\n    key: \"hasFilter\",\n    value: function hasFilter() {\n      var empty = true;\n\n      for (var prop in this.filters) {\n        if (this.filters.hasOwnProperty(prop)) {\n          empty = false;\n          break;\n        }\n      }\n\n      return !empty;\n    }\n  }, {\n    key: \"createLazyLoadMetadata\",\n    value: function createLazyLoadMetadata() {\n      return {\n        first: this.first,\n        rows: this.rows,\n        sortField: this.sortField,\n        sortOrder: this.sortOrder,\n        filters: this.filters,\n        globalFilter: this.filters && this.filters['global'] ? this.filters['global'].value : null,\n        multiSortMeta: this.multiSortMeta\n      };\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this._sortField = null;\n      this._sortOrder = this.defaultSortOrder;\n      this._multiSortMeta = null;\n      this.tableService.onSort(null);\n      this.filteredValue = null;\n      this.filters = {};\n      this.first = 0;\n      this.firstChange.emit(this.first);\n\n      if (this.lazy) {\n        this.onLazyLoad.emit(this.createLazyLoadMetadata());\n      } else {\n        this.totalRecords = this._value ? this._value.length : 0;\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      console.warn(\"reset function is deprecated, use clear instead.\");\n      this.clear();\n    }\n  }, {\n    key: \"exportCSV\",\n    value: function exportCSV(options) {\n      var _this6 = this;\n\n      var data;\n      var csv = '';\n      var columns = this.frozenColumns ? [].concat(_toConsumableArray(this.frozenColumns), _toConsumableArray(this.columns)) : this.columns;\n\n      if (options && options.selectionOnly) {\n        data = this.selection || [];\n      } else {\n        data = this.filteredValue || this.value;\n\n        if (this.frozenValue) {\n          data = data ? [].concat(_toConsumableArray(this.frozenValue), _toConsumableArray(data)) : this.frozenValue;\n        }\n      } //headers\n\n\n      for (var i = 0; i < columns.length; i++) {\n        var column = columns[i];\n\n        if (column.exportable !== false && column.field) {\n          csv += '\"' + (column.header || column.field) + '\"';\n\n          if (i < columns.length - 1) {\n            csv += this.csvSeparator;\n          }\n        }\n      } //body\n\n\n      data.forEach(function (record, i) {\n        csv += '\\n';\n\n        for (var _i = 0; _i < columns.length; _i++) {\n          var _column = columns[_i];\n\n          if (_column.exportable !== false && _column.field) {\n            var cellData = ObjectUtils.resolveFieldData(record, _column.field);\n\n            if (cellData != null) {\n              if (_this6.exportFunction) {\n                cellData = _this6.exportFunction({\n                  data: cellData,\n                  field: _column.field\n                });\n              } else cellData = String(cellData).replace(/\"/g, '\"\"');\n            } else cellData = '';\n\n            csv += '\"' + cellData + '\"';\n\n            if (_i < columns.length - 1) {\n              csv += _this6.csvSeparator;\n            }\n          }\n        }\n      });\n      var blob = new Blob([csv], {\n        type: 'text/csv;charset=utf-8;'\n      });\n\n      if (window.navigator.msSaveOrOpenBlob) {\n        navigator.msSaveOrOpenBlob(blob, this.exportFilename + '.csv');\n      } else {\n        var link = document.createElement(\"a\");\n        link.style.display = 'none';\n        document.body.appendChild(link);\n\n        if (link.download !== undefined) {\n          link.setAttribute('href', URL.createObjectURL(blob));\n          link.setAttribute('download', this.exportFilename + '.csv');\n          link.click();\n        } else {\n          csv = 'data:text/csv;charset=utf-8,' + csv;\n          window.open(encodeURI(csv));\n        }\n\n        document.body.removeChild(link);\n      }\n    }\n  }, {\n    key: \"resetScrollTop\",\n    value: function resetScrollTop() {\n      if (this.virtualScroll) this.scrollToVirtualIndex(0);else this.scrollTo({\n        top: 0\n      });\n    }\n  }, {\n    key: \"scrollToVirtualIndex\",\n    value: function scrollToVirtualIndex(index) {\n      if (this.scrollableViewChild) {\n        this.scrollableViewChild.scrollToVirtualIndex(index);\n      }\n\n      if (this.scrollableFrozenViewChild) {\n        this.scrollableFrozenViewChild.scrollToVirtualIndex(index);\n      }\n    }\n  }, {\n    key: \"scrollTo\",\n    value: function scrollTo(options) {\n      if (this.scrollableViewChild) {\n        this.scrollableViewChild.scrollTo(options);\n      }\n\n      if (this.scrollableFrozenViewChild) {\n        this.scrollableFrozenViewChild.scrollTo(options);\n      }\n    }\n  }, {\n    key: \"updateEditingCell\",\n    value: function updateEditingCell(cell, data, field, index) {\n      this.editingCell = cell;\n      this.editingCellData = data;\n      this.editingCellField = field;\n      this.editingCellRowIndex = index;\n      this.bindDocumentEditListener();\n    }\n  }, {\n    key: \"isEditingCellValid\",\n    value: function isEditingCellValid() {\n      return this.editingCell && DomHandler.find(this.editingCell, '.ng-invalid.ng-dirty').length === 0;\n    }\n  }, {\n    key: \"bindDocumentEditListener\",\n    value: function bindDocumentEditListener() {\n      var _this7 = this;\n\n      if (!this.documentEditListener) {\n        this.documentEditListener = function (event) {\n          if (_this7.editingCell && !_this7.editingCellClick && _this7.isEditingCellValid()) {\n            DomHandler.removeClass(_this7.editingCell, 'p-cell-editing');\n            _this7.editingCell = null;\n\n            _this7.onEditComplete.emit({\n              field: _this7.editingCellField,\n              data: _this7.editingCellData,\n              originalEvent: event,\n              index: _this7.editingCellRowIndex\n            });\n\n            _this7.editingCellField = null;\n            _this7.editingCellData = null;\n            _this7.editingCellRowIndex = null;\n\n            _this7.unbindDocumentEditListener();\n\n            _this7.cd.markForCheck();\n          }\n\n          _this7.editingCellClick = false;\n        };\n\n        document.addEventListener('click', this.documentEditListener);\n      }\n    }\n  }, {\n    key: \"unbindDocumentEditListener\",\n    value: function unbindDocumentEditListener() {\n      if (this.documentEditListener) {\n        document.removeEventListener('click', this.documentEditListener);\n        this.documentEditListener = null;\n      }\n    }\n  }, {\n    key: \"initRowEdit\",\n    value: function initRowEdit(rowData) {\n      var dataKeyValue = String(ObjectUtils.resolveFieldData(rowData, this.dataKey));\n      this.editingRowKeys[dataKeyValue] = true;\n    }\n  }, {\n    key: \"saveRowEdit\",\n    value: function saveRowEdit(rowData, rowElement) {\n      if (DomHandler.find(rowElement, '.ng-invalid.ng-dirty').length === 0) {\n        var dataKeyValue = String(ObjectUtils.resolveFieldData(rowData, this.dataKey));\n        delete this.editingRowKeys[dataKeyValue];\n      }\n    }\n  }, {\n    key: \"cancelRowEdit\",\n    value: function cancelRowEdit(rowData) {\n      var dataKeyValue = String(ObjectUtils.resolveFieldData(rowData, this.dataKey));\n      delete this.editingRowKeys[dataKeyValue];\n    }\n  }, {\n    key: \"toggleRow\",\n    value: function toggleRow(rowData, event) {\n      if (!this.dataKey) {\n        throw new Error('dataKey must be defined to use row expansion');\n      }\n\n      var dataKeyValue = String(ObjectUtils.resolveFieldData(rowData, this.dataKey));\n\n      if (this.expandedRowKeys[dataKeyValue] != null) {\n        delete this.expandedRowKeys[dataKeyValue];\n        this.onRowCollapse.emit({\n          originalEvent: event,\n          data: rowData\n        });\n      } else {\n        if (this.rowExpandMode === 'single') {\n          this.expandedRowKeys = {};\n        }\n\n        this.expandedRowKeys[dataKeyValue] = true;\n        this.onRowExpand.emit({\n          originalEvent: event,\n          data: rowData\n        });\n      }\n\n      if (event) {\n        event.preventDefault();\n      }\n\n      if (this.isStateful()) {\n        this.saveState();\n      }\n    }\n  }, {\n    key: \"isRowExpanded\",\n    value: function isRowExpanded(rowData) {\n      return this.expandedRowKeys[String(ObjectUtils.resolveFieldData(rowData, this.dataKey))] === true;\n    }\n  }, {\n    key: \"isRowEditing\",\n    value: function isRowEditing(rowData) {\n      return this.editingRowKeys[String(ObjectUtils.resolveFieldData(rowData, this.dataKey))] === true;\n    }\n  }, {\n    key: \"isSingleSelectionMode\",\n    value: function isSingleSelectionMode() {\n      return this.selectionMode === 'single';\n    }\n  }, {\n    key: \"isMultipleSelectionMode\",\n    value: function isMultipleSelectionMode() {\n      return this.selectionMode === 'multiple';\n    }\n  }, {\n    key: \"onColumnResizeBegin\",\n    value: function onColumnResizeBegin(event) {\n      var containerLeft = DomHandler.getOffset(this.containerViewChild.nativeElement).left;\n      this.lastResizerHelperX = event.pageX - containerLeft + this.containerViewChild.nativeElement.scrollLeft;\n      this.onColumnResize(event);\n      event.preventDefault();\n    }\n  }, {\n    key: \"onColumnResize\",\n    value: function onColumnResize(event) {\n      var containerLeft = DomHandler.getOffset(this.containerViewChild.nativeElement).left;\n      DomHandler.addClass(this.containerViewChild.nativeElement, 'p-unselectable-text');\n      this.resizeHelperViewChild.nativeElement.style.height = this.containerViewChild.nativeElement.offsetHeight + 'px';\n      this.resizeHelperViewChild.nativeElement.style.top = 0 + 'px';\n      this.resizeHelperViewChild.nativeElement.style.left = event.pageX - containerLeft + this.containerViewChild.nativeElement.scrollLeft + 'px';\n      this.resizeHelperViewChild.nativeElement.style.display = 'block';\n    }\n  }, {\n    key: \"onColumnResizeEnd\",\n    value: function onColumnResizeEnd(event, column) {\n      var delta = this.resizeHelperViewChild.nativeElement.offsetLeft - this.lastResizerHelperX;\n      var columnWidth = column.offsetWidth;\n      var minWidth = parseInt(column.style.minWidth || 15);\n\n      if (columnWidth + delta < minWidth) {\n        delta = minWidth - columnWidth;\n      }\n\n      var newColumnWidth = columnWidth + delta;\n\n      if (newColumnWidth >= minWidth) {\n        if (this.columnResizeMode === 'fit') {\n          var nextColumn = column.nextElementSibling;\n\n          while (!nextColumn.offsetParent) {\n            nextColumn = nextColumn.nextElementSibling;\n          }\n\n          if (nextColumn) {\n            var nextColumnWidth = nextColumn.offsetWidth - delta;\n            var nextColumnMinWidth = nextColumn.style.minWidth || 15;\n\n            if (newColumnWidth > 15 && nextColumnWidth > parseInt(nextColumnMinWidth)) {\n              if (this.scrollable) {\n                var scrollableView = this.findParentScrollableView(column);\n                var scrollableBodyTable = DomHandler.findSingle(scrollableView, '.p-datatable-scrollable-body table');\n                var scrollableHeaderTable = DomHandler.findSingle(scrollableView, 'table.p-datatable-scrollable-header-table');\n                var scrollableFooterTable = DomHandler.findSingle(scrollableView, 'table.p-datatable-scrollable-footer-table');\n                var resizeColumnIndex = DomHandler.index(column);\n                this.resizeColGroup(scrollableHeaderTable, resizeColumnIndex, newColumnWidth, nextColumnWidth);\n                this.resizeColGroup(scrollableBodyTable, resizeColumnIndex, newColumnWidth, nextColumnWidth);\n                this.resizeColGroup(scrollableFooterTable, resizeColumnIndex, newColumnWidth, nextColumnWidth);\n              } else {\n                column.style.width = newColumnWidth + 'px';\n\n                if (nextColumn) {\n                  nextColumn.style.width = nextColumnWidth + 'px';\n                }\n              }\n            }\n          }\n        } else if (this.columnResizeMode === 'expand') {\n          if (newColumnWidth >= minWidth) {\n            if (this.scrollable) {\n              this.setScrollableItemsWidthOnExpandResize(column, newColumnWidth, delta);\n            } else {\n              this.tableViewChild.nativeElement.style.width = this.tableViewChild.nativeElement.offsetWidth + delta + 'px';\n              column.style.width = newColumnWidth + 'px';\n              var containerWidth = this.tableViewChild.nativeElement.style.width;\n              this.containerViewChild.nativeElement.style.width = containerWidth + 'px';\n            }\n          }\n        }\n\n        this.onColResize.emit({\n          element: column,\n          delta: delta\n        });\n\n        if (this.isStateful()) {\n          this.saveState();\n        }\n      }\n\n      this.resizeHelperViewChild.nativeElement.style.display = 'none';\n      DomHandler.removeClass(this.containerViewChild.nativeElement, 'p-unselectable-text');\n    }\n  }, {\n    key: \"setScrollableItemsWidthOnExpandResize\",\n    value: function setScrollableItemsWidthOnExpandResize(column, newColumnWidth, delta) {\n      var scrollableView = column ? this.findParentScrollableView(column) : this.containerViewChild.nativeElement;\n      var scrollableBody = DomHandler.findSingle(scrollableView, '.p-datatable-scrollable-body');\n      var scrollableHeader = DomHandler.findSingle(scrollableView, '.p-datatable-scrollable-header');\n      var scrollableFooter = DomHandler.findSingle(scrollableView, '.p-datatable-scrollable-footer');\n      var scrollableBodyTable = DomHandler.findSingle(scrollableBody, '.p-datatable-scrollable-body table');\n      var scrollableHeaderTable = DomHandler.findSingle(scrollableHeader, 'table.p-datatable-scrollable-header-table');\n      var scrollableFooterTable = DomHandler.findSingle(scrollableFooter, 'table.p-datatable-scrollable-footer-table');\n      var scrollableBodyTableWidth = column ? scrollableBodyTable.offsetWidth + delta : newColumnWidth;\n      var scrollableHeaderTableWidth = column ? scrollableHeaderTable.offsetWidth + delta : newColumnWidth;\n      var isContainerInViewport = this.containerViewChild.nativeElement.offsetWidth >= scrollableBodyTableWidth;\n\n      var setWidth = function setWidth(container, table, width, isContainerInViewport) {\n        if (container && table) {\n          container.style.width = isContainerInViewport ? width + DomHandler.calculateScrollbarWidth(scrollableBody) + 'px' : 'auto';\n          table.style.width = width + 'px';\n        }\n      };\n\n      setWidth(scrollableBody, scrollableBodyTable, scrollableBodyTableWidth, isContainerInViewport);\n      setWidth(scrollableHeader, scrollableHeaderTable, scrollableHeaderTableWidth, isContainerInViewport);\n      setWidth(scrollableFooter, scrollableFooterTable, scrollableHeaderTableWidth, isContainerInViewport);\n\n      if (column) {\n        var resizeColumnIndex = DomHandler.index(column);\n        this.resizeColGroup(scrollableHeaderTable, resizeColumnIndex, newColumnWidth, null);\n        this.resizeColGroup(scrollableBodyTable, resizeColumnIndex, newColumnWidth, null);\n        this.resizeColGroup(scrollableFooterTable, resizeColumnIndex, newColumnWidth, null);\n      }\n    }\n  }, {\n    key: \"findParentScrollableView\",\n    value: function findParentScrollableView(column) {\n      if (column) {\n        var parent = column.parentElement;\n\n        while (parent && !DomHandler.hasClass(parent, 'p-datatable-scrollable-view')) {\n          parent = parent.parentElement;\n        }\n\n        return parent;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"resizeColGroup\",\n    value: function resizeColGroup(table, resizeColumnIndex, newColumnWidth, nextColumnWidth) {\n      if (table) {\n        var colGroup = table.children[0].nodeName === 'COLGROUP' ? table.children[0] : null;\n\n        if (colGroup) {\n          var col = colGroup.children[resizeColumnIndex];\n          var nextCol = col.nextElementSibling;\n          col.style.width = newColumnWidth + 'px';\n\n          if (nextCol && nextColumnWidth) {\n            nextCol.style.width = nextColumnWidth + 'px';\n          }\n        } else {\n          throw \"Scrollable tables require a colgroup to support resizable columns\";\n        }\n      }\n    }\n  }, {\n    key: \"onColumnDragStart\",\n    value: function onColumnDragStart(event, columnElement) {\n      this.reorderIconWidth = DomHandler.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement);\n      this.reorderIconHeight = DomHandler.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement);\n      this.draggedColumn = columnElement;\n      event.dataTransfer.setData('text', 'b'); // For firefox\n    }\n  }, {\n    key: \"onColumnDragEnter\",\n    value: function onColumnDragEnter(event, dropHeader) {\n      if (this.reorderableColumns && this.draggedColumn && dropHeader) {\n        event.preventDefault();\n        var containerOffset = DomHandler.getOffset(this.containerViewChild.nativeElement);\n        var dropHeaderOffset = DomHandler.getOffset(dropHeader);\n\n        if (this.draggedColumn != dropHeader) {\n          var dragIndex = DomHandler.indexWithinGroup(this.draggedColumn, 'preorderablecolumn');\n          var dropIndex = DomHandler.indexWithinGroup(dropHeader, 'preorderablecolumn');\n          var targetLeft = dropHeaderOffset.left - containerOffset.left;\n          var targetTop = containerOffset.top - dropHeaderOffset.top;\n          var columnCenter = dropHeaderOffset.left + dropHeader.offsetWidth / 2;\n          this.reorderIndicatorUpViewChild.nativeElement.style.top = dropHeaderOffset.top - containerOffset.top - (this.reorderIconHeight - 1) + 'px';\n          this.reorderIndicatorDownViewChild.nativeElement.style.top = dropHeaderOffset.top - containerOffset.top + dropHeader.offsetHeight + 'px';\n\n          if (event.pageX > columnCenter) {\n            this.reorderIndicatorUpViewChild.nativeElement.style.left = targetLeft + dropHeader.offsetWidth - Math.ceil(this.reorderIconWidth / 2) + 'px';\n            this.reorderIndicatorDownViewChild.nativeElement.style.left = targetLeft + dropHeader.offsetWidth - Math.ceil(this.reorderIconWidth / 2) + 'px';\n            this.dropPosition = 1;\n          } else {\n            this.reorderIndicatorUpViewChild.nativeElement.style.left = targetLeft - Math.ceil(this.reorderIconWidth / 2) + 'px';\n            this.reorderIndicatorDownViewChild.nativeElement.style.left = targetLeft - Math.ceil(this.reorderIconWidth / 2) + 'px';\n            this.dropPosition = -1;\n          }\n\n          if (dropIndex - dragIndex === 1 && this.dropPosition === -1 || dropIndex - dragIndex === -1 && this.dropPosition === 1) {\n            this.reorderIndicatorUpViewChild.nativeElement.style.display = 'none';\n            this.reorderIndicatorDownViewChild.nativeElement.style.display = 'none';\n          } else {\n            this.reorderIndicatorUpViewChild.nativeElement.style.display = 'block';\n            this.reorderIndicatorDownViewChild.nativeElement.style.display = 'block';\n          }\n        } else {\n          event.dataTransfer.dropEffect = 'none';\n        }\n      }\n    }\n  }, {\n    key: \"onColumnDragLeave\",\n    value: function onColumnDragLeave(event) {\n      if (this.reorderableColumns && this.draggedColumn) {\n        event.preventDefault();\n        this.reorderIndicatorUpViewChild.nativeElement.style.display = 'none';\n        this.reorderIndicatorDownViewChild.nativeElement.style.display = 'none';\n      }\n    }\n  }, {\n    key: \"onColumnDrop\",\n    value: function onColumnDrop(event, dropColumn) {\n      var _this8 = this;\n\n      event.preventDefault();\n\n      if (this.draggedColumn) {\n        var dragIndex = DomHandler.indexWithinGroup(this.draggedColumn, 'preorderablecolumn');\n        var dropIndex = DomHandler.indexWithinGroup(dropColumn, 'preorderablecolumn');\n        var allowDrop = dragIndex != dropIndex;\n\n        if (allowDrop && (dropIndex - dragIndex == 1 && this.dropPosition === -1 || dragIndex - dropIndex == 1 && this.dropPosition === 1)) {\n          allowDrop = false;\n        }\n\n        if (allowDrop && dropIndex < dragIndex && this.dropPosition === 1) {\n          dropIndex = dropIndex + 1;\n        }\n\n        if (allowDrop && dropIndex > dragIndex && this.dropPosition === -1) {\n          dropIndex = dropIndex - 1;\n        }\n\n        if (allowDrop) {\n          ObjectUtils.reorderArray(this.columns, dragIndex, dropIndex);\n          this.onColReorder.emit({\n            dragIndex: dragIndex,\n            dropIndex: dropIndex,\n            columns: this.columns\n          });\n\n          if (this.isStateful()) {\n            this.zone.runOutsideAngular(function () {\n              setTimeout(function () {\n                _this8.saveState();\n              });\n            });\n          }\n        }\n\n        this.reorderIndicatorUpViewChild.nativeElement.style.display = 'none';\n        this.reorderIndicatorDownViewChild.nativeElement.style.display = 'none';\n        this.draggedColumn.draggable = false;\n        this.draggedColumn = null;\n        this.dropPosition = null;\n      }\n    }\n  }, {\n    key: \"onRowDragStart\",\n    value: function onRowDragStart(event, index) {\n      this.rowDragging = true;\n      this.draggedRowIndex = index;\n      event.dataTransfer.setData('text', 'b'); // For firefox\n    }\n  }, {\n    key: \"onRowDragOver\",\n    value: function onRowDragOver(event, index, rowElement) {\n      if (this.rowDragging && this.draggedRowIndex !== index) {\n        var rowY = DomHandler.getOffset(rowElement).top + DomHandler.getWindowScrollTop();\n        var pageY = event.pageY;\n        var rowMidY = rowY + DomHandler.getOuterHeight(rowElement) / 2;\n        var prevRowElement = rowElement.previousElementSibling;\n\n        if (pageY < rowMidY) {\n          DomHandler.removeClass(rowElement, 'p-datatable-dragpoint-bottom');\n          this.droppedRowIndex = index;\n          if (prevRowElement) DomHandler.addClass(prevRowElement, 'p-datatable-dragpoint-bottom');else DomHandler.addClass(rowElement, 'p-datatable-dragpoint-top');\n        } else {\n          if (prevRowElement) DomHandler.removeClass(prevRowElement, 'p-datatable-dragpoint-bottom');else DomHandler.addClass(rowElement, 'p-datatable-dragpoint-top');\n          this.droppedRowIndex = index + 1;\n          DomHandler.addClass(rowElement, 'p-datatable-dragpoint-bottom');\n        }\n      }\n    }\n  }, {\n    key: \"onRowDragLeave\",\n    value: function onRowDragLeave(event, rowElement) {\n      var prevRowElement = rowElement.previousElementSibling;\n\n      if (prevRowElement) {\n        DomHandler.removeClass(prevRowElement, 'p-datatable-dragpoint-bottom');\n      }\n\n      DomHandler.removeClass(rowElement, 'p-datatable-dragpoint-bottom');\n      DomHandler.removeClass(rowElement, 'p-datatable-dragpoint-top');\n    }\n  }, {\n    key: \"onRowDragEnd\",\n    value: function onRowDragEnd(event) {\n      this.rowDragging = false;\n      this.draggedRowIndex = null;\n      this.droppedRowIndex = null;\n    }\n  }, {\n    key: \"onRowDrop\",\n    value: function onRowDrop(event, rowElement) {\n      if (this.droppedRowIndex != null) {\n        var dropIndex = this.draggedRowIndex > this.droppedRowIndex ? this.droppedRowIndex : this.droppedRowIndex === 0 ? 0 : this.droppedRowIndex - 1;\n        ObjectUtils.reorderArray(this.value, this.draggedRowIndex, dropIndex);\n        this.onRowReorder.emit({\n          dragIndex: this.draggedRowIndex,\n          dropIndex: dropIndex\n        });\n      } //cleanup\n\n\n      this.onRowDragLeave(event, rowElement);\n      this.onRowDragEnd(event);\n    }\n  }, {\n    key: \"isEmpty\",\n    value: function isEmpty() {\n      var data = this.filteredValue || this.value;\n      return data == null || data.length == 0;\n    }\n  }, {\n    key: \"getBlockableElement\",\n    value: function getBlockableElement() {\n      return this.el.nativeElement.children[0];\n    }\n  }, {\n    key: \"getStorage\",\n    value: function getStorage() {\n      switch (this.stateStorage) {\n        case 'local':\n          return window.localStorage;\n\n        case 'session':\n          return window.sessionStorage;\n\n        default:\n          throw new Error(this.stateStorage + ' is not a valid value for the state storage, supported values are \"local\" and \"session\".');\n      }\n    }\n  }, {\n    key: \"isStateful\",\n    value: function isStateful() {\n      return this.stateKey != null;\n    }\n  }, {\n    key: \"saveState\",\n    value: function saveState() {\n      var storage = this.getStorage();\n      var state = {};\n\n      if (this.paginator) {\n        state.first = this.first;\n        state.rows = this.rows;\n      }\n\n      if (this.sortField) {\n        state.sortField = this.sortField;\n        state.sortOrder = this.sortOrder;\n      }\n\n      if (this.multiSortMeta) {\n        state.multiSortMeta = this.multiSortMeta;\n      }\n\n      if (this.hasFilter()) {\n        state.filters = this.filters;\n      }\n\n      if (this.resizableColumns) {\n        this.saveColumnWidths(state);\n      }\n\n      if (this.reorderableColumns) {\n        this.saveColumnOrder(state);\n      }\n\n      if (this.selection) {\n        state.selection = this.selection;\n      }\n\n      if (Object.keys(this.expandedRowKeys).length) {\n        state.expandedRowKeys = this.expandedRowKeys;\n      }\n\n      if (Object.keys(state).length) {\n        storage.setItem(this.stateKey, JSON.stringify(state));\n      }\n\n      this.onStateSave.emit(state);\n    }\n  }, {\n    key: \"clearState\",\n    value: function clearState() {\n      var storage = this.getStorage();\n\n      if (this.stateKey) {\n        storage.removeItem(this.stateKey);\n      }\n    }\n  }, {\n    key: \"restoreState\",\n    value: function restoreState() {\n      var _this9 = this;\n\n      var storage = this.getStorage();\n      var stateString = storage.getItem(this.stateKey);\n\n      if (stateString) {\n        var state = JSON.parse(stateString);\n\n        if (this.paginator) {\n          if (this.first !== undefined) {\n            this.first = state.first;\n            this.firstChange.emit(this.first);\n          }\n\n          if (this.rows !== undefined) {\n            this.rows = state.rows;\n            this.rowsChange.emit(this.rows);\n          }\n        }\n\n        if (state.sortField) {\n          this.restoringSort = true;\n          this._sortField = state.sortField;\n          this._sortOrder = state.sortOrder;\n        }\n\n        if (state.multiSortMeta) {\n          this.restoringSort = true;\n          this._multiSortMeta = state.multiSortMeta;\n        }\n\n        if (state.filters) {\n          this.restoringFilter = true;\n          this.filters = state.filters;\n        }\n\n        if (this.resizableColumns) {\n          this.columnWidthsState = state.columnWidths;\n          this.tableWidthState = state.tableWidth;\n        }\n\n        if (state.expandedRowKeys) {\n          this.expandedRowKeys = state.expandedRowKeys;\n        }\n\n        if (state.selection) {\n          Promise.resolve(null).then(function () {\n            return _this9.selectionChange.emit(state.selection);\n          });\n        }\n\n        this.stateRestored = true;\n        this.onStateRestore.emit(state);\n      }\n    }\n  }, {\n    key: \"saveColumnWidths\",\n    value: function saveColumnWidths(state) {\n      var widths = [];\n      var headers = DomHandler.find(this.containerViewChild.nativeElement, '.p-datatable-thead > tr:first-child > th');\n      headers.map(function (header) {\n        return widths.push(DomHandler.getOuterWidth(header));\n      });\n      state.columnWidths = widths.join(',');\n\n      if (this.columnResizeMode === 'expand') {\n        state.tableWidth = this.scrollable ? DomHandler.findSingle(this.containerViewChild.nativeElement, '.p-datatable-scrollable-header-table').style.width : DomHandler.getOuterWidth(this.tableViewChild.nativeElement) + 'px';\n      }\n    }\n  }, {\n    key: \"restoreColumnWidths\",\n    value: function restoreColumnWidths() {\n      if (this.columnWidthsState) {\n        var widths = this.columnWidthsState.split(',');\n\n        if (this.columnResizeMode === 'expand' && this.tableWidthState) {\n          if (this.scrollable) {\n            this.setScrollableItemsWidthOnExpandResize(null, this.tableWidthState, 0);\n          } else {\n            this.tableViewChild.nativeElement.style.width = this.tableWidthState;\n            this.containerViewChild.nativeElement.style.width = this.tableWidthState;\n          }\n        }\n\n        if (this.scrollable) {\n          var headerCols = DomHandler.find(this.containerViewChild.nativeElement, '.p-datatable-scrollable-header-table > colgroup > col');\n          var bodyCols = DomHandler.find(this.containerViewChild.nativeElement, '.p-datatable-scrollable-body table > colgroup > col');\n          headerCols.map(function (col, index) {\n            return col.style.width = widths[index] + 'px';\n          });\n          bodyCols.map(function (col, index) {\n            return col.style.width = widths[index] + 'px';\n          });\n        } else {\n          var headers = DomHandler.find(this.tableViewChild.nativeElement, '.p-datatable-thead > tr:first-child > th');\n          headers.map(function (header, index) {\n            return header.style.width = widths[index] + 'px';\n          });\n        }\n      }\n    }\n  }, {\n    key: \"saveColumnOrder\",\n    value: function saveColumnOrder(state) {\n      if (this.columns) {\n        var columnOrder = [];\n        this.columns.map(function (column) {\n          columnOrder.push(column.field || column.key);\n        });\n        state.columnOrder = columnOrder;\n      }\n    }\n  }, {\n    key: \"restoreColumnOrder\",\n    value: function restoreColumnOrder() {\n      var _this10 = this;\n\n      var storage = this.getStorage();\n      var stateString = storage.getItem(this.stateKey);\n\n      if (stateString) {\n        var state = JSON.parse(stateString);\n        var columnOrder = state.columnOrder;\n\n        if (columnOrder) {\n          var reorderedColumns = [];\n          columnOrder.map(function (key) {\n            return reorderedColumns.push(_this10.findColumnByKey(key));\n          });\n          this.columnOrderStateRestored = true;\n          this.columns = reorderedColumns;\n        }\n      }\n    }\n  }, {\n    key: \"findColumnByKey\",\n    value: function findColumnByKey(key) {\n      if (this.columns) {\n        var _iterator2 = _createForOfIteratorHelper(this.columns),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var col = _step2.value;\n            if (col.key === key || col.field === key) return col;else continue;\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.unbindDocumentEditListener();\n      this.editingCell = null;\n      this.initialized = null;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    },\n    set: function set(val) {\n      this._value = val;\n    }\n  }, {\n    key: \"columns\",\n    get: function get() {\n      return this._columns;\n    },\n    set: function set(cols) {\n      this._columns = cols;\n    }\n  }, {\n    key: \"first\",\n    get: function get() {\n      return this._first;\n    },\n    set: function set(val) {\n      this._first = val;\n    }\n  }, {\n    key: \"rows\",\n    get: function get() {\n      return this._rows;\n    },\n    set: function set(val) {\n      this._rows = val;\n    }\n  }, {\n    key: \"totalRecords\",\n    get: function get() {\n      return this._totalRecords;\n    },\n    set: function set(val) {\n      this._totalRecords = val;\n      this.tableService.onTotalRecordsChange(this._totalRecords);\n    }\n  }, {\n    key: \"sortField\",\n    get: function get() {\n      return this._sortField;\n    },\n    set: function set(val) {\n      this._sortField = val;\n    }\n  }, {\n    key: \"sortOrder\",\n    get: function get() {\n      return this._sortOrder;\n    },\n    set: function set(val) {\n      this._sortOrder = val;\n    }\n  }, {\n    key: \"multiSortMeta\",\n    get: function get() {\n      return this._multiSortMeta;\n    },\n    set: function set(val) {\n      this._multiSortMeta = val;\n    }\n  }, {\n    key: \"selection\",\n    get: function get() {\n      return this._selection;\n    },\n    set: function set(val) {\n      this._selection = val;\n    }\n  }]);\n\n  return Table;\n}();\n\nTable.decorators = [{\n  type: Component,\n  args: [{\n    selector: 'p-table',\n    template: \"\\n        <div #container [ngStyle]=\\\"style\\\" [class]=\\\"styleClass\\\"\\n            [ngClass]=\\\"{'p-datatable p-component': true, \\n                'p-datatable-hoverable-rows': (rowHover||selectionMode),\\n                'p-datatable-auto-layout': autoLayout,\\n                'p-datatable-resizable': resizableColumns,\\n                'p-datatable-resizable-fit': (resizableColumns && columnResizeMode === 'fit'),\\n                'p-datatable-scrollable': scrollable,\\n                'p-datatable-flex-scrollable': (scrollable && scrollHeight === 'flex'),\\n                'p-datatable-responsive': responsive}\\\">\\n            <div class=\\\"p-datatable-loading-overlay p-component-overlay\\\" *ngIf=\\\"loading && showLoader\\\">\\n                <i [class]=\\\"'p-datatable-loading-icon pi-spin ' + loadingIcon\\\"></i>\\n            </div>\\n            <div *ngIf=\\\"captionTemplate\\\" class=\\\"p-datatable-header\\\">\\n                <ng-container *ngTemplateOutlet=\\\"captionTemplate\\\"></ng-container>\\n            </div>\\n            <p-paginator [rows]=\\\"rows\\\" [first]=\\\"first\\\" [totalRecords]=\\\"totalRecords\\\" [pageLinkSize]=\\\"pageLinks\\\" styleClass=\\\"p-paginator-top\\\" [alwaysShow]=\\\"alwaysShowPaginator\\\"\\n                (onPageChange)=\\\"onPageChange($event)\\\" [rowsPerPageOptions]=\\\"rowsPerPageOptions\\\" *ngIf=\\\"paginator && (paginatorPosition === 'top' || paginatorPosition =='both')\\\"\\n                [templateLeft]=\\\"paginatorLeftTemplate\\\" [templateRight]=\\\"paginatorRightTemplate\\\" [dropdownAppendTo]=\\\"paginatorDropdownAppendTo\\\" [dropdownScrollHeight]=\\\"paginatorDropdownScrollHeight\\\"\\n                [currentPageReportTemplate]=\\\"currentPageReportTemplate\\\" [showCurrentPageReport]=\\\"showCurrentPageReport\\\" [showJumpToPageDropdown]=\\\"showJumpToPageDropdown\\\" [showPageLinks]=\\\"showPageLinks\\\"></p-paginator>\\n\\n            <div class=\\\"p-datatable-wrapper\\\" *ngIf=\\\"!scrollable\\\">\\n                <table role=\\\"grid\\\" #table [ngClass]=\\\"tableStyleClass\\\" [ngStyle]=\\\"tableStyle\\\">\\n                    <ng-container *ngTemplateOutlet=\\\"colGroupTemplate; context {$implicit: columns}\\\"></ng-container>\\n                    <thead class=\\\"p-datatable-thead\\\">\\n                        <ng-container *ngTemplateOutlet=\\\"headerTemplate; context: {$implicit: columns}\\\"></ng-container>\\n                    </thead>\\n                    <tbody class=\\\"p-datatable-tbody\\\" [pTableBody]=\\\"columns\\\" [pTableBodyTemplate]=\\\"bodyTemplate\\\"></tbody>\\n                    <tfoot *ngIf=\\\"footerTemplate\\\" class=\\\"p-datatable-tfoot\\\">\\n                        <ng-container *ngTemplateOutlet=\\\"footerTemplate; context {$implicit: columns}\\\"></ng-container>\\n                    </tfoot>\\n                </table>\\n            </div>\\n\\n            <div class=\\\"p-datatable-scrollable-wrapper\\\" *ngIf=\\\"scrollable\\\">\\n               <div class=\\\"p-datatable-scrollable-view p-datatable-frozen-view\\\" *ngIf=\\\"frozenColumns||frozenBodyTemplate\\\" #scrollableFrozenView [pScrollableView]=\\\"frozenColumns\\\" [frozen]=\\\"true\\\" [ngStyle]=\\\"{width: frozenWidth}\\\" [scrollHeight]=\\\"scrollHeight\\\"></div>\\n               <div class=\\\"p-datatable-scrollable-view\\\" #scrollableView [pScrollableView]=\\\"columns\\\" [frozen]=\\\"false\\\" [scrollHeight]=\\\"scrollHeight\\\" [ngStyle]=\\\"{left: frozenWidth, width: 'calc(100% - '+frozenWidth+')'}\\\"></div>\\n            </div>\\n\\n            <p-paginator [rows]=\\\"rows\\\" [first]=\\\"first\\\" [totalRecords]=\\\"totalRecords\\\" [pageLinkSize]=\\\"pageLinks\\\" styleClass=\\\"p-paginator-bottom\\\" [alwaysShow]=\\\"alwaysShowPaginator\\\"\\n                (onPageChange)=\\\"onPageChange($event)\\\" [rowsPerPageOptions]=\\\"rowsPerPageOptions\\\" *ngIf=\\\"paginator && (paginatorPosition === 'bottom' || paginatorPosition =='both')\\\"\\n                [templateLeft]=\\\"paginatorLeftTemplate\\\" [templateRight]=\\\"paginatorRightTemplate\\\" [dropdownAppendTo]=\\\"paginatorDropdownAppendTo\\\" [dropdownScrollHeight]=\\\"paginatorDropdownScrollHeight\\\"\\n                [currentPageReportTemplate]=\\\"currentPageReportTemplate\\\" [showCurrentPageReport]=\\\"showCurrentPageReport\\\" [showJumpToPageDropdown]=\\\"showJumpToPageDropdown\\\" [showPageLinks]=\\\"showPageLinks\\\"></p-paginator>\\n\\n            <div *ngIf=\\\"summaryTemplate\\\" class=\\\"p-datatable-footer\\\">\\n                <ng-container *ngTemplateOutlet=\\\"summaryTemplate\\\"></ng-container>\\n            </div>\\n\\n            <div #resizeHelper class=\\\"p-column-resizer-helper\\\" style=\\\"display:none\\\" *ngIf=\\\"resizableColumns\\\"></div>\\n            <span #reorderIndicatorUp class=\\\"pi pi-arrow-down p-datatable-reorder-indicator-up\\\" style=\\\"display:none\\\" *ngIf=\\\"reorderableColumns\\\"></span>\\n            <span #reorderIndicatorDown class=\\\"pi pi-arrow-up p-datatable-reorder-indicator-down\\\" style=\\\"display:none\\\" *ngIf=\\\"reorderableColumns\\\"></span>\\n        </div>\\n    \",\n    providers: [TableService],\n    changeDetection: ChangeDetectionStrategy.Default,\n    encapsulation: ViewEncapsulation.None,\n    styles: [\".p-datatable{position:relative}.p-datatable table{border-collapse:collapse;table-layout:fixed;width:100%}.p-datatable .p-sortable-column{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;cursor:pointer;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-badge,.p-datatable .p-sortable-column .p-sortable-column-icon{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{-ms-flex-align:center;-ms-flex-pack:center;align-items:center;display:-ms-inline-flexbox;display:inline-flex;justify-content:center}.p-datatable-auto-layout>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable-wrapper{position:relative}.p-datatable-scrollable-footer,.p-datatable-scrollable-header{overflow:hidden}.p-datatable-scrollable-body{overflow:auto;position:relative}.p-datatable-scrollable-body>table>.p-datatable-tbody>tr:first-child>td{border-top:0}.p-datatable-virtual-table{position:absolute}.p-datatable-frozen-view .p-datatable-scrollable-body{overflow:hidden}.p-datatable-frozen-view>.p-datatable-scrollable-body>table>.p-datatable-tbody>tr>td:last-child{border-right:0}.p-datatable-unfrozen-view{position:absolute;top:0}.p-datatable-flex-scrollable,.p-datatable-flex-scrollable .p-datatable-scrollable-view,.p-datatable-flex-scrollable .p-datatable-scrollable-wrapper{-ms-flex:1;-ms-flex-direction:column;display:-ms-flexbox;display:flex;flex:1;flex-direction:column;height:100%}.p-datatable-flex-scrollable .p-datatable-scrollable-body,.p-datatable-flex-scrollable .p-datatable-virtual-scrollable-body{-ms-flex:1;flex:1}.p-datatable-resizable>.p-datatable-wrapper{overflow-x:auto}.p-datatable-resizable .p-datatable-tbody>tr>td,.p-datatable-resizable .p-datatable-tfoot>tr>td,.p-datatable-resizable .p-datatable-thead>tr>th{overflow:hidden;white-space:nowrap}.p-datatable-resizable .p-resizable-column{background-clip:padding-box;position:relative}.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{border:1px solid rgba(0,0,0,0);cursor:col-resize;display:block;height:100%;margin:0;padding:0;position:absolute!important;right:0;top:0;width:.5rem}.p-datatable .p-column-resizer-helper{display:none;position:absolute;width:1px;z-index:10}.p-datatable .p-row-editor-cancel,.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-toggler{-ms-flex-align:center;-ms-flex-pack:center;align-items:center;display:-ms-inline-flexbox;display:inline-flex;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-down,.p-datatable-reorder-indicator-up{display:none;position:absolute}.p-datatable .p-datatable-loading-overlay{-ms-flex-align:center;-ms-flex-pack:center;align-items:center;display:-ms-flexbox;display:flex;justify-content:center;position:absolute;z-index:2}.p-datatable.p-datatable-responsive .p-datatable-tbody>tr>td .p-column-title{display:none}@media screen and (max-width:40em){.p-datatable.p-datatable-responsive .p-datatable-tfoot>tr>td,.p-datatable.p-datatable-responsive .p-datatable-thead>tr>th{display:none!important}.p-datatable.p-datatable-responsive .p-datatable-tbody>tr>td{border:0;clear:left;display:block;float:left;text-align:left;width:100%}.p-datatable.p-datatable-responsive .p-datatable-tbody>tr>td .p-column-title{display:inline-block;font-weight:700;margin:-.4em 1em -.4em -.4rem;min-width:30%;padding:.4rem}}\"]\n  }]\n}];\n\nTable.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }, {\n    type: NgZone\n  }, {\n    type: TableService\n  }, {\n    type: ChangeDetectorRef\n  }];\n};\n\nTable.propDecorators = {\n  frozenColumns: [{\n    type: Input\n  }],\n  frozenValue: [{\n    type: Input\n  }],\n  style: [{\n    type: Input\n  }],\n  styleClass: [{\n    type: Input\n  }],\n  tableStyle: [{\n    type: Input\n  }],\n  tableStyleClass: [{\n    type: Input\n  }],\n  paginator: [{\n    type: Input\n  }],\n  pageLinks: [{\n    type: Input\n  }],\n  rowsPerPageOptions: [{\n    type: Input\n  }],\n  alwaysShowPaginator: [{\n    type: Input\n  }],\n  paginatorPosition: [{\n    type: Input\n  }],\n  paginatorDropdownAppendTo: [{\n    type: Input\n  }],\n  paginatorDropdownScrollHeight: [{\n    type: Input\n  }],\n  currentPageReportTemplate: [{\n    type: Input\n  }],\n  showCurrentPageReport: [{\n    type: Input\n  }],\n  showJumpToPageDropdown: [{\n    type: Input\n  }],\n  showPageLinks: [{\n    type: Input\n  }],\n  defaultSortOrder: [{\n    type: Input\n  }],\n  sortMode: [{\n    type: Input\n  }],\n  resetPageOnSort: [{\n    type: Input\n  }],\n  selectionMode: [{\n    type: Input\n  }],\n  selectionChange: [{\n    type: Output\n  }],\n  contextMenuSelection: [{\n    type: Input\n  }],\n  contextMenuSelectionChange: [{\n    type: Output\n  }],\n  contextMenuSelectionMode: [{\n    type: Input\n  }],\n  dataKey: [{\n    type: Input\n  }],\n  metaKeySelection: [{\n    type: Input\n  }],\n  rowTrackBy: [{\n    type: Input\n  }],\n  lazy: [{\n    type: Input\n  }],\n  lazyLoadOnInit: [{\n    type: Input\n  }],\n  compareSelectionBy: [{\n    type: Input\n  }],\n  csvSeparator: [{\n    type: Input\n  }],\n  exportFilename: [{\n    type: Input\n  }],\n  filters: [{\n    type: Input\n  }],\n  globalFilterFields: [{\n    type: Input\n  }],\n  filterDelay: [{\n    type: Input\n  }],\n  filterLocale: [{\n    type: Input\n  }],\n  expandedRowKeys: [{\n    type: Input\n  }],\n  editingRowKeys: [{\n    type: Input\n  }],\n  rowExpandMode: [{\n    type: Input\n  }],\n  scrollable: [{\n    type: Input\n  }],\n  scrollHeight: [{\n    type: Input\n  }],\n  virtualScroll: [{\n    type: Input\n  }],\n  virtualScrollDelay: [{\n    type: Input\n  }],\n  virtualRowHeight: [{\n    type: Input\n  }],\n  frozenWidth: [{\n    type: Input\n  }],\n  responsive: [{\n    type: Input\n  }],\n  contextMenu: [{\n    type: Input\n  }],\n  resizableColumns: [{\n    type: Input\n  }],\n  columnResizeMode: [{\n    type: Input\n  }],\n  reorderableColumns: [{\n    type: Input\n  }],\n  loading: [{\n    type: Input\n  }],\n  loadingIcon: [{\n    type: Input\n  }],\n  showLoader: [{\n    type: Input\n  }],\n  rowHover: [{\n    type: Input\n  }],\n  customSort: [{\n    type: Input\n  }],\n  autoLayout: [{\n    type: Input\n  }],\n  exportFunction: [{\n    type: Input\n  }],\n  stateKey: [{\n    type: Input\n  }],\n  stateStorage: [{\n    type: Input\n  }],\n  editMode: [{\n    type: Input\n  }],\n  minBufferPx: [{\n    type: Input\n  }],\n  maxBufferPx: [{\n    type: Input\n  }],\n  onRowSelect: [{\n    type: Output\n  }],\n  onRowUnselect: [{\n    type: Output\n  }],\n  onPage: [{\n    type: Output\n  }],\n  onSort: [{\n    type: Output\n  }],\n  onFilter: [{\n    type: Output\n  }],\n  onLazyLoad: [{\n    type: Output\n  }],\n  onRowExpand: [{\n    type: Output\n  }],\n  onRowCollapse: [{\n    type: Output\n  }],\n  onContextMenuSelect: [{\n    type: Output\n  }],\n  onColResize: [{\n    type: Output\n  }],\n  onColReorder: [{\n    type: Output\n  }],\n  onRowReorder: [{\n    type: Output\n  }],\n  onEditInit: [{\n    type: Output\n  }],\n  onEditComplete: [{\n    type: Output\n  }],\n  onEditCancel: [{\n    type: Output\n  }],\n  onHeaderCheckboxToggle: [{\n    type: Output\n  }],\n  sortFunction: [{\n    type: Output\n  }],\n  firstChange: [{\n    type: Output\n  }],\n  rowsChange: [{\n    type: Output\n  }],\n  onStateSave: [{\n    type: Output\n  }],\n  onStateRestore: [{\n    type: Output\n  }],\n  containerViewChild: [{\n    type: ViewChild,\n    args: ['container']\n  }],\n  resizeHelperViewChild: [{\n    type: ViewChild,\n    args: ['resizeHelper']\n  }],\n  reorderIndicatorUpViewChild: [{\n    type: ViewChild,\n    args: ['reorderIndicatorUp']\n  }],\n  reorderIndicatorDownViewChild: [{\n    type: ViewChild,\n    args: ['reorderIndicatorDown']\n  }],\n  tableViewChild: [{\n    type: ViewChild,\n    args: ['table']\n  }],\n  scrollableViewChild: [{\n    type: ViewChild,\n    args: ['scrollableView']\n  }],\n  scrollableFrozenViewChild: [{\n    type: ViewChild,\n    args: ['scrollableFrozenView']\n  }],\n  templates: [{\n    type: ContentChildren,\n    args: [PrimeTemplate]\n  }],\n  value: [{\n    type: Input\n  }],\n  columns: [{\n    type: Input\n  }],\n  first: [{\n    type: Input\n  }],\n  rows: [{\n    type: Input\n  }],\n  totalRecords: [{\n    type: Input\n  }],\n  sortField: [{\n    type: Input\n  }],\n  sortOrder: [{\n    type: Input\n  }],\n  multiSortMeta: [{\n    type: Input\n  }],\n  selection: [{\n    type: Input\n  }]\n};\n\nvar TableBody = /*#__PURE__*/function () {\n  function TableBody(dt, tableService, cd) {\n    var _this11 = this;\n\n    _classCallCheck(this, TableBody);\n\n    this.dt = dt;\n    this.tableService = tableService;\n    this.cd = cd;\n    this.subscription = this.dt.tableService.valueSource$.subscribe(function () {\n      if (_this11.dt.virtualScroll) {\n        _this11.cd.detectChanges();\n      }\n    });\n  }\n\n  _createClass(TableBody, [{\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      if (this.subscription) {\n        this.subscription.unsubscribe();\n      }\n    }\n  }]);\n\n  return TableBody;\n}();\n\nTableBody.decorators = [{\n  type: Component,\n  args: [{\n    selector: '[pTableBody]',\n    template: \"\\n        <ng-container *ngIf=\\\"!dt.expandedRowTemplate && !dt.virtualScroll\\\">\\n            <ng-template ngFor let-rowData let-rowIndex=\\\"index\\\" [ngForOf]=\\\"(dt.paginator && !dt.lazy) ? ((dt.filteredValue||dt.value) | slice:dt.first:(dt.first + dt.rows)) : (dt.filteredValue||dt.value)\\\" [ngForTrackBy]=\\\"dt.rowTrackBy\\\">\\n                <ng-container *ngTemplateOutlet=\\\"template; context: {$implicit: rowData, rowIndex: dt.paginator ? (dt.first + rowIndex) : rowIndex, columns: columns, editing: (dt.editMode === 'row' && dt.isRowEditing(rowData))}\\\"></ng-container>\\n            </ng-template>\\n        </ng-container>\\n        <ng-container *ngIf=\\\"!dt.expandedRowTemplate && dt.virtualScroll\\\">\\n            <ng-template cdkVirtualFor let-rowData let-rowIndex=\\\"index\\\" [cdkVirtualForOf]=\\\"dt.filteredValue||dt.value\\\" [cdkVirtualForTrackBy]=\\\"dt.rowTrackBy\\\" [cdkVirtualForTemplateCacheSize]=\\\"0\\\">\\n                <ng-container *ngTemplateOutlet=\\\"rowData ? template: dt.loadingBodyTemplate; context: {$implicit: rowData, rowIndex: dt.paginator ? (dt.first + rowIndex) : rowIndex, columns: columns, editing: (dt.editMode === 'row' && dt.isRowEditing(rowData))}\\\"></ng-container>\\n            </ng-template>\\n        </ng-container>\\n        <ng-container *ngIf=\\\"dt.expandedRowTemplate\\\">\\n            <ng-template ngFor let-rowData let-rowIndex=\\\"index\\\" [ngForOf]=\\\"(dt.paginator && !dt.lazy) ? ((dt.filteredValue||dt.value) | slice:dt.first:(dt.first + dt.rows)) : (dt.filteredValue||dt.value)\\\" [ngForTrackBy]=\\\"dt.rowTrackBy\\\">\\n                <ng-container *ngTemplateOutlet=\\\"template; context: {$implicit: rowData, rowIndex: dt.paginator ? (dt.first + rowIndex) : rowIndex, columns: columns, expanded: dt.isRowExpanded(rowData), editing: (dt.editMode === 'row' && dt.isRowEditing(rowData))}\\\"></ng-container>\\n                <ng-container *ngIf=\\\"dt.isRowExpanded(rowData)\\\">\\n                    <ng-container *ngTemplateOutlet=\\\"dt.expandedRowTemplate; context: {$implicit: rowData, rowIndex: dt.paginator ? (dt.first + rowIndex) : rowIndex, columns: columns}\\\"></ng-container>\\n                </ng-container>\\n            </ng-template>\\n        </ng-container>\\n        <ng-container *ngIf=\\\"dt.loading\\\">\\n            <ng-container *ngTemplateOutlet=\\\"dt.loadingBodyTemplate; context: {$implicit: columns, frozen: frozen}\\\"></ng-container>\\n        </ng-container>\\n        <ng-container *ngIf=\\\"dt.isEmpty() && !dt.loading\\\">\\n            <ng-container *ngTemplateOutlet=\\\"dt.emptyMessageTemplate; context: {$implicit: columns, frozen: frozen}\\\"></ng-container>\\n        </ng-container>\\n    \",\n    changeDetection: ChangeDetectionStrategy.Default,\n    encapsulation: ViewEncapsulation.None\n  }]\n}];\n\nTableBody.ctorParameters = function () {\n  return [{\n    type: Table\n  }, {\n    type: TableService\n  }, {\n    type: ChangeDetectorRef\n  }];\n};\n\nTableBody.propDecorators = {\n  columns: [{\n    type: Input,\n    args: [\"pTableBody\"]\n  }],\n  template: [{\n    type: Input,\n    args: [\"pTableBodyTemplate\"]\n  }],\n  frozen: [{\n    type: Input\n  }]\n};\n\nvar ScrollableView = /*#__PURE__*/function () {\n  function ScrollableView(dt, el, zone) {\n    _classCallCheck(this, ScrollableView);\n\n    this.dt = dt;\n    this.el = el;\n    this.zone = zone;\n    this.loadedPages = [];\n  }\n\n  _createClass(ScrollableView, [{\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      if (!this.frozen) {\n        if (this.dt.frozenColumns || this.dt.frozenBodyTemplate) {\n          DomHandler.addClass(this.el.nativeElement, 'p-datatable-unfrozen-view');\n        }\n\n        var frozenView = this.el.nativeElement.previousElementSibling;\n\n        if (frozenView) {\n          if (this.dt.virtualScroll) this.frozenSiblingBody = DomHandler.findSingle(frozenView, '.p-datatabe-virtual-scrollable-body');else this.frozenSiblingBody = DomHandler.findSingle(frozenView, '.p-datatable-scrollable-body');\n        }\n\n        var scrollBarWidth = DomHandler.calculateScrollbarWidth();\n        this.scrollHeaderBoxViewChild.nativeElement.style.paddingRight = scrollBarWidth + 'px';\n\n        if (this.scrollFooterBoxViewChild && this.scrollFooterBoxViewChild.nativeElement) {\n          this.scrollFooterBoxViewChild.nativeElement.style.paddingRight = scrollBarWidth + 'px';\n        }\n      } else {\n        if (this.scrollableAlignerViewChild && this.scrollableAlignerViewChild.nativeElement) {\n          this.scrollableAlignerViewChild.nativeElement.style.height = DomHandler.calculateScrollbarHeight() + 'px';\n        }\n      }\n\n      this.bindEvents();\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var _this12 = this;\n\n      this.zone.runOutsideAngular(function () {\n        if (_this12.scrollHeaderViewChild && _this12.scrollHeaderViewChild.nativeElement) {\n          _this12.headerScrollListener = _this12.onHeaderScroll.bind(_this12);\n\n          _this12.scrollHeaderViewChild.nativeElement.addEventListener('scroll', _this12.headerScrollListener);\n        }\n\n        if (_this12.scrollFooterViewChild && _this12.scrollFooterViewChild.nativeElement) {\n          _this12.footerScrollListener = _this12.onFooterScroll.bind(_this12);\n\n          _this12.scrollFooterViewChild.nativeElement.addEventListener('scroll', _this12.footerScrollListener);\n        }\n\n        if (!_this12.frozen) {\n          _this12.bodyScrollListener = _this12.onBodyScroll.bind(_this12);\n          if (_this12.dt.virtualScroll) _this12.virtualScrollBody.getElementRef().nativeElement.addEventListener('scroll', _this12.bodyScrollListener);else _this12.scrollBodyViewChild.nativeElement.addEventListener('scroll', _this12.bodyScrollListener);\n        }\n      });\n    }\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {\n      if (this.scrollHeaderViewChild && this.scrollHeaderViewChild.nativeElement) {\n        this.scrollHeaderViewChild.nativeElement.removeEventListener('scroll', this.headerScrollListener);\n      }\n\n      if (this.scrollFooterViewChild && this.scrollFooterViewChild.nativeElement) {\n        this.scrollFooterViewChild.nativeElement.removeEventListener('scroll', this.footerScrollListener);\n      }\n\n      if (this.scrollBodyViewChild && this.scrollBodyViewChild.nativeElement) {\n        this.scrollBodyViewChild.nativeElement.removeEventListener('scroll', this.bodyScrollListener);\n      }\n\n      if (this.virtualScrollBody && this.virtualScrollBody.getElementRef()) {\n        this.virtualScrollBody.getElementRef().nativeElement.removeEventListener('scroll', this.bodyScrollListener);\n      }\n    }\n  }, {\n    key: \"onHeaderScroll\",\n    value: function onHeaderScroll() {\n      var scrollLeft = this.scrollHeaderViewChild.nativeElement.scrollLeft;\n      this.scrollBodyViewChild.nativeElement.scrollLeft = scrollLeft;\n\n      if (this.scrollFooterViewChild && this.scrollFooterViewChild.nativeElement) {\n        this.scrollFooterViewChild.nativeElement.scrollLeft = scrollLeft;\n      }\n\n      this.preventBodyScrollPropagation = true;\n    }\n  }, {\n    key: \"onFooterScroll\",\n    value: function onFooterScroll() {\n      var scrollLeft = this.scrollFooterViewChild.nativeElement.scrollLeft;\n      this.scrollBodyViewChild.nativeElement.scrollLeft = scrollLeft;\n\n      if (this.scrollHeaderViewChild && this.scrollHeaderViewChild.nativeElement) {\n        this.scrollHeaderViewChild.nativeElement.scrollLeft = scrollLeft;\n      }\n\n      this.preventBodyScrollPropagation = true;\n    }\n  }, {\n    key: \"onBodyScroll\",\n    value: function onBodyScroll(event) {\n      if (this.preventBodyScrollPropagation) {\n        this.preventBodyScrollPropagation = false;\n        return;\n      }\n\n      if (this.scrollHeaderViewChild && this.scrollHeaderViewChild.nativeElement) {\n        this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft = -1 * event.target.scrollLeft + 'px';\n      }\n\n      if (this.scrollFooterViewChild && this.scrollFooterViewChild.nativeElement) {\n        this.scrollFooterBoxViewChild.nativeElement.style.marginLeft = -1 * event.target.scrollLeft + 'px';\n      }\n\n      if (this.frozenSiblingBody) {\n        this.frozenSiblingBody.scrollTop = event.target.scrollTop;\n      }\n    }\n  }, {\n    key: \"onScrollIndexChange\",\n    value: function onScrollIndexChange(index) {\n      var _this13 = this;\n\n      if (this.dt.lazy) {\n        var pageRange = this.createPageRange(Math.floor(index / this.dt.rows));\n        pageRange.forEach(function (page) {\n          return _this13.loadPage(page);\n        });\n      }\n    }\n  }, {\n    key: \"createPageRange\",\n    value: function createPageRange(page) {\n      var range = [];\n\n      if (page !== 0) {\n        range.push(page - 1);\n      }\n\n      range.push(page);\n\n      if (page !== this.getPageCount() - 1) {\n        range.push(page + 1);\n      }\n\n      return range;\n    }\n  }, {\n    key: \"loadPage\",\n    value: function loadPage(page) {\n      if (!this.loadedPages.includes(page)) {\n        this.dt.onLazyLoad.emit({\n          first: this.dt.rows * page,\n          rows: this.dt.rows,\n          sortField: this.dt.sortField,\n          sortOrder: this.dt.sortOrder,\n          filters: this.dt.filters,\n          globalFilter: this.dt.filters && this.dt.filters['global'] ? this.dt.filters['global'].value : null,\n          multiSortMeta: this.dt.multiSortMeta\n        });\n        this.loadedPages.push(page);\n      }\n    }\n  }, {\n    key: \"clearCache\",\n    value: function clearCache() {\n      this.loadedPages = [];\n    }\n  }, {\n    key: \"getPageCount\",\n    value: function getPageCount() {\n      var dataToRender = this.dt.filteredValue || this.dt.value;\n      var dataLength = dataToRender ? dataToRender.length : 0;\n      return Math.ceil(dataLength / this.dt.rows);\n    }\n  }, {\n    key: \"scrollToVirtualIndex\",\n    value: function scrollToVirtualIndex(index) {\n      if (this.virtualScrollBody) {\n        this.virtualScrollBody.scrollToIndex(index);\n      }\n    }\n  }, {\n    key: \"scrollTo\",\n    value: function scrollTo(options) {\n      if (this.virtualScrollBody) {\n        this.virtualScrollBody.scrollTo(options);\n      } else {\n        if (this.scrollBodyViewChild.nativeElement.scrollTo) {\n          this.scrollBodyViewChild.nativeElement.scrollTo(options);\n        } else {\n          this.scrollBodyViewChild.nativeElement.scrollLeft = options.left;\n          this.scrollBodyViewChild.nativeElement.scrollTop = options.top;\n        }\n      }\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.unbindEvents();\n      this.frozenSiblingBody = null;\n    }\n  }, {\n    key: \"scrollHeight\",\n    get: function get() {\n      return this._scrollHeight;\n    },\n    set: function set(val) {\n      this._scrollHeight = val;\n\n      if (val != null && (val.includes('%') || val.includes('calc'))) {\n        console.log('Percentage scroll height calculation is removed in favor of the more performant CSS based flex mode, use scrollHeight=\"flex\" instead.');\n      }\n    }\n  }]);\n\n  return ScrollableView;\n}();\n\nScrollableView.decorators = [{\n  type: Component,\n  args: [{\n    selector: '[pScrollableView]',\n    template: \"\\n        <div #scrollHeader class=\\\"p-datatable-scrollable-header\\\">\\n            <div #scrollHeaderBox class=\\\"p-datatable-scrollable-header-box\\\">\\n                <table class=\\\"p-datatable-scrollable-header-table\\\" [ngClass]=\\\"dt.tableStyleClass\\\" [ngStyle]=\\\"dt.tableStyle\\\">\\n                    <ng-container *ngTemplateOutlet=\\\"frozen ? dt.frozenColGroupTemplate||dt.colGroupTemplate : dt.colGroupTemplate; context {$implicit: columns}\\\"></ng-container>\\n                    <thead class=\\\"p-datatable-thead\\\">\\n                        <ng-container *ngTemplateOutlet=\\\"frozen ? dt.frozenHeaderTemplate||dt.headerTemplate : dt.headerTemplate; context {$implicit: columns}\\\"></ng-container>\\n                    </thead>\\n                    <tbody class=\\\"p-datatable-tbody\\\">\\n                        <ng-template ngFor let-rowData let-rowIndex=\\\"index\\\" [ngForOf]=\\\"dt.frozenValue\\\" [ngForTrackBy]=\\\"dt.rowTrackBy\\\">\\n                            <ng-container *ngTemplateOutlet=\\\"dt.frozenRowsTemplate; context: {$implicit: rowData, rowIndex: rowIndex, columns: columns}\\\"></ng-container>\\n                        </ng-template>\\n                    </tbody>\\n                </table>\\n            </div>\\n        </div>\\n        <ng-container *ngIf=\\\"!dt.virtualScroll; else virtualScrollTemplate\\\">\\n            <div #scrollBody class=\\\"p-datatable-scrollable-body\\\" [ngStyle]=\\\"{'max-height': dt.scrollHeight !== 'flex' ? scrollHeight : undefined}\\\">\\n                <table #scrollTable [class]=\\\"dt.tableStyleClass\\\" [ngStyle]=\\\"dt.tableStyle\\\">\\n                    <ng-container *ngTemplateOutlet=\\\"frozen ? dt.frozenColGroupTemplate||dt.colGroupTemplate : dt.colGroupTemplate; context {$implicit: columns}\\\"></ng-container>\\n                    <tbody class=\\\"p-datatable-tbody\\\" [pTableBody]=\\\"columns\\\" [pTableBodyTemplate]=\\\"frozen ? dt.frozenBodyTemplate||dt.bodyTemplate : dt.bodyTemplate\\\" [frozen]=\\\"frozen\\\"></tbody>\\n                </table>\\n                <div #scrollableAligner style=\\\"background-color:transparent\\\" *ngIf=\\\"frozen\\\"></div>\\n            </div>\\n        </ng-container>\\n        <ng-template #virtualScrollTemplate>\\n            <cdk-virtual-scroll-viewport [itemSize]=\\\"dt.virtualRowHeight\\\" [style.height]=\\\"dt.scrollHeight !== 'flex' ? scrollHeight : undefined\\\" \\n                    [minBufferPx]=\\\"dt.minBufferPx\\\" [maxBufferPx]=\\\"dt.maxBufferPx\\\" (scrolledIndexChange)=\\\"onScrollIndexChange($event)\\\" class=\\\"p-datatable-virtual-scrollable-body\\\">\\n                <table #scrollTable [class]=\\\"dt.tableStyleClass\\\" [ngStyle]=\\\"dt.tableStyle\\\">\\n                    <ng-container *ngTemplateOutlet=\\\"frozen ? dt.frozenColGroupTemplate||dt.colGroupTemplate : dt.colGroupTemplate; context {$implicit: columns}\\\"></ng-container>\\n                    <tbody class=\\\"p-datatable-tbody\\\" [pTableBody]=\\\"columns\\\" [pTableBodyTemplate]=\\\"frozen ? dt.frozenBodyTemplate||dt.bodyTemplate : dt.bodyTemplate\\\" [frozen]=\\\"frozen\\\"></tbody>\\n                </table>\\n                <div #scrollableAligner style=\\\"background-color:transparent\\\" *ngIf=\\\"frozen\\\"></div>\\n            </cdk-virtual-scroll-viewport>\\n        </ng-template>\\n        <div #scrollFooter class=\\\"p-datatable-scrollable-footer\\\">\\n            <div #scrollFooterBox class=\\\"p-datatable-scrollable-footer-box\\\">\\n                <table class=\\\"p-datatable-scrollable-footer-table\\\" [ngClass]=\\\"dt.tableStyleClass\\\" [ngStyle]=\\\"dt.tableStyle\\\">\\n                    <ng-container *ngTemplateOutlet=\\\"frozen ? dt.frozenColGroupTemplate||dt.colGroupTemplate : dt.colGroupTemplate; context {$implicit: columns}\\\"></ng-container>\\n                    <tfoot class=\\\"p-datatable-tfoot\\\">\\n                        <ng-container *ngTemplateOutlet=\\\"frozen ? dt.frozenFooterTemplate||dt.footerTemplate : dt.footerTemplate; context {$implicit: columns}\\\"></ng-container>\\n                    </tfoot>\\n                </table>\\n            </div>\\n        </div>\\n    \",\n    changeDetection: ChangeDetectionStrategy.Default,\n    encapsulation: ViewEncapsulation.None\n  }]\n}];\n\nScrollableView.ctorParameters = function () {\n  return [{\n    type: Table\n  }, {\n    type: ElementRef\n  }, {\n    type: NgZone\n  }];\n};\n\nScrollableView.propDecorators = {\n  columns: [{\n    type: Input,\n    args: [\"pScrollableView\"]\n  }],\n  frozen: [{\n    type: Input\n  }],\n  scrollHeaderViewChild: [{\n    type: ViewChild,\n    args: ['scrollHeader']\n  }],\n  scrollHeaderBoxViewChild: [{\n    type: ViewChild,\n    args: ['scrollHeaderBox']\n  }],\n  scrollBodyViewChild: [{\n    type: ViewChild,\n    args: ['scrollBody']\n  }],\n  scrollTableViewChild: [{\n    type: ViewChild,\n    args: ['scrollTable']\n  }],\n  scrollFooterViewChild: [{\n    type: ViewChild,\n    args: ['scrollFooter']\n  }],\n  scrollFooterBoxViewChild: [{\n    type: ViewChild,\n    args: ['scrollFooterBox']\n  }],\n  scrollableAlignerViewChild: [{\n    type: ViewChild,\n    args: ['scrollableAligner']\n  }],\n  virtualScrollBody: [{\n    type: ViewChild,\n    args: [CdkVirtualScrollViewport]\n  }],\n  scrollHeight: [{\n    type: Input\n  }]\n};\n\nvar SortableColumn = /*#__PURE__*/function () {\n  function SortableColumn(dt) {\n    var _this14 = this;\n\n    _classCallCheck(this, SortableColumn);\n\n    this.dt = dt;\n\n    if (this.isEnabled()) {\n      this.subscription = this.dt.tableService.sortSource$.subscribe(function (sortMeta) {\n        _this14.updateSortState();\n      });\n    }\n  }\n\n  _createClass(SortableColumn, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      if (this.isEnabled()) {\n        this.updateSortState();\n      }\n    }\n  }, {\n    key: \"updateSortState\",\n    value: function updateSortState() {\n      this.sorted = this.dt.isSorted(this.field);\n      this.sortOrder = this.sorted ? this.dt.sortOrder === 1 ? 'ascending' : 'descending' : 'none';\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(event) {\n      if (this.isEnabled()) {\n        this.updateSortState();\n        this.dt.sort({\n          originalEvent: event,\n          field: this.field\n        });\n        DomHandler.clearSelection();\n      }\n    }\n  }, {\n    key: \"onEnterKey\",\n    value: function onEnterKey(event) {\n      this.onClick(event);\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.pSortableColumnDisabled !== true;\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      if (this.subscription) {\n        this.subscription.unsubscribe();\n      }\n    }\n  }]);\n\n  return SortableColumn;\n}();\n\nSortableColumn.decorators = [{\n  type: Directive,\n  args: [{\n    selector: '[pSortableColumn]',\n    host: {\n      '[class.p-sortable-column]': 'isEnabled()',\n      '[class.p-highlight]': 'sorted',\n      '[attr.tabindex]': 'isEnabled() ? \"0\" : null',\n      '[attr.role]': '\"columnheader\"',\n      '[attr.aria-sort]': 'sortOrder'\n    }\n  }]\n}];\n\nSortableColumn.ctorParameters = function () {\n  return [{\n    type: Table\n  }];\n};\n\nSortableColumn.propDecorators = {\n  field: [{\n    type: Input,\n    args: [\"pSortableColumn\"]\n  }],\n  pSortableColumnDisabled: [{\n    type: Input\n  }],\n  onClick: [{\n    type: HostListener,\n    args: ['click', ['$event']]\n  }],\n  onEnterKey: [{\n    type: HostListener,\n    args: ['keydown.enter', ['$event']]\n  }]\n};\n\nvar SortIcon = /*#__PURE__*/function () {\n  function SortIcon(dt, cd) {\n    var _this15 = this;\n\n    _classCallCheck(this, SortIcon);\n\n    this.dt = dt;\n    this.cd = cd;\n    this.subscription = this.dt.tableService.sortSource$.subscribe(function (sortMeta) {\n      _this15.updateSortState();\n    });\n  }\n\n  _createClass(SortIcon, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.updateSortState();\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(event) {\n      event.preventDefault();\n    }\n  }, {\n    key: \"updateSortState\",\n    value: function updateSortState() {\n      if (this.dt.sortMode === 'single') {\n        this.sortOrder = this.dt.isSorted(this.field) ? this.dt.sortOrder : 0;\n      } else if (this.dt.sortMode === 'multiple') {\n        var sortMeta = this.dt.getSortMeta(this.field);\n        this.sortOrder = sortMeta ? sortMeta.order : 0;\n      }\n\n      this.cd.markForCheck();\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      if (this.subscription) {\n        this.subscription.unsubscribe();\n      }\n    }\n  }]);\n\n  return SortIcon;\n}();\n\nSortIcon.decorators = [{\n  type: Component,\n  args: [{\n    selector: 'p-sortIcon',\n    template: \"\\n        <i class=\\\"p-sortable-column-icon pi pi-fw\\\" [ngClass]=\\\"{'pi-sort-amount-up-alt': sortOrder === 1, 'pi-sort-amount-down': sortOrder === -1, 'pi-sort-alt': sortOrder === 0}\\\"></i>\\n    \",\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n  }]\n}];\n\nSortIcon.ctorParameters = function () {\n  return [{\n    type: Table\n  }, {\n    type: ChangeDetectorRef\n  }];\n};\n\nSortIcon.propDecorators = {\n  field: [{\n    type: Input\n  }]\n};\n\nvar SelectableRow = /*#__PURE__*/function () {\n  function SelectableRow(dt, tableService) {\n    var _this16 = this;\n\n    _classCallCheck(this, SelectableRow);\n\n    this.dt = dt;\n    this.tableService = tableService;\n\n    if (this.isEnabled()) {\n      this.subscription = this.dt.tableService.selectionSource$.subscribe(function () {\n        _this16.selected = _this16.dt.isSelected(_this16.data);\n      });\n    }\n  }\n\n  _createClass(SelectableRow, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      if (this.isEnabled()) {\n        this.selected = this.dt.isSelected(this.data);\n      }\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(event) {\n      if (this.isEnabled()) {\n        this.dt.handleRowClick({\n          originalEvent: event,\n          rowData: this.data,\n          rowIndex: this.index\n        });\n      }\n    }\n  }, {\n    key: \"onTouchEnd\",\n    value: function onTouchEnd(event) {\n      if (this.isEnabled()) {\n        this.dt.handleRowTouchEnd(event);\n      }\n    }\n  }, {\n    key: \"onArrowDownKeyDown\",\n    value: function onArrowDownKeyDown(event) {\n      if (!this.isEnabled()) {\n        return;\n      }\n\n      var row = event.currentTarget;\n      var nextRow = this.findNextSelectableRow(row);\n\n      if (nextRow) {\n        nextRow.focus();\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    key: \"onArrowUpKeyDown\",\n    value: function onArrowUpKeyDown(event) {\n      if (!this.isEnabled()) {\n        return;\n      }\n\n      var row = event.currentTarget;\n      var prevRow = this.findPrevSelectableRow(row);\n\n      if (prevRow) {\n        prevRow.focus();\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    key: \"onEnterKeyDown\",\n    value: function onEnterKeyDown(event) {\n      if (!this.isEnabled()) {\n        return;\n      }\n\n      this.dt.handleRowClick({\n        originalEvent: event,\n        rowData: this.data,\n        rowIndex: this.index\n      });\n    }\n  }, {\n    key: \"findNextSelectableRow\",\n    value: function findNextSelectableRow(row) {\n      var nextRow = row.nextElementSibling;\n\n      if (nextRow) {\n        if (DomHandler.hasClass(nextRow, 'p-datatable-selectable-row')) return nextRow;else return this.findNextSelectableRow(nextRow);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"findPrevSelectableRow\",\n    value: function findPrevSelectableRow(row) {\n      var prevRow = row.previousElementSibling;\n\n      if (prevRow) {\n        if (DomHandler.hasClass(prevRow, 'p-datatable-selectable-row')) return prevRow;else return this.findPrevSelectableRow(prevRow);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.pSelectableRowDisabled !== true;\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      if (this.subscription) {\n        this.subscription.unsubscribe();\n      }\n    }\n  }]);\n\n  return SelectableRow;\n}();\n\nSelectableRow.decorators = [{\n  type: Directive,\n  args: [{\n    selector: '[pSelectableRow]',\n    host: {\n      '[class.p-selectable-row]': 'isEnabled()',\n      '[class.p-highlight]': 'selected',\n      '[attr.tabindex]': 'isEnabled() ? 0 : undefined'\n    }\n  }]\n}];\n\nSelectableRow.ctorParameters = function () {\n  return [{\n    type: Table\n  }, {\n    type: TableService\n  }];\n};\n\nSelectableRow.propDecorators = {\n  data: [{\n    type: Input,\n    args: [\"pSelectableRow\"]\n  }],\n  index: [{\n    type: Input,\n    args: [\"pSelectableRowIndex\"]\n  }],\n  pSelectableRowDisabled: [{\n    type: Input\n  }],\n  onClick: [{\n    type: HostListener,\n    args: ['click', ['$event']]\n  }],\n  onTouchEnd: [{\n    type: HostListener,\n    args: ['touchend', ['$event']]\n  }],\n  onArrowDownKeyDown: [{\n    type: HostListener,\n    args: ['keydown.arrowdown', ['$event']]\n  }],\n  onArrowUpKeyDown: [{\n    type: HostListener,\n    args: ['keydown.arrowup', ['$event']]\n  }],\n  onEnterKeyDown: [{\n    type: HostListener,\n    args: ['keydown.enter', ['$event']]\n  }]\n};\n\nvar SelectableRowDblClick = /*#__PURE__*/function () {\n  function SelectableRowDblClick(dt, tableService) {\n    var _this17 = this;\n\n    _classCallCheck(this, SelectableRowDblClick);\n\n    this.dt = dt;\n    this.tableService = tableService;\n\n    if (this.isEnabled()) {\n      this.subscription = this.dt.tableService.selectionSource$.subscribe(function () {\n        _this17.selected = _this17.dt.isSelected(_this17.data);\n      });\n    }\n  }\n\n  _createClass(SelectableRowDblClick, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      if (this.isEnabled()) {\n        this.selected = this.dt.isSelected(this.data);\n      }\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(event) {\n      if (this.isEnabled()) {\n        this.dt.handleRowClick({\n          originalEvent: event,\n          rowData: this.data,\n          rowIndex: this.index\n        });\n      }\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.pSelectableRowDisabled !== true;\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      if (this.subscription) {\n        this.subscription.unsubscribe();\n      }\n    }\n  }]);\n\n  return SelectableRowDblClick;\n}();\n\nSelectableRowDblClick.decorators = [{\n  type: Directive,\n  args: [{\n    selector: '[pSelectableRowDblClick]',\n    host: {\n      '[class.p-datatable-selectable-row]': 'isEnabled()',\n      '[class.p-highlight]': 'selected'\n    }\n  }]\n}];\n\nSelectableRowDblClick.ctorParameters = function () {\n  return [{\n    type: Table\n  }, {\n    type: TableService\n  }];\n};\n\nSelectableRowDblClick.propDecorators = {\n  data: [{\n    type: Input,\n    args: [\"pSelectableRowDblClick\"]\n  }],\n  index: [{\n    type: Input,\n    args: [\"pSelectableRowIndex\"]\n  }],\n  pSelectableRowDisabled: [{\n    type: Input\n  }],\n  onClick: [{\n    type: HostListener,\n    args: ['dblclick', ['$event']]\n  }]\n};\n\nvar ContextMenuRow = /*#__PURE__*/function () {\n  function ContextMenuRow(dt, tableService, el) {\n    var _this18 = this;\n\n    _classCallCheck(this, ContextMenuRow);\n\n    this.dt = dt;\n    this.tableService = tableService;\n    this.el = el;\n\n    if (this.isEnabled()) {\n      this.subscription = this.dt.tableService.contextMenuSource$.subscribe(function (data) {\n        _this18.selected = _this18.dt.equals(_this18.data, data);\n      });\n    }\n  }\n\n  _createClass(ContextMenuRow, [{\n    key: \"onContextMenu\",\n    value: function onContextMenu(event) {\n      if (this.isEnabled()) {\n        this.dt.handleRowRightClick({\n          originalEvent: event,\n          rowData: this.data,\n          rowIndex: this.index\n        });\n        this.el.nativeElement.focus();\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.pContextMenuRowDisabled !== true;\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      if (this.subscription) {\n        this.subscription.unsubscribe();\n      }\n    }\n  }]);\n\n  return ContextMenuRow;\n}();\n\nContextMenuRow.decorators = [{\n  type: Directive,\n  args: [{\n    selector: '[pContextMenuRow]',\n    host: {\n      '[class.p-highlight-contextmenu]': 'selected',\n      '[attr.tabindex]': 'isEnabled() ? 0 : undefined'\n    }\n  }]\n}];\n\nContextMenuRow.ctorParameters = function () {\n  return [{\n    type: Table\n  }, {\n    type: TableService\n  }, {\n    type: ElementRef\n  }];\n};\n\nContextMenuRow.propDecorators = {\n  data: [{\n    type: Input,\n    args: [\"pContextMenuRow\"]\n  }],\n  index: [{\n    type: Input,\n    args: [\"pContextMenuRowIndex\"]\n  }],\n  pContextMenuRowDisabled: [{\n    type: Input\n  }],\n  onContextMenu: [{\n    type: HostListener,\n    args: ['contextmenu', ['$event']]\n  }]\n};\n\nvar RowToggler = /*#__PURE__*/function () {\n  function RowToggler(dt) {\n    _classCallCheck(this, RowToggler);\n\n    this.dt = dt;\n  }\n\n  _createClass(RowToggler, [{\n    key: \"onClick\",\n    value: function onClick(event) {\n      if (this.isEnabled()) {\n        this.dt.toggleRow(this.data, event);\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.pRowTogglerDisabled !== true;\n    }\n  }]);\n\n  return RowToggler;\n}();\n\nRowToggler.decorators = [{\n  type: Directive,\n  args: [{\n    selector: '[pRowToggler]'\n  }]\n}];\n\nRowToggler.ctorParameters = function () {\n  return [{\n    type: Table\n  }];\n};\n\nRowToggler.propDecorators = {\n  data: [{\n    type: Input,\n    args: ['pRowToggler']\n  }],\n  pRowTogglerDisabled: [{\n    type: Input\n  }],\n  onClick: [{\n    type: HostListener,\n    args: ['click', ['$event']]\n  }]\n};\n\nvar ResizableColumn = /*#__PURE__*/function () {\n  function ResizableColumn(dt, el, zone) {\n    _classCallCheck(this, ResizableColumn);\n\n    this.dt = dt;\n    this.el = el;\n    this.zone = zone;\n  }\n\n  _createClass(ResizableColumn, [{\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      var _this19 = this;\n\n      if (this.isEnabled()) {\n        DomHandler.addClass(this.el.nativeElement, 'p-resizable-column');\n        this.resizer = document.createElement('span');\n        this.resizer.className = 'p-column-resizer';\n        this.el.nativeElement.appendChild(this.resizer);\n        this.zone.runOutsideAngular(function () {\n          _this19.resizerMouseDownListener = _this19.onMouseDown.bind(_this19);\n\n          _this19.resizer.addEventListener('mousedown', _this19.resizerMouseDownListener);\n        });\n      }\n    }\n  }, {\n    key: \"bindDocumentEvents\",\n    value: function bindDocumentEvents() {\n      var _this20 = this;\n\n      this.zone.runOutsideAngular(function () {\n        _this20.documentMouseMoveListener = _this20.onDocumentMouseMove.bind(_this20);\n        document.addEventListener('mousemove', _this20.documentMouseMoveListener);\n        _this20.documentMouseUpListener = _this20.onDocumentMouseUp.bind(_this20);\n        document.addEventListener('mouseup', _this20.documentMouseUpListener);\n      });\n    }\n  }, {\n    key: \"unbindDocumentEvents\",\n    value: function unbindDocumentEvents() {\n      if (this.documentMouseMoveListener) {\n        document.removeEventListener('mousemove', this.documentMouseMoveListener);\n        this.documentMouseMoveListener = null;\n      }\n\n      if (this.documentMouseUpListener) {\n        document.removeEventListener('mouseup', this.documentMouseUpListener);\n        this.documentMouseUpListener = null;\n      }\n    }\n  }, {\n    key: \"onMouseDown\",\n    value: function onMouseDown(event) {\n      if (event.which === 1) {\n        this.dt.onColumnResizeBegin(event);\n        this.bindDocumentEvents();\n      }\n    }\n  }, {\n    key: \"onDocumentMouseMove\",\n    value: function onDocumentMouseMove(event) {\n      this.dt.onColumnResize(event);\n    }\n  }, {\n    key: \"onDocumentMouseUp\",\n    value: function onDocumentMouseUp(event) {\n      this.dt.onColumnResizeEnd(event, this.el.nativeElement);\n      this.unbindDocumentEvents();\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.pResizableColumnDisabled !== true;\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      if (this.resizerMouseDownListener) {\n        this.resizer.removeEventListener('mousedown', this.resizerMouseDownListener);\n      }\n\n      this.unbindDocumentEvents();\n    }\n  }]);\n\n  return ResizableColumn;\n}();\n\nResizableColumn.decorators = [{\n  type: Directive,\n  args: [{\n    selector: '[pResizableColumn]'\n  }]\n}];\n\nResizableColumn.ctorParameters = function () {\n  return [{\n    type: Table\n  }, {\n    type: ElementRef\n  }, {\n    type: NgZone\n  }];\n};\n\nResizableColumn.propDecorators = {\n  pResizableColumnDisabled: [{\n    type: Input\n  }]\n};\n\nvar ReorderableColumn = /*#__PURE__*/function () {\n  function ReorderableColumn(dt, el, zone) {\n    _classCallCheck(this, ReorderableColumn);\n\n    this.dt = dt;\n    this.el = el;\n    this.zone = zone;\n  }\n\n  _createClass(ReorderableColumn, [{\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      if (this.isEnabled()) {\n        this.bindEvents();\n      }\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var _this21 = this;\n\n      this.zone.runOutsideAngular(function () {\n        _this21.mouseDownListener = _this21.onMouseDown.bind(_this21);\n\n        _this21.el.nativeElement.addEventListener('mousedown', _this21.mouseDownListener);\n\n        _this21.dragStartListener = _this21.onDragStart.bind(_this21);\n\n        _this21.el.nativeElement.addEventListener('dragstart', _this21.dragStartListener);\n\n        _this21.dragOverListener = _this21.onDragEnter.bind(_this21);\n\n        _this21.el.nativeElement.addEventListener('dragover', _this21.dragOverListener);\n\n        _this21.dragEnterListener = _this21.onDragEnter.bind(_this21);\n\n        _this21.el.nativeElement.addEventListener('dragenter', _this21.dragEnterListener);\n\n        _this21.dragLeaveListener = _this21.onDragLeave.bind(_this21);\n\n        _this21.el.nativeElement.addEventListener('dragleave', _this21.dragLeaveListener);\n      });\n    }\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {\n      if (this.mouseDownListener) {\n        document.removeEventListener('mousedown', this.mouseDownListener);\n        this.mouseDownListener = null;\n      }\n\n      if (this.dragOverListener) {\n        document.removeEventListener('dragover', this.dragOverListener);\n        this.dragOverListener = null;\n      }\n\n      if (this.dragEnterListener) {\n        document.removeEventListener('dragenter', this.dragEnterListener);\n        this.dragEnterListener = null;\n      }\n\n      if (this.dragEnterListener) {\n        document.removeEventListener('dragenter', this.dragEnterListener);\n        this.dragEnterListener = null;\n      }\n\n      if (this.dragLeaveListener) {\n        document.removeEventListener('dragleave', this.dragLeaveListener);\n        this.dragLeaveListener = null;\n      }\n    }\n  }, {\n    key: \"onMouseDown\",\n    value: function onMouseDown(event) {\n      if (event.target.nodeName === 'INPUT' || event.target.nodeName === 'TEXTAREA' || DomHandler.hasClass(event.target, 'p-column-resizer')) this.el.nativeElement.draggable = false;else this.el.nativeElement.draggable = true;\n    }\n  }, {\n    key: \"onDragStart\",\n    value: function onDragStart(event) {\n      this.dt.onColumnDragStart(event, this.el.nativeElement);\n    }\n  }, {\n    key: \"onDragOver\",\n    value: function onDragOver(event) {\n      event.preventDefault();\n    }\n  }, {\n    key: \"onDragEnter\",\n    value: function onDragEnter(event) {\n      this.dt.onColumnDragEnter(event, this.el.nativeElement);\n    }\n  }, {\n    key: \"onDragLeave\",\n    value: function onDragLeave(event) {\n      this.dt.onColumnDragLeave(event);\n    }\n  }, {\n    key: \"onDrop\",\n    value: function onDrop(event) {\n      if (this.isEnabled()) {\n        this.dt.onColumnDrop(event, this.el.nativeElement);\n      }\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.pReorderableColumnDisabled !== true;\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.unbindEvents();\n    }\n  }]);\n\n  return ReorderableColumn;\n}();\n\nReorderableColumn.decorators = [{\n  type: Directive,\n  args: [{\n    selector: '[pReorderableColumn]'\n  }]\n}];\n\nReorderableColumn.ctorParameters = function () {\n  return [{\n    type: Table\n  }, {\n    type: ElementRef\n  }, {\n    type: NgZone\n  }];\n};\n\nReorderableColumn.propDecorators = {\n  pReorderableColumnDisabled: [{\n    type: Input\n  }],\n  onDrop: [{\n    type: HostListener,\n    args: ['drop', ['$event']]\n  }]\n};\n\nvar EditableColumn = /*#__PURE__*/function () {\n  function EditableColumn(dt, el, zone) {\n    _classCallCheck(this, EditableColumn);\n\n    this.dt = dt;\n    this.el = el;\n    this.zone = zone;\n  }\n\n  _createClass(EditableColumn, [{\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      if (this.isEnabled()) {\n        DomHandler.addClass(this.el.nativeElement, 'p-editable-column');\n      }\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(event) {\n      if (this.isEnabled()) {\n        this.dt.editingCellClick = true;\n\n        if (this.dt.editingCell) {\n          if (this.dt.editingCell !== this.el.nativeElement) {\n            if (!this.dt.isEditingCellValid()) {\n              return;\n            }\n\n            this.closeEditingCell(true, event);\n            this.openCell();\n          }\n        } else {\n          this.openCell();\n        }\n      }\n    }\n  }, {\n    key: \"openCell\",\n    value: function openCell() {\n      var _this22 = this;\n\n      this.dt.updateEditingCell(this.el.nativeElement, this.data, this.field, this.rowIndex);\n      DomHandler.addClass(this.el.nativeElement, 'p-cell-editing');\n      this.dt.onEditInit.emit({\n        field: this.field,\n        data: this.data,\n        index: this.rowIndex\n      });\n      this.zone.runOutsideAngular(function () {\n        setTimeout(function () {\n          var focusCellSelector = _this22.pFocusCellSelector || 'input, textarea, select';\n          var focusableElement = DomHandler.findSingle(_this22.el.nativeElement, focusCellSelector);\n\n          if (focusableElement) {\n            focusableElement.focus();\n          }\n        }, 50);\n      });\n    }\n  }, {\n    key: \"closeEditingCell\",\n    value: function closeEditingCell(completed, event) {\n      if (completed) this.dt.onEditComplete.emit({\n        field: this.dt.editingCellField,\n        data: this.dt.editingCellData,\n        originalEvent: event,\n        index: this.rowIndex\n      });else this.dt.onEditCancel.emit({\n        field: this.dt.editingCellField,\n        data: this.dt.editingCellData,\n        originalEvent: event,\n        index: this.rowIndex\n      });\n      DomHandler.removeClass(this.dt.editingCell, 'p-cell-editing');\n      this.dt.editingCell = null;\n      this.dt.editingCellData = null;\n      this.dt.editingCellField = null;\n      this.dt.unbindDocumentEditListener();\n    }\n  }, {\n    key: \"onEnterKeyDown\",\n    value: function onEnterKeyDown(event) {\n      if (this.isEnabled()) {\n        if (this.dt.isEditingCellValid()) {\n          this.closeEditingCell(true, event);\n        }\n\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"onEscapeKeyDown\",\n    value: function onEscapeKeyDown(event) {\n      if (this.isEnabled()) {\n        if (this.dt.isEditingCellValid()) {\n          this.closeEditingCell(false, event);\n        }\n\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: \"onShiftKeyDown\",\n    value: function onShiftKeyDown(event) {\n      if (this.isEnabled()) {\n        if (event.shiftKey) this.moveToPreviousCell(event);else {\n          this.moveToNextCell(event);\n        }\n      }\n    }\n  }, {\n    key: \"findCell\",\n    value: function findCell(element) {\n      if (element) {\n        var cell = element;\n\n        while (cell && !DomHandler.hasClass(cell, 'p-cell-editing')) {\n          cell = cell.parentElement;\n        }\n\n        return cell;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"moveToPreviousCell\",\n    value: function moveToPreviousCell(event) {\n      var currentCell = this.findCell(event.target);\n\n      if (currentCell) {\n        var targetCell = this.findPreviousEditableColumn(currentCell);\n\n        if (targetCell) {\n          if (this.dt.isEditingCellValid()) {\n            this.closeEditingCell(true, event);\n          }\n\n          DomHandler.invokeElementMethod(event.target, 'blur');\n          DomHandler.invokeElementMethod(targetCell, 'click');\n          event.preventDefault();\n        }\n      }\n    }\n  }, {\n    key: \"moveToNextCell\",\n    value: function moveToNextCell(event) {\n      var currentCell = this.findCell(event.target);\n\n      if (currentCell) {\n        var targetCell = this.findNextEditableColumn(currentCell);\n\n        if (targetCell) {\n          if (this.dt.isEditingCellValid()) {\n            this.closeEditingCell(true, event);\n          }\n\n          DomHandler.invokeElementMethod(event.target, 'blur');\n          DomHandler.invokeElementMethod(targetCell, 'click');\n          event.preventDefault();\n        }\n      }\n    }\n  }, {\n    key: \"findPreviousEditableColumn\",\n    value: function findPreviousEditableColumn(cell) {\n      var prevCell = cell.previousElementSibling;\n\n      if (!prevCell) {\n        var previousRow = cell.parentElement.previousElementSibling;\n\n        if (previousRow) {\n          prevCell = previousRow.lastElementChild;\n        }\n      }\n\n      if (prevCell) {\n        if (DomHandler.hasClass(prevCell, 'p-editable-column')) return prevCell;else return this.findPreviousEditableColumn(prevCell);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"findNextEditableColumn\",\n    value: function findNextEditableColumn(cell) {\n      var nextCell = cell.nextElementSibling;\n\n      if (!nextCell) {\n        var nextRow = cell.parentElement.nextElementSibling;\n\n        if (nextRow) {\n          nextCell = nextRow.firstElementChild;\n        }\n      }\n\n      if (nextCell) {\n        if (DomHandler.hasClass(nextCell, 'p-editable-column')) return nextCell;else return this.findNextEditableColumn(nextCell);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.pEditableColumnDisabled !== true;\n    }\n  }]);\n\n  return EditableColumn;\n}();\n\nEditableColumn.decorators = [{\n  type: Directive,\n  args: [{\n    selector: '[pEditableColumn]'\n  }]\n}];\n\nEditableColumn.ctorParameters = function () {\n  return [{\n    type: Table\n  }, {\n    type: ElementRef\n  }, {\n    type: NgZone\n  }];\n};\n\nEditableColumn.propDecorators = {\n  data: [{\n    type: Input,\n    args: [\"pEditableColumn\"]\n  }],\n  field: [{\n    type: Input,\n    args: [\"pEditableColumnField\"]\n  }],\n  rowIndex: [{\n    type: Input,\n    args: [\"pEditableColumnRowIndex\"]\n  }],\n  pEditableColumnDisabled: [{\n    type: Input\n  }],\n  pFocusCellSelector: [{\n    type: Input\n  }],\n  onClick: [{\n    type: HostListener,\n    args: ['click', ['$event']]\n  }],\n  onEnterKeyDown: [{\n    type: HostListener,\n    args: ['keydown.enter', ['$event']]\n  }],\n  onEscapeKeyDown: [{\n    type: HostListener,\n    args: ['keydown.escape', ['$event']]\n  }],\n  onShiftKeyDown: [{\n    type: HostListener,\n    args: ['keydown.tab', ['$event']]\n  }, {\n    type: HostListener,\n    args: ['keydown.shift.tab', ['$event']]\n  }, {\n    type: HostListener,\n    args: ['keydown.meta.tab', ['$event']]\n  }]\n};\n\nvar EditableRow = /*#__PURE__*/function () {\n  function EditableRow(el) {\n    _classCallCheck(this, EditableRow);\n\n    this.el = el;\n  }\n\n  _createClass(EditableRow, [{\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.pEditableRowDisabled !== true;\n    }\n  }]);\n\n  return EditableRow;\n}();\n\nEditableRow.decorators = [{\n  type: Directive,\n  args: [{\n    selector: '[pEditableRow]'\n  }]\n}];\n\nEditableRow.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }];\n};\n\nEditableRow.propDecorators = {\n  data: [{\n    type: Input,\n    args: [\"pEditableRow\"]\n  }],\n  pEditableRowDisabled: [{\n    type: Input\n  }]\n};\n\nvar InitEditableRow = /*#__PURE__*/function () {\n  function InitEditableRow(dt, editableRow) {\n    _classCallCheck(this, InitEditableRow);\n\n    this.dt = dt;\n    this.editableRow = editableRow;\n  }\n\n  _createClass(InitEditableRow, [{\n    key: \"onClick\",\n    value: function onClick(event) {\n      this.dt.initRowEdit(this.editableRow.data);\n      event.preventDefault();\n    }\n  }]);\n\n  return InitEditableRow;\n}();\n\nInitEditableRow.decorators = [{\n  type: Directive,\n  args: [{\n    selector: '[pInitEditableRow]'\n  }]\n}];\n\nInitEditableRow.ctorParameters = function () {\n  return [{\n    type: Table\n  }, {\n    type: EditableRow\n  }];\n};\n\nInitEditableRow.propDecorators = {\n  onClick: [{\n    type: HostListener,\n    args: ['click', ['$event']]\n  }]\n};\n\nvar SaveEditableRow = /*#__PURE__*/function () {\n  function SaveEditableRow(dt, editableRow) {\n    _classCallCheck(this, SaveEditableRow);\n\n    this.dt = dt;\n    this.editableRow = editableRow;\n  }\n\n  _createClass(SaveEditableRow, [{\n    key: \"onClick\",\n    value: function onClick(event) {\n      this.dt.saveRowEdit(this.editableRow.data, this.editableRow.el.nativeElement);\n      event.preventDefault();\n    }\n  }]);\n\n  return SaveEditableRow;\n}();\n\nSaveEditableRow.decorators = [{\n  type: Directive,\n  args: [{\n    selector: '[pSaveEditableRow]'\n  }]\n}];\n\nSaveEditableRow.ctorParameters = function () {\n  return [{\n    type: Table\n  }, {\n    type: EditableRow\n  }];\n};\n\nSaveEditableRow.propDecorators = {\n  onClick: [{\n    type: HostListener,\n    args: ['click', ['$event']]\n  }]\n};\n\nvar CancelEditableRow = /*#__PURE__*/function () {\n  function CancelEditableRow(dt, editableRow) {\n    _classCallCheck(this, CancelEditableRow);\n\n    this.dt = dt;\n    this.editableRow = editableRow;\n  }\n\n  _createClass(CancelEditableRow, [{\n    key: \"onClick\",\n    value: function onClick(event) {\n      this.dt.cancelRowEdit(this.editableRow.data);\n      event.preventDefault();\n    }\n  }]);\n\n  return CancelEditableRow;\n}();\n\nCancelEditableRow.decorators = [{\n  type: Directive,\n  args: [{\n    selector: '[pCancelEditableRow]'\n  }]\n}];\n\nCancelEditableRow.ctorParameters = function () {\n  return [{\n    type: Table\n  }, {\n    type: EditableRow\n  }];\n};\n\nCancelEditableRow.propDecorators = {\n  onClick: [{\n    type: HostListener,\n    args: ['click', ['$event']]\n  }]\n};\n\nvar CellEditor = /*#__PURE__*/function () {\n  function CellEditor(dt, editableColumn, editableRow) {\n    _classCallCheck(this, CellEditor);\n\n    this.dt = dt;\n    this.editableColumn = editableColumn;\n    this.editableRow = editableRow;\n  }\n\n  _createClass(CellEditor, [{\n    key: \"ngAfterContentInit\",\n    value: function ngAfterContentInit() {\n      var _this23 = this;\n\n      this.templates.forEach(function (item) {\n        switch (item.getType()) {\n          case 'input':\n            _this23.inputTemplate = item.template;\n            break;\n\n          case 'output':\n            _this23.outputTemplate = item.template;\n            break;\n        }\n      });\n    }\n  }, {\n    key: \"editing\",\n    get: function get() {\n      return this.dt.editingCell && this.editableColumn && this.dt.editingCell === this.editableColumn.el.nativeElement || this.editableRow && this.dt.editMode === 'row' && this.dt.isRowEditing(this.editableRow.data);\n    }\n  }]);\n\n  return CellEditor;\n}();\n\nCellEditor.decorators = [{\n  type: Component,\n  args: [{\n    selector: 'p-cellEditor',\n    template: \"\\n        <ng-container *ngIf=\\\"editing\\\">\\n            <ng-container *ngTemplateOutlet=\\\"inputTemplate\\\"></ng-container>\\n        </ng-container>\\n        <ng-container *ngIf=\\\"!editing\\\">\\n            <ng-container *ngTemplateOutlet=\\\"outputTemplate\\\"></ng-container>\\n        </ng-container>\\n    \",\n    encapsulation: ViewEncapsulation.None\n  }]\n}];\n\nCellEditor.ctorParameters = function () {\n  return [{\n    type: Table\n  }, {\n    type: EditableColumn,\n    decorators: [{\n      type: Optional\n    }]\n  }, {\n    type: EditableRow,\n    decorators: [{\n      type: Optional\n    }]\n  }];\n};\n\nCellEditor.propDecorators = {\n  templates: [{\n    type: ContentChildren,\n    args: [PrimeTemplate]\n  }]\n};\n\nvar TableRadioButton = /*#__PURE__*/function () {\n  function TableRadioButton(dt, tableService, cd) {\n    var _this24 = this;\n\n    _classCallCheck(this, TableRadioButton);\n\n    this.dt = dt;\n    this.tableService = tableService;\n    this.cd = cd;\n    this.subscription = this.dt.tableService.selectionSource$.subscribe(function () {\n      _this24.checked = _this24.dt.isSelected(_this24.value);\n\n      _this24.cd.markForCheck();\n    });\n  }\n\n  _createClass(TableRadioButton, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.checked = this.dt.isSelected(this.value);\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(event) {\n      if (!this.disabled) {\n        this.dt.toggleRowWithRadio({\n          originalEvent: event,\n          rowIndex: this.index\n        }, this.value);\n      }\n\n      DomHandler.clearSelection();\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus() {\n      DomHandler.addClass(this.boxViewChild.nativeElement, 'p-focus');\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur() {\n      DomHandler.removeClass(this.boxViewChild.nativeElement, 'p-focus');\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      if (this.subscription) {\n        this.subscription.unsubscribe();\n      }\n    }\n  }]);\n\n  return TableRadioButton;\n}();\n\nTableRadioButton.decorators = [{\n  type: Component,\n  args: [{\n    selector: 'p-tableRadioButton',\n    template: \"\\n        <div class=\\\"p-radiobutton p-component\\\" (click)=\\\"onClick($event)\\\">\\n            <div class=\\\"p-hidden-accessible\\\">\\n                <input type=\\\"radio\\\" [attr.id]=\\\"inputId\\\" [attr.name]=\\\"name\\\" [checked]=\\\"checked\\\" (focus)=\\\"onFocus()\\\" (blur)=\\\"onBlur()\\\"\\n                [disabled]=\\\"disabled\\\" [attr.aria-label]=\\\"ariaLabel\\\">\\n            </div>\\n            <div #box [ngClass]=\\\"{'p-radiobutton-box p-component':true,\\n                'p-highlight':checked, 'p-disabled':disabled}\\\" role=\\\"radio\\\" [attr.aria-checked]=\\\"checked\\\">\\n                <div class=\\\"p-radiobutton-icon\\\"></div>\\n            </div>\\n        </div>\\n    \",\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n  }]\n}];\n\nTableRadioButton.ctorParameters = function () {\n  return [{\n    type: Table\n  }, {\n    type: TableService\n  }, {\n    type: ChangeDetectorRef\n  }];\n};\n\nTableRadioButton.propDecorators = {\n  disabled: [{\n    type: Input\n  }],\n  value: [{\n    type: Input\n  }],\n  index: [{\n    type: Input\n  }],\n  inputId: [{\n    type: Input\n  }],\n  name: [{\n    type: Input\n  }],\n  ariaLabel: [{\n    type: Input\n  }],\n  boxViewChild: [{\n    type: ViewChild,\n    args: ['box']\n  }]\n};\n\nvar TableCheckbox = /*#__PURE__*/function () {\n  function TableCheckbox(dt, tableService, cd) {\n    var _this25 = this;\n\n    _classCallCheck(this, TableCheckbox);\n\n    this.dt = dt;\n    this.tableService = tableService;\n    this.cd = cd;\n    this.subscription = this.dt.tableService.selectionSource$.subscribe(function () {\n      _this25.checked = _this25.dt.isSelected(_this25.value);\n\n      _this25.cd.markForCheck();\n    });\n  }\n\n  _createClass(TableCheckbox, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.checked = this.dt.isSelected(this.value);\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(event) {\n      if (!this.disabled) {\n        this.dt.toggleRowWithCheckbox({\n          originalEvent: event,\n          rowIndex: this.index\n        }, this.value);\n      }\n\n      DomHandler.clearSelection();\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus() {\n      DomHandler.addClass(this.boxViewChild.nativeElement, 'p-focus');\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur() {\n      DomHandler.removeClass(this.boxViewChild.nativeElement, 'p-focus');\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      if (this.subscription) {\n        this.subscription.unsubscribe();\n      }\n    }\n  }]);\n\n  return TableCheckbox;\n}();\n\nTableCheckbox.decorators = [{\n  type: Component,\n  args: [{\n    selector: 'p-tableCheckbox',\n    template: \"\\n        <div class=\\\"p-checkbox p-component\\\" (click)=\\\"onClick($event)\\\">\\n            <div class=\\\"p-hidden-accessible\\\">\\n                <input type=\\\"checkbox\\\" [attr.id]=\\\"inputId\\\" [attr.name]=\\\"name\\\" [checked]=\\\"checked\\\" (focus)=\\\"onFocus()\\\" (blur)=\\\"onBlur()\\\" [disabled]=\\\"disabled\\\"\\n                [attr.required]=\\\"required\\\" [attr.aria-label]=\\\"ariaLabel\\\">\\n            </div>\\n            <div #box [ngClass]=\\\"{'p-checkbox-box p-component':true,\\n                'p-highlight':checked, 'p-disabled':disabled}\\\" role=\\\"checkbox\\\" [attr.aria-checked]=\\\"checked\\\">\\n                <span class=\\\"p-checkbox-icon\\\" [ngClass]=\\\"{'pi pi-check':checked}\\\"></span>\\n            </div>\\n        </div>\\n    \",\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n  }]\n}];\n\nTableCheckbox.ctorParameters = function () {\n  return [{\n    type: Table\n  }, {\n    type: TableService\n  }, {\n    type: ChangeDetectorRef\n  }];\n};\n\nTableCheckbox.propDecorators = {\n  disabled: [{\n    type: Input\n  }],\n  value: [{\n    type: Input\n  }],\n  index: [{\n    type: Input\n  }],\n  inputId: [{\n    type: Input\n  }],\n  name: [{\n    type: Input\n  }],\n  required: [{\n    type: Input\n  }],\n  ariaLabel: [{\n    type: Input\n  }],\n  boxViewChild: [{\n    type: ViewChild,\n    args: ['box']\n  }]\n};\n\nvar TableHeaderCheckbox = /*#__PURE__*/function () {\n  function TableHeaderCheckbox(dt, tableService, cd) {\n    var _this26 = this;\n\n    _classCallCheck(this, TableHeaderCheckbox);\n\n    this.dt = dt;\n    this.tableService = tableService;\n    this.cd = cd;\n    this.valueChangeSubscription = this.dt.tableService.valueSource$.subscribe(function () {\n      _this26.checked = _this26.updateCheckedState();\n    });\n    this.selectionChangeSubscription = this.dt.tableService.selectionSource$.subscribe(function () {\n      _this26.checked = _this26.updateCheckedState();\n    });\n  }\n\n  _createClass(TableHeaderCheckbox, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.checked = this.updateCheckedState();\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(event) {\n      if (!this.disabled) {\n        if (this.dt.value && this.dt.value.length > 0) {\n          this.dt.toggleRowsWithCheckbox(event, !this.checked);\n        }\n      }\n\n      DomHandler.clearSelection();\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus() {\n      DomHandler.addClass(this.boxViewChild.nativeElement, 'p-focus');\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur() {\n      DomHandler.removeClass(this.boxViewChild.nativeElement, 'p-focus');\n    }\n  }, {\n    key: \"isDisabled\",\n    value: function isDisabled() {\n      return this.disabled || !this.dt.value || !this.dt.value.length;\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      if (this.selectionChangeSubscription) {\n        this.selectionChangeSubscription.unsubscribe();\n      }\n\n      if (this.valueChangeSubscription) {\n        this.valueChangeSubscription.unsubscribe();\n      }\n    }\n  }, {\n    key: \"updateCheckedState\",\n    value: function updateCheckedState() {\n      this.cd.markForCheck();\n\n      if (this.dt.filteredValue) {\n        var val = this.dt.filteredValue;\n        return val && val.length > 0 && this.dt.selection && this.dt.selection.length > 0 && this.isAllFilteredValuesChecked();\n      } else {\n        var _val = this.dt.value;\n        return _val && _val.length > 0 && this.dt.selection && this.dt.selection.length > 0 && this.dt.selection.length === _val.length;\n      }\n    }\n  }, {\n    key: \"isAllFilteredValuesChecked\",\n    value: function isAllFilteredValuesChecked() {\n      if (!this.dt.filteredValue) {\n        return false;\n      } else {\n        var _iterator3 = _createForOfIteratorHelper(this.dt.filteredValue),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var rowData = _step3.value;\n\n            if (!this.dt.isSelected(rowData)) {\n              return false;\n            }\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n\n        return true;\n      }\n    }\n  }]);\n\n  return TableHeaderCheckbox;\n}();\n\nTableHeaderCheckbox.decorators = [{\n  type: Component,\n  args: [{\n    selector: 'p-tableHeaderCheckbox',\n    template: \"\\n        <div class=\\\"p-checkbox p-component\\\" (click)=\\\"onClick($event)\\\">\\n            <div class=\\\"p-hidden-accessible\\\">\\n                <input #cb type=\\\"checkbox\\\" [attr.id]=\\\"inputId\\\" [attr.name]=\\\"name\\\" [checked]=\\\"checked\\\" (focus)=\\\"onFocus()\\\" (blur)=\\\"onBlur()\\\"\\n                [disabled]=\\\"isDisabled()\\\" [attr.aria-label]=\\\"ariaLabel\\\">\\n            </div>\\n            <div #box [ngClass]=\\\"{'p-checkbox-box':true,\\n                'p-highlight':checked, 'p-disabled': isDisabled()}\\\" role=\\\"checkbox\\\" [attr.aria-checked]=\\\"checked\\\">\\n                <span class=\\\"p-checkbox-icon\\\" [ngClass]=\\\"{'pi pi-check':checked}\\\"></span>\\n            </div>\\n        </div>\\n    \",\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n  }]\n}];\n\nTableHeaderCheckbox.ctorParameters = function () {\n  return [{\n    type: Table\n  }, {\n    type: TableService\n  }, {\n    type: ChangeDetectorRef\n  }];\n};\n\nTableHeaderCheckbox.propDecorators = {\n  boxViewChild: [{\n    type: ViewChild,\n    args: ['box']\n  }],\n  disabled: [{\n    type: Input\n  }],\n  inputId: [{\n    type: Input\n  }],\n  name: [{\n    type: Input\n  }],\n  ariaLabel: [{\n    type: Input\n  }]\n};\n\nvar ReorderableRowHandle = /*#__PURE__*/function () {\n  function ReorderableRowHandle(el) {\n    _classCallCheck(this, ReorderableRowHandle);\n\n    this.el = el;\n  }\n\n  _createClass(ReorderableRowHandle, [{\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      DomHandler.addClass(this.el.nativeElement, 'p-datatable-reorderablerow-handle');\n    }\n  }]);\n\n  return ReorderableRowHandle;\n}();\n\nReorderableRowHandle.decorators = [{\n  type: Directive,\n  args: [{\n    selector: '[pReorderableRowHandle]'\n  }]\n}];\n\nReorderableRowHandle.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }];\n};\n\nReorderableRowHandle.propDecorators = {\n  index: [{\n    type: Input,\n    args: [\"pReorderableRowHandle\"]\n  }]\n};\n\nvar ReorderableRow = /*#__PURE__*/function () {\n  function ReorderableRow(dt, el, zone) {\n    _classCallCheck(this, ReorderableRow);\n\n    this.dt = dt;\n    this.el = el;\n    this.zone = zone;\n  }\n\n  _createClass(ReorderableRow, [{\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      if (this.isEnabled()) {\n        this.el.nativeElement.droppable = true;\n        this.bindEvents();\n      }\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var _this27 = this;\n\n      this.zone.runOutsideAngular(function () {\n        _this27.mouseDownListener = _this27.onMouseDown.bind(_this27);\n\n        _this27.el.nativeElement.addEventListener('mousedown', _this27.mouseDownListener);\n\n        _this27.dragStartListener = _this27.onDragStart.bind(_this27);\n\n        _this27.el.nativeElement.addEventListener('dragstart', _this27.dragStartListener);\n\n        _this27.dragEndListener = _this27.onDragEnd.bind(_this27);\n\n        _this27.el.nativeElement.addEventListener('dragend', _this27.dragEndListener);\n\n        _this27.dragOverListener = _this27.onDragOver.bind(_this27);\n\n        _this27.el.nativeElement.addEventListener('dragover', _this27.dragOverListener);\n\n        _this27.dragLeaveListener = _this27.onDragLeave.bind(_this27);\n\n        _this27.el.nativeElement.addEventListener('dragleave', _this27.dragLeaveListener);\n      });\n    }\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {\n      if (this.mouseDownListener) {\n        document.removeEventListener('mousedown', this.mouseDownListener);\n        this.mouseDownListener = null;\n      }\n\n      if (this.dragStartListener) {\n        document.removeEventListener('dragstart', this.dragStartListener);\n        this.dragStartListener = null;\n      }\n\n      if (this.dragEndListener) {\n        document.removeEventListener('dragend', this.dragEndListener);\n        this.dragEndListener = null;\n      }\n\n      if (this.dragOverListener) {\n        document.removeEventListener('dragover', this.dragOverListener);\n        this.dragOverListener = null;\n      }\n\n      if (this.dragLeaveListener) {\n        document.removeEventListener('dragleave', this.dragLeaveListener);\n        this.dragLeaveListener = null;\n      }\n    }\n  }, {\n    key: \"onMouseDown\",\n    value: function onMouseDown(event) {\n      if (DomHandler.hasClass(event.target, 'p-datatable-reorderablerow-handle')) this.el.nativeElement.draggable = true;else this.el.nativeElement.draggable = false;\n    }\n  }, {\n    key: \"onDragStart\",\n    value: function onDragStart(event) {\n      this.dt.onRowDragStart(event, this.index);\n    }\n  }, {\n    key: \"onDragEnd\",\n    value: function onDragEnd(event) {\n      this.dt.onRowDragEnd(event);\n      this.el.nativeElement.draggable = false;\n    }\n  }, {\n    key: \"onDragOver\",\n    value: function onDragOver(event) {\n      this.dt.onRowDragOver(event, this.index, this.el.nativeElement);\n      event.preventDefault();\n    }\n  }, {\n    key: \"onDragLeave\",\n    value: function onDragLeave(event) {\n      this.dt.onRowDragLeave(event, this.el.nativeElement);\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled() {\n      return this.pReorderableRowDisabled !== true;\n    }\n  }, {\n    key: \"onDrop\",\n    value: function onDrop(event) {\n      if (this.isEnabled() && this.dt.rowDragging) {\n        this.dt.onRowDrop(event, this.el.nativeElement);\n      }\n\n      event.preventDefault();\n    }\n  }]);\n\n  return ReorderableRow;\n}();\n\nReorderableRow.decorators = [{\n  type: Directive,\n  args: [{\n    selector: '[pReorderableRow]'\n  }]\n}];\n\nReorderableRow.ctorParameters = function () {\n  return [{\n    type: Table\n  }, {\n    type: ElementRef\n  }, {\n    type: NgZone\n  }];\n};\n\nReorderableRow.propDecorators = {\n  index: [{\n    type: Input,\n    args: [\"pReorderableRow\"]\n  }],\n  pReorderableRowDisabled: [{\n    type: Input\n  }],\n  onDrop: [{\n    type: HostListener,\n    args: ['drop', ['$event']]\n  }]\n};\n\nvar TableModule = function TableModule() {\n  _classCallCheck(this, TableModule);\n};\n\nTableModule.decorators = [{\n  type: NgModule,\n  args: [{\n    imports: [CommonModule, PaginatorModule, ScrollingModule],\n    exports: [Table, SharedModule, SortableColumn, SelectableRow, RowToggler, ContextMenuRow, ResizableColumn, ReorderableColumn, EditableColumn, CellEditor, SortIcon, TableRadioButton, TableCheckbox, TableHeaderCheckbox, ReorderableRowHandle, ReorderableRow, SelectableRowDblClick, EditableRow, InitEditableRow, SaveEditableRow, CancelEditableRow, ScrollingModule],\n    declarations: [Table, SortableColumn, SelectableRow, RowToggler, ContextMenuRow, ResizableColumn, ReorderableColumn, EditableColumn, CellEditor, TableBody, ScrollableView, SortIcon, TableRadioButton, TableCheckbox, TableHeaderCheckbox, ReorderableRowHandle, ReorderableRow, SelectableRowDblClick, EditableRow, InitEditableRow, SaveEditableRow, CancelEditableRow]\n  }]\n}];\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CancelEditableRow, CellEditor, ContextMenuRow, EditableColumn, EditableRow, InitEditableRow, ReorderableColumn, ReorderableRow, ReorderableRowHandle, ResizableColumn, RowToggler, SaveEditableRow, ScrollableView, SelectableRow, SelectableRowDblClick, SortIcon, SortableColumn, Table, TableBody, TableCheckbox, TableHeaderCheckbox, TableModule, TableRadioButton, TableService };","map":{"version":3,"sources":["../../src/app/components/table/table.ts","../../src/app/components/table/primeng-table.ts"],"names":[],"mappings":"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","sourcesContent":["import { NgModule, Component, HostListener, OnInit, OnDestroy, AfterViewInit, Directive, Optional, AfterContentInit,\n    Input, Output, EventEmitter, ElementRef, ContentChildren, TemplateRef, QueryList, ViewChild, NgZone, ChangeDetectorRef, OnChanges, SimpleChanges, ChangeDetectionStrategy, Query, ViewEncapsulation} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PrimeTemplate, SharedModule } from 'primeng/api';\nimport { PaginatorModule } from 'primeng/paginator';\nimport { DomHandler } from 'primeng/dom';\nimport { ObjectUtils } from 'primeng/utils';\nimport { SortMeta } from 'primeng/api';\nimport { TableState } from 'primeng/api';\nimport { FilterMetadata } from 'primeng/api';\nimport { Injectable } from '@angular/core';\nimport { BlockableUI } from 'primeng/api';\nimport { Subject, Subscription } from 'rxjs';\nimport { FilterUtils } from 'primeng/utils';\nimport { ScrollingModule, CdkVirtualScrollViewport } from '@angular/cdk/scrolling';\n\n@Injectable()\nexport class TableService {\n\n    private sortSource = new Subject<SortMeta|SortMeta[]>();\n    private selectionSource = new Subject();\n    private contextMenuSource = new Subject<any>();\n    private valueSource = new Subject<any>();\n    private totalRecordsSource = new Subject<any>();\n    private columnsSource = new Subject();\n\n    sortSource$ = this.sortSource.asObservable();\n    selectionSource$ = this.selectionSource.asObservable();\n    contextMenuSource$ = this.contextMenuSource.asObservable();\n    valueSource$ = this.valueSource.asObservable();\n    totalRecordsSource$ = this.totalRecordsSource.asObservable();\n    columnsSource$ = this.columnsSource.asObservable();\n\n    onSort(sortMeta: SortMeta|SortMeta[]) {\n        this.sortSource.next(sortMeta);\n    }\n\n    onSelectionChange() {\n        this.selectionSource.next();\n    }\n\n    onContextMenu(data: any) {\n        this.contextMenuSource.next(data);\n    }\n\n    onValueChange(value: any) {\n        this.valueSource.next(value);\n    }\n\n    onTotalRecordsChange(value: number) {\n        this.totalRecordsSource.next(value);\n    }\n\n    onColumnsChange(columns: any[]) {\n        this.columnsSource.next(columns);\n    }\n}\n\n@Component({\n    selector: 'p-table',\n    template: `\n        <div #container [ngStyle]=\"style\" [class]=\"styleClass\"\n            [ngClass]=\"{'p-datatable p-component': true, \n                'p-datatable-hoverable-rows': (rowHover||selectionMode),\n                'p-datatable-auto-layout': autoLayout,\n                'p-datatable-resizable': resizableColumns,\n                'p-datatable-resizable-fit': (resizableColumns && columnResizeMode === 'fit'),\n                'p-datatable-scrollable': scrollable,\n                'p-datatable-flex-scrollable': (scrollable && scrollHeight === 'flex'),\n                'p-datatable-responsive': responsive}\">\n            <div class=\"p-datatable-loading-overlay p-component-overlay\" *ngIf=\"loading && showLoader\">\n                <i [class]=\"'p-datatable-loading-icon pi-spin ' + loadingIcon\"></i>\n            </div>\n            <div *ngIf=\"captionTemplate\" class=\"p-datatable-header\">\n                <ng-container *ngTemplateOutlet=\"captionTemplate\"></ng-container>\n            </div>\n            <p-paginator [rows]=\"rows\" [first]=\"first\" [totalRecords]=\"totalRecords\" [pageLinkSize]=\"pageLinks\" styleClass=\"p-paginator-top\" [alwaysShow]=\"alwaysShowPaginator\"\n                (onPageChange)=\"onPageChange($event)\" [rowsPerPageOptions]=\"rowsPerPageOptions\" *ngIf=\"paginator && (paginatorPosition === 'top' || paginatorPosition =='both')\"\n                [templateLeft]=\"paginatorLeftTemplate\" [templateRight]=\"paginatorRightTemplate\" [dropdownAppendTo]=\"paginatorDropdownAppendTo\" [dropdownScrollHeight]=\"paginatorDropdownScrollHeight\"\n                [currentPageReportTemplate]=\"currentPageReportTemplate\" [showCurrentPageReport]=\"showCurrentPageReport\" [showJumpToPageDropdown]=\"showJumpToPageDropdown\" [showPageLinks]=\"showPageLinks\"></p-paginator>\n\n            <div class=\"p-datatable-wrapper\" *ngIf=\"!scrollable\">\n                <table role=\"grid\" #table [ngClass]=\"tableStyleClass\" [ngStyle]=\"tableStyle\">\n                    <ng-container *ngTemplateOutlet=\"colGroupTemplate; context {$implicit: columns}\"></ng-container>\n                    <thead class=\"p-datatable-thead\">\n                        <ng-container *ngTemplateOutlet=\"headerTemplate; context: {$implicit: columns}\"></ng-container>\n                    </thead>\n                    <tbody class=\"p-datatable-tbody\" [pTableBody]=\"columns\" [pTableBodyTemplate]=\"bodyTemplate\"></tbody>\n                    <tfoot *ngIf=\"footerTemplate\" class=\"p-datatable-tfoot\">\n                        <ng-container *ngTemplateOutlet=\"footerTemplate; context {$implicit: columns}\"></ng-container>\n                    </tfoot>\n                </table>\n            </div>\n\n            <div class=\"p-datatable-scrollable-wrapper\" *ngIf=\"scrollable\">\n               <div class=\"p-datatable-scrollable-view p-datatable-frozen-view\" *ngIf=\"frozenColumns||frozenBodyTemplate\" #scrollableFrozenView [pScrollableView]=\"frozenColumns\" [frozen]=\"true\" [ngStyle]=\"{width: frozenWidth}\" [scrollHeight]=\"scrollHeight\"></div>\n               <div class=\"p-datatable-scrollable-view\" #scrollableView [pScrollableView]=\"columns\" [frozen]=\"false\" [scrollHeight]=\"scrollHeight\" [ngStyle]=\"{left: frozenWidth, width: 'calc(100% - '+frozenWidth+')'}\"></div>\n            </div>\n\n            <p-paginator [rows]=\"rows\" [first]=\"first\" [totalRecords]=\"totalRecords\" [pageLinkSize]=\"pageLinks\" styleClass=\"p-paginator-bottom\" [alwaysShow]=\"alwaysShowPaginator\"\n                (onPageChange)=\"onPageChange($event)\" [rowsPerPageOptions]=\"rowsPerPageOptions\" *ngIf=\"paginator && (paginatorPosition === 'bottom' || paginatorPosition =='both')\"\n                [templateLeft]=\"paginatorLeftTemplate\" [templateRight]=\"paginatorRightTemplate\" [dropdownAppendTo]=\"paginatorDropdownAppendTo\" [dropdownScrollHeight]=\"paginatorDropdownScrollHeight\"\n                [currentPageReportTemplate]=\"currentPageReportTemplate\" [showCurrentPageReport]=\"showCurrentPageReport\" [showJumpToPageDropdown]=\"showJumpToPageDropdown\" [showPageLinks]=\"showPageLinks\"></p-paginator>\n\n            <div *ngIf=\"summaryTemplate\" class=\"p-datatable-footer\">\n                <ng-container *ngTemplateOutlet=\"summaryTemplate\"></ng-container>\n            </div>\n\n            <div #resizeHelper class=\"p-column-resizer-helper\" style=\"display:none\" *ngIf=\"resizableColumns\"></div>\n            <span #reorderIndicatorUp class=\"pi pi-arrow-down p-datatable-reorder-indicator-up\" style=\"display:none\" *ngIf=\"reorderableColumns\"></span>\n            <span #reorderIndicatorDown class=\"pi pi-arrow-up p-datatable-reorder-indicator-down\" style=\"display:none\" *ngIf=\"reorderableColumns\"></span>\n        </div>\n    `,\n    providers: [TableService],\n    changeDetection: ChangeDetectionStrategy.Default,\n    encapsulation: ViewEncapsulation.None,\n    styleUrls: ['./table.css']\n})\nexport class Table implements OnInit, AfterViewInit, AfterContentInit, BlockableUI, OnChanges {\n\n    @Input() frozenColumns: any[];\n\n    @Input() frozenValue: any[];\n\n    @Input() style: any;\n\n    @Input() styleClass: string;\n\n    @Input() tableStyle: any;\n\n    @Input() tableStyleClass: string;\n\n    @Input() paginator: boolean;\n\n    @Input() pageLinks: number = 5;\n\n    @Input() rowsPerPageOptions: any[];\n\n    @Input() alwaysShowPaginator: boolean = true;\n\n    @Input() paginatorPosition: string = 'bottom';\n\n    @Input() paginatorDropdownAppendTo: any;\n\n    @Input() paginatorDropdownScrollHeight: string = '200px';\n\n    @Input() currentPageReportTemplate: string = '{currentPage} of {totalPages}';\n\n    @Input() showCurrentPageReport: boolean;\n\n    @Input() showJumpToPageDropdown: boolean;\n\n    @Input() showPageLinks: boolean = true;\n\n    @Input() defaultSortOrder: number = 1;\n\n    @Input() sortMode: string = 'single';\n\n    @Input() resetPageOnSort: boolean = true;\n\n    @Input() selectionMode: string;\n\n    @Output() selectionChange: EventEmitter<any> = new EventEmitter();\n\n    @Input() contextMenuSelection: any;\n\n    @Output() contextMenuSelectionChange: EventEmitter<any> = new EventEmitter();\n\n    @Input() contextMenuSelectionMode: string = \"separate\";\n\n    @Input() dataKey: string;\n\n    @Input() metaKeySelection: boolean;\n\n    @Input() rowTrackBy: Function = (index: number, item: any) => item;\n\n    @Input() lazy: boolean = false;\n\n    @Input() lazyLoadOnInit: boolean = true;\n\n    @Input() compareSelectionBy: string = 'deepEquals';\n\n    @Input() csvSeparator: string = ',';\n\n    @Input() exportFilename: string = 'download';\n\n    @Input() filters: { [s: string]: FilterMetadata; } = {};\n\n    @Input() globalFilterFields: string[];\n\n    @Input() filterDelay: number = 300;\n\n    @Input() filterLocale: string;\n\n    @Input() expandedRowKeys: { [s: string]: boolean; } = {};\n\n    @Input() editingRowKeys: { [s: string]: boolean; } = {};\n\n    @Input() rowExpandMode: string = 'multiple';\n\n    @Input() scrollable: boolean;\n\n    @Input() scrollHeight: string;\n\n    @Input() virtualScroll: boolean;\n\n    @Input() virtualScrollDelay: number = 150;\n\n    @Input() virtualRowHeight: number = 28;\n\n    @Input() frozenWidth: string;\n\n    @Input() responsive: boolean;\n\n    @Input() contextMenu: any;\n\n    @Input() resizableColumns: boolean;\n\n    @Input() columnResizeMode: string = 'fit';\n\n    @Input() reorderableColumns: boolean;\n\n    @Input() loading: boolean;\n\n    @Input() loadingIcon: string = 'pi pi-spinner';\n\n    @Input() showLoader: boolean = true;\n\n    @Input() rowHover: boolean;\n\n    @Input() customSort: boolean;\n\n    @Input() autoLayout: boolean;\n\n    @Input() exportFunction;\n\n    @Input() stateKey: string;\n\n    @Input() stateStorage: string = 'session';\n\n    @Input() editMode: string = 'cell';\n\n    @Input() minBufferPx: number;\n\n    @Input() maxBufferPx: number;\n\n    @Output() onRowSelect: EventEmitter<any> = new EventEmitter();\n\n    @Output() onRowUnselect: EventEmitter<any> = new EventEmitter();\n\n    @Output() onPage: EventEmitter<any> = new EventEmitter();\n\n    @Output() onSort: EventEmitter<any> = new EventEmitter();\n\n    @Output() onFilter: EventEmitter<any> = new EventEmitter();\n\n    @Output() onLazyLoad: EventEmitter<any> = new EventEmitter();\n\n    @Output() onRowExpand: EventEmitter<any> = new EventEmitter();\n\n    @Output() onRowCollapse: EventEmitter<any> = new EventEmitter();\n\n    @Output() onContextMenuSelect: EventEmitter<any> = new EventEmitter();\n\n    @Output() onColResize: EventEmitter<any> = new EventEmitter();\n\n    @Output() onColReorder: EventEmitter<any> = new EventEmitter();\n\n    @Output() onRowReorder: EventEmitter<any> = new EventEmitter();\n\n    @Output() onEditInit: EventEmitter<any> = new EventEmitter();\n\n    @Output() onEditComplete: EventEmitter<any> = new EventEmitter();\n\n    @Output() onEditCancel: EventEmitter<any> = new EventEmitter();\n\n    @Output() onHeaderCheckboxToggle: EventEmitter<any> = new EventEmitter();\n\n    @Output() sortFunction: EventEmitter<any> = new EventEmitter();\n\n    @Output() firstChange: EventEmitter<number> = new EventEmitter();\n\n    @Output() rowsChange: EventEmitter<number> = new EventEmitter();\n\n    @Output() onStateSave: EventEmitter<any> = new EventEmitter();\n\n    @Output() onStateRestore: EventEmitter<any> = new EventEmitter();\n\n    @ViewChild('container') containerViewChild: ElementRef;\n\n    @ViewChild('resizeHelper') resizeHelperViewChild: ElementRef;\n\n    @ViewChild('reorderIndicatorUp') reorderIndicatorUpViewChild: ElementRef;\n\n    @ViewChild('reorderIndicatorDown') reorderIndicatorDownViewChild: ElementRef;\n\n    @ViewChild('table') tableViewChild: ElementRef;\n\n    @ViewChild('scrollableView') scrollableViewChild;\n\n    @ViewChild('scrollableFrozenView') scrollableFrozenViewChild;\n\n    @ContentChildren(PrimeTemplate) templates: QueryList<PrimeTemplate>;\n\n    _value: any[] = [];\n\n    _columns: any[];\n\n    _totalRecords: number = 0;\n\n    _first: number = 0;\n\n    _rows: number;\n\n    filteredValue: any[];\n\n    headerTemplate: TemplateRef<any>;\n\n    bodyTemplate: TemplateRef<any>;\n\n    loadingBodyTemplate: TemplateRef<any>;\n\n    captionTemplate: TemplateRef<any>;\n\n    frozenRowsTemplate: TemplateRef<any>;\n\n    footerTemplate: TemplateRef<any>;\n\n    summaryTemplate: TemplateRef<any>;\n\n    colGroupTemplate: TemplateRef<any>;\n\n    expandedRowTemplate: TemplateRef<any>;\n\n    frozenHeaderTemplate: TemplateRef<any>;\n\n    frozenBodyTemplate: TemplateRef<any>;\n\n    frozenFooterTemplate: TemplateRef<any>;\n\n    frozenColGroupTemplate: TemplateRef<any>;\n\n    emptyMessageTemplate: TemplateRef<any>;\n\n    paginatorLeftTemplate: TemplateRef<any>;\n\n    paginatorRightTemplate: TemplateRef<any>;\n\n    selectionKeys: any = {};\n\n    lastResizerHelperX: number;\n\n    reorderIconWidth: number;\n\n    reorderIconHeight: number;\n\n    draggedColumn: any;\n\n    draggedRowIndex: number;\n\n    droppedRowIndex: number;\n\n    rowDragging: boolean;\n\n    dropPosition: number;\n\n    editingCell: Element;\n\n    editingCellData: any;\n\n    editingCellField: any;\n\n    editingCellRowIndex: number;\n\n    editingCellClick: boolean;\n\n    documentEditListener: any;\n\n    _multiSortMeta: SortMeta[];\n\n    _sortField: string;\n\n    _sortOrder: number = 1;\n\n    preventSelectionSetterPropagation: boolean;\n\n    _selection: any;\n\n    anchorRowIndex: number;\n\n    rangeRowIndex: number;\n\n    filterTimeout: any;\n\n    initialized: boolean;\n\n    rowTouched: boolean;\n\n    restoringSort: boolean;\n\n    restoringFilter: boolean;\n\n    stateRestored: boolean;\n\n    columnOrderStateRestored: boolean;\n\n    columnWidthsState: string;\n\n    tableWidthState: string;\n\n    constructor(public el: ElementRef, public zone: NgZone, public tableService: TableService, public cd: ChangeDetectorRef) {}\n\n    ngOnInit() {\n        if (this.lazy && this.lazyLoadOnInit) {\n            if (!this.virtualScroll) {\n                this.onLazyLoad.emit(this.createLazyLoadMetadata());\n            }\n            \n            if (this.restoringFilter) {\n                this.restoringFilter = false;\n            }\n        }\n\n        this.initialized = true;\n    }\n\n    ngAfterContentInit() {\n        this.templates.forEach((item) => {\n            switch (item.getType()) {\n                case 'caption':\n                    this.captionTemplate = item.template;\n                break;\n\n                case 'header':\n                    this.headerTemplate = item.template;\n                break;\n\n                case 'body':\n                    this.bodyTemplate = item.template;\n                break;\n\n                case 'loadingbody':\n                    this.loadingBodyTemplate = item.template;\n                break;\n\n                case 'footer':\n                    this.footerTemplate = item.template;\n                break;\n\n                case 'summary':\n                    this.summaryTemplate = item.template;\n                break;\n\n                case 'colgroup':\n                    this.colGroupTemplate = item.template;\n                break;\n\n                case 'rowexpansion':\n                    this.expandedRowTemplate = item.template;\n                break;\n\n                case 'frozenrows':\n                    this.frozenRowsTemplate = item.template;\n                break;\n\n                case 'frozenheader':\n                    this.frozenHeaderTemplate = item.template;\n                break;\n\n                case 'frozenbody':\n                    this.frozenBodyTemplate = item.template;\n                break;\n\n                case 'frozenfooter':\n                    this.frozenFooterTemplate = item.template;\n                break;\n\n                case 'frozencolgroup':\n                    this.frozenColGroupTemplate = item.template;\n                break;\n\n                case 'emptymessage':\n                    this.emptyMessageTemplate = item.template;\n                break;\n\n                case 'paginatorleft':\n                    this.paginatorLeftTemplate = item.template;\n                break;\n\n                case 'paginatorright':\n                    this.paginatorRightTemplate = item.template;\n                break;\n            }\n        });\n    }\n\n    ngAfterViewInit() {\n        if (this.isStateful() && this.resizableColumns) {\n            this.restoreColumnWidths();\n        }\n    }\n\n    clearCache() {\n        if (this.scrollable) {\n            if (this.scrollableViewChild) {\n                this.scrollableViewChild.clearCache();\n            }\n\n            if (this.scrollableFrozenViewChild) {\n                this.scrollableViewChild.clearCache();\n            }\n        }\n    }\n\n    ngOnChanges(simpleChange: SimpleChanges) {\n        if (simpleChange.value) {\n            if (this.isStateful() && !this.stateRestored) {\n                this.restoreState();\n            }\n\n            this._value = simpleChange.value.currentValue;\n\n            if (!this.lazy) {\n                this.clearCache();\n                this.totalRecords = (this._value ? this._value.length : 0);\n\n                if (this.sortMode == 'single' && this.sortField)\n                    this.sortSingle();\n                else if (this.sortMode == 'multiple' && this.multiSortMeta)\n                    this.sortMultiple();\n                else if (this.hasFilter())       //sort already filters\n                    this._filter();\n            }\n\n            this.tableService.onValueChange(simpleChange.value.currentValue);\n        }\n\n        if (simpleChange.columns) {\n            this._columns = simpleChange.columns.currentValue;\n            this.tableService.onColumnsChange(simpleChange.columns.currentValue);\n\n            if (this._columns && this.isStateful() && this.reorderableColumns && !this.columnOrderStateRestored ) {\n                this.restoreColumnOrder();\n            }\n        }\n\n        if (simpleChange.sortField) {\n            this._sortField = simpleChange.sortField.currentValue;\n\n            //avoid triggering lazy load prior to lazy initialization at onInit\n            if ( !this.lazy || this.initialized ) {\n                if (this.sortMode === 'single') {\n                    this.sortSingle();\n                }\n            }\n        }\n\n        if (simpleChange.sortOrder) {\n            this._sortOrder = simpleChange.sortOrder.currentValue;\n\n            //avoid triggering lazy load prior to lazy initialization at onInit\n            if ( !this.lazy || this.initialized ) {\n                if (this.sortMode === 'single') {\n                    this.sortSingle();\n                }\n            }\n        }\n\n        if (simpleChange.multiSortMeta) {\n            this._multiSortMeta = simpleChange.multiSortMeta.currentValue;\n            if (this.sortMode === 'multiple') {\n                this.sortMultiple();\n            }\n        }\n\n        if (simpleChange.selection) {\n            this._selection = simpleChange.selection.currentValue;\n\n            if (!this.preventSelectionSetterPropagation) {\n                this.updateSelectionKeys();\n                this.tableService.onSelectionChange();\n            }\n            this.preventSelectionSetterPropagation = false;\n        }\n    }\n\n    @Input() get value(): any[] {\n        return this._value;\n    }\n    set value(val: any[]) {\n        this._value = val;\n    }\n\n    @Input() get columns(): any[] {\n        return this._columns;\n    }\n    set columns(cols: any[]) {\n        this._columns = cols;\n    }\n\n    @Input() get first(): number {\n        return this._first;\n    }\n    set first(val: number) {\n        this._first = val;\n    }\n\n    @Input() get rows(): number {\n        return this._rows;\n    }\n    set rows(val: number) {\n        this._rows = val;\n    }\n\n    @Input() get totalRecords(): number {\n        return this._totalRecords;\n    }\n    set totalRecords(val: number) {\n        this._totalRecords = val;\n        this.tableService.onTotalRecordsChange(this._totalRecords);\n    }\n\n    @Input() get sortField(): string {\n        return this._sortField;\n    }\n\n    set sortField(val: string) {\n        this._sortField = val;\n    }\n\n    @Input() get sortOrder(): number {\n        return this._sortOrder;\n    }\n    set sortOrder(val: number) {\n        this._sortOrder = val;\n    }\n\n    @Input() get multiSortMeta(): SortMeta[] {\n        return this._multiSortMeta;\n    }\n\n    set multiSortMeta(val: SortMeta[]) {\n        this._multiSortMeta = val;\n    }\n\n    @Input() get selection(): any {\n        return this._selection;\n    }\n\n    set selection(val: any) {\n        this._selection = val;\n    }\n\n    updateSelectionKeys() {\n        if (this.dataKey && this._selection) {\n            this.selectionKeys = {};\n            if (Array.isArray(this._selection)) {\n                for(let data of this._selection) {\n                    this.selectionKeys[String(ObjectUtils.resolveFieldData(data, this.dataKey))] = 1;\n                }\n            }\n            else {\n                this.selectionKeys[String(ObjectUtils.resolveFieldData(this._selection, this.dataKey))] = 1;\n            }\n        }\n    }\n\n    onPageChange(event) {\n        this.first = event.first;\n        this.rows = event.rows;\n\n        if (this.lazy) {\n            this.onLazyLoad.emit(this.createLazyLoadMetadata());\n        }\n\n        this.onPage.emit({\n            first: this.first,\n            rows: this.rows\n        });\n\n        this.firstChange.emit(this.first);\n        this.rowsChange.emit(this.rows);\n        this.tableService.onValueChange(this.value);\n\n        if (this.isStateful()) {\n            this.saveState();\n        }\n\n        this.anchorRowIndex = null;\n\n        if (this.scrollable) {\n            this.resetScrollTop();\n        }\n    }\n\n    sort(event) {\n        let originalEvent = event.originalEvent;\n\n        if (this.sortMode === 'single') {\n            this._sortOrder = (this.sortField === event.field) ? this.sortOrder * -1 : this.defaultSortOrder;\n            this._sortField = event.field;\n            this.sortSingle();\n\n            if (this.resetPageOnSort) {\n                this._first = 0;\n                this.firstChange.emit(this._first);\n\n                if (this.scrollable) {\n                    this.resetScrollTop();\n                }\n            }\n        }\n        if (this.sortMode === 'multiple') {\n            let metaKey = originalEvent.metaKey || originalEvent.ctrlKey;\n            let sortMeta = this.getSortMeta(event.field);\n\n            if (sortMeta) {\n                if (!metaKey) {\n                    this._multiSortMeta = [{ field: event.field, order: sortMeta.order * -1 }];\n\n                    if (this.resetPageOnSort) {\n                        this._first = 0;\n                        this.firstChange.emit(this._first);\n                        \n                        if (this.scrollable) {\n                            this.resetScrollTop();\n                        }\n                    }\n                }\n                else {\n                    sortMeta.order = sortMeta.order * -1;\n                }\n            }\n            else {\n                if (!metaKey || !this.multiSortMeta) {\n                    this._multiSortMeta = [];\n\n                    if (this.resetPageOnSort) {\n                        this._first = 0;\n                        this.firstChange.emit(this._first);\n                    }\n                }\n                this._multiSortMeta.push({ field: event.field, order: this.defaultSortOrder });\n            }\n\n            this.sortMultiple();\n        }\n\n        if (this.isStateful()) {\n            this.saveState();\n        }\n\n        this.anchorRowIndex = null;\n    }\n\n    sortSingle() {\n        if (this.sortField && this.sortOrder) {\n            if (this.restoringSort) {\n                this.restoringSort = false;\n            }\n\n            if (this.lazy) {\n                this.onLazyLoad.emit(this.createLazyLoadMetadata());\n            }\n            else if (this.value) {\n                if (this.customSort) {\n                    this.sortFunction.emit({\n                        data: this.value,\n                        mode: this.sortMode,\n                        field: this.sortField,\n                        order: this.sortOrder\n                    });\n                }\n                else {\n                    this.value.sort((data1, data2) => {\n                        let value1 = ObjectUtils.resolveFieldData(data1, this.sortField);\n                        let value2 = ObjectUtils.resolveFieldData(data2, this.sortField);\n                        let result = null;\n\n                        if (value1 == null && value2 != null)\n                            result = -1;\n                        else if (value1 != null && value2 == null)\n                            result = 1;\n                        else if (value1 == null && value2 == null)\n                            result = 0;\n                        else if (typeof value1 === 'string' && typeof value2 === 'string')\n                            result = value1.localeCompare(value2);\n                        else\n                            result = (value1 < value2) ? -1 : (value1 > value2) ? 1 : 0;\n\n                        return (this.sortOrder * result);\n                    });\n\n                    this._value = [...this.value];\n                }\n\n                if (this.hasFilter()) {\n                    this._filter();\n                }\n            }\n\n            let sortMeta: SortMeta = {\n                field: this.sortField,\n                order: this.sortOrder\n            };\n\n            this.onSort.emit(sortMeta);\n            this.tableService.onSort(sortMeta);\n        }\n    }\n\n    sortMultiple() {\n        if (this.multiSortMeta) {\n            if (this.lazy) {\n                this.onLazyLoad.emit(this.createLazyLoadMetadata());\n            }\n            else if (this.value) {\n                if (this.customSort) {\n                    this.sortFunction.emit({\n                        data: this.value,\n                        mode: this.sortMode,\n                        multiSortMeta: this.multiSortMeta\n                    });\n                }\n                else {\n                    this.value.sort((data1, data2) => {\n                        return this.multisortField(data1, data2, this.multiSortMeta, 0);\n                    });\n\n                    this._value = [...this.value];\n                }\n\n                if (this.hasFilter()) {\n                    this._filter();\n                }\n            }\n\n            this.onSort.emit({\n                multisortmeta: this.multiSortMeta\n            });\n            this.tableService.onSort(this.multiSortMeta);\n        }\n    }\n\n    multisortField(data1, data2, multiSortMeta, index) {\n        let value1 = ObjectUtils.resolveFieldData(data1, multiSortMeta[index].field);\n        let value2 = ObjectUtils.resolveFieldData(data2, multiSortMeta[index].field);\n        let result = null;\n\n        if (value1 == null && value2 != null)\n            result = -1;\n        else if (value1 != null && value2 == null)\n            result = 1;\n        else if (value1 == null && value2 == null)\n            result = 0;\n        else if (typeof value1 == 'string' || value1 instanceof String) {\n            if (value1.localeCompare && (value1 != value2)) {\n                return (multiSortMeta[index].order * value1.localeCompare(value2));\n            }\n        }\n        else {\n            result = (value1 < value2) ? -1 : 1;\n        }\n\n        if (value1 == value2) {\n            return (multiSortMeta.length - 1) > (index) ? (this.multisortField(data1, data2, multiSortMeta, index + 1)) : 0;\n        }\n\n        return (multiSortMeta[index].order * result);\n    }\n\n    getSortMeta(field: string) {\n        if (this.multiSortMeta && this.multiSortMeta.length) {\n            for (let i = 0; i < this.multiSortMeta.length; i++) {\n                if (this.multiSortMeta[i].field === field) {\n                    return this.multiSortMeta[i];\n                }\n            }\n        }\n\n        return null;\n    }\n\n    isSorted(field: string) {\n        if (this.sortMode === 'single') {\n            return (this.sortField && this.sortField === field);\n        }\n        else if (this.sortMode === 'multiple') {\n            let sorted = false;\n            if (this.multiSortMeta){\n                for(let i = 0; i < this.multiSortMeta.length; i++) {\n                    if (this.multiSortMeta[i].field == field){\n                        sorted = true;\n                        break;\n                    }\n                }\n            }\n            return sorted;\n        }\n    }\n\n    handleRowClick(event) {\n        let target = (<HTMLElement> event.originalEvent.target);\n        let targetNode = target.nodeName;\n        let parentNode = target.parentElement && target.parentElement.nodeName;\n        if (targetNode == 'INPUT' || targetNode == 'BUTTON' || targetNode == 'A' ||\n            parentNode == 'INPUT' || parentNode == 'BUTTON' || parentNode == 'A' ||\n            (DomHandler.hasClass(event.originalEvent.target, 'p-clickable'))) {\n            return;\n        }\n\n        if (this.selectionMode) {\n            this.preventSelectionSetterPropagation = true;\n            if (this.isMultipleSelectionMode() && event.originalEvent.shiftKey && this.anchorRowIndex != null) {\n                DomHandler.clearSelection();\n                if (this.rangeRowIndex != null) {\n                    this.clearSelectionRange(event.originalEvent);\n                }\n\n                this.rangeRowIndex = event.rowIndex;\n                this.selectRange(event.originalEvent, event.rowIndex);\n            }\n            else {\n                let rowData = event.rowData;\n                let selected = this.isSelected(rowData);\n                let metaSelection = this.rowTouched ? false : this.metaKeySelection;\n                let dataKeyValue = this.dataKey ? String(ObjectUtils.resolveFieldData(rowData, this.dataKey)) : null;\n                this.anchorRowIndex = event.rowIndex;\n                this.rangeRowIndex = event.rowIndex;\n\n                if (metaSelection) {\n                    let metaKey = event.originalEvent.metaKey||event.originalEvent.ctrlKey;\n\n                    if (selected && metaKey) {\n                        if (this.isSingleSelectionMode()) {\n                            this._selection = null;\n                            this.selectionKeys = {};\n                            this.selectionChange.emit(null);\n                        }\n                        else {\n                            let selectionIndex = this.findIndexInSelection(rowData);\n                            this._selection = this.selection.filter((val,i) => i!=selectionIndex);\n                            this.selectionChange.emit(this.selection);\n                            if (dataKeyValue) {\n                                delete this.selectionKeys[dataKeyValue];\n                            }\n                        }\n\n                        this.onRowUnselect.emit({originalEvent: event.originalEvent, data: rowData, type: 'row'});\n                    }\n                    else {\n                        if (this.isSingleSelectionMode()) {\n                            this._selection = rowData;\n                            this.selectionChange.emit(rowData);\n                            if (dataKeyValue) {\n                                this.selectionKeys = {};\n                                this.selectionKeys[dataKeyValue] = 1;\n                            }\n                        }\n                        else if (this.isMultipleSelectionMode()) {\n                            if (metaKey) {\n                                this._selection = this.selection||[];\n                            }\n                            else {\n                                this._selection = [];\n                                this.selectionKeys = {};\n                            }\n\n                            this._selection = [...this.selection,rowData];\n                            this.selectionChange.emit(this.selection);\n                            if (dataKeyValue) {\n                                this.selectionKeys[dataKeyValue] = 1;\n                            }\n                        }\n\n                        this.onRowSelect.emit({originalEvent: event.originalEvent, data: rowData, type: 'row', index: event.rowIndex});\n                    }\n                }\n                else {\n                    if (this.selectionMode === 'single') {\n                        if (selected) {\n                            this._selection = null;\n                            this.selectionKeys = {};\n                            this.selectionChange.emit(this.selection);\n                            this.onRowUnselect.emit({ originalEvent: event.originalEvent, data: rowData, type: 'row' });\n                        }\n                        else {\n                            this._selection = rowData;\n                            this.selectionChange.emit(this.selection);\n                            this.onRowSelect.emit({ originalEvent: event.originalEvent, data: rowData, type: 'row', index: event.rowIndex });\n                            if (dataKeyValue) {\n                                this.selectionKeys = {};\n                                this.selectionKeys[dataKeyValue] = 1;\n                            }\n                        }\n                    }\n                    else if (this.selectionMode === 'multiple') {\n                        if (selected) {\n                            let selectionIndex = this.findIndexInSelection(rowData);\n                            this._selection = this.selection.filter((val, i) => i != selectionIndex);\n                            this.selectionChange.emit(this.selection);\n                            this.onRowUnselect.emit({ originalEvent: event.originalEvent, data: rowData, type: 'row' });\n                            if (dataKeyValue) {\n                                delete this.selectionKeys[dataKeyValue];\n                            }\n                        }\n                        else {\n                            this._selection = this.selection ? [...this.selection, rowData] : [rowData];\n                            this.selectionChange.emit(this.selection);\n                            this.onRowSelect.emit({ originalEvent: event.originalEvent, data: rowData, type: 'row', index: event.rowIndex });\n                            if (dataKeyValue) {\n                                this.selectionKeys[dataKeyValue] = 1;\n                            }\n                        }\n                    }\n                }\n            }\n\n            this.tableService.onSelectionChange();\n\n            if (this.isStateful()) {\n                this.saveState();\n            }\n        }\n\n        this.rowTouched = false;\n    }\n\n    handleRowTouchEnd(event) {\n        this.rowTouched = true;\n    }\n\n    handleRowRightClick(event) {\n        if (this.contextMenu) {\n            const rowData = event.rowData;\n\n            if (this.contextMenuSelectionMode === 'separate') {\n                this.contextMenuSelection = rowData;\n                this.contextMenuSelectionChange.emit(rowData);\n                this.onContextMenuSelect.emit({originalEvent: event.originalEvent, data: rowData, index: event.rowIndex});\n                this.contextMenu.show(event.originalEvent);\n                this.tableService.onContextMenu(rowData);\n            }\n            else if (this.contextMenuSelectionMode === 'joint') {\n                this.preventSelectionSetterPropagation = true;\n                let selected = this.isSelected(rowData);\n                let dataKeyValue = this.dataKey ? String(ObjectUtils.resolveFieldData(rowData, this.dataKey)) : null;\n\n                if (!selected) {\n                    if (this.isSingleSelectionMode()) {\n                        this.selection = rowData;\n                        this.selectionChange.emit(rowData);\n                    }\n                    else if (this.isMultipleSelectionMode()) {\n                        this.selection = [rowData];\n                        this.selectionChange.emit(this.selection);\n                    }\n\n                    if (dataKeyValue) {\n                        this.selectionKeys[dataKeyValue] = 1;\n                    }\n                }\n\n                this.contextMenu.show(event.originalEvent);\n                this.onContextMenuSelect.emit({originalEvent: event, data: rowData, index: event.rowIndex});\n            }\n        }\n    }\n\n    selectRange(event: MouseEvent, rowIndex: number) {\n        let rangeStart, rangeEnd;\n\n        if (this.anchorRowIndex > rowIndex) {\n            rangeStart = rowIndex;\n            rangeEnd = this.anchorRowIndex;\n        }\n        else if (this.anchorRowIndex < rowIndex) {\n            rangeStart = this.anchorRowIndex;\n            rangeEnd = rowIndex;\n        }\n        else {\n            rangeStart = rowIndex;\n            rangeEnd = rowIndex;\n        }\n\n        if (this.lazy && this.paginator) {\n            rangeStart -= this.first;\n            rangeEnd -= this.first;\n        }\n\n        for(let i = rangeStart; i <= rangeEnd; i++) {\n            let rangeRowData = this.filteredValue ? this.filteredValue[i] : this.value[i];\n            if (!this.isSelected(rangeRowData)) {\n                this._selection = [...this.selection, rangeRowData];\n                let dataKeyValue: string = this.dataKey ? String(ObjectUtils.resolveFieldData(rangeRowData, this.dataKey)) : null;\n                if (dataKeyValue) {\n                    this.selectionKeys[dataKeyValue] = 1;\n                }\n                this.onRowSelect.emit({originalEvent: event, data: rangeRowData, type: 'row'});\n            }\n        }\n\n        this.selectionChange.emit(this.selection);\n    }\n\n    clearSelectionRange(event: MouseEvent) {\n        let rangeStart, rangeEnd;\n\n        if (this.rangeRowIndex > this.anchorRowIndex) {\n            rangeStart = this.anchorRowIndex;\n            rangeEnd = this.rangeRowIndex;\n        }\n        else if (this.rangeRowIndex < this.anchorRowIndex) {\n            rangeStart = this.rangeRowIndex;\n            rangeEnd = this.anchorRowIndex;\n        }\n        else {\n            rangeStart = this.rangeRowIndex;\n            rangeEnd = this.rangeRowIndex;\n        }\n\n        for(let i = rangeStart; i <= rangeEnd; i++) {\n            let rangeRowData = this.value[i];\n            let selectionIndex = this.findIndexInSelection(rangeRowData);\n            this._selection = this.selection.filter((val,i) => i!=selectionIndex);\n            let dataKeyValue: string = this.dataKey ? String(ObjectUtils.resolveFieldData(rangeRowData, this.dataKey)) : null;\n            if (dataKeyValue) {\n                delete this.selectionKeys[dataKeyValue];\n            }\n            this.onRowUnselect.emit({originalEvent: event, data: rangeRowData, type: 'row'});\n        }\n    }\n\n    isSelected(rowData) {\n        if (rowData && this.selection) {\n            if (this.dataKey) {\n                return this.selectionKeys[ObjectUtils.resolveFieldData(rowData, this.dataKey)] !== undefined;\n            }\n            else {\n                if (this.selection instanceof Array)\n                    return this.findIndexInSelection(rowData) > -1;\n                else\n                    return this.equals(rowData, this.selection);\n            }\n        }\n\n        return false;\n    }\n\n    findIndexInSelection(rowData: any) {\n        let index: number = -1;\n        if (this.selection && this.selection.length) {\n            for (let i = 0; i < this.selection.length; i++) {\n                if (this.equals(rowData, this.selection[i])) {\n                    index = i;\n                    break;\n                }\n            }\n        }\n\n        return index;\n    }\n\n    toggleRowWithRadio(event: any, rowData:any) {\n        this.preventSelectionSetterPropagation = true;\n\n        if (this.selection != rowData) {\n            this._selection = rowData;\n            this.selectionChange.emit(this.selection);\n            this.onRowSelect.emit({originalEvent: event.originalEvent, index: event.rowIndex, data: rowData, type: 'radiobutton'});\n\n            if (this.dataKey) {\n                this.selectionKeys = {};\n                this.selectionKeys[String(ObjectUtils.resolveFieldData(rowData, this.dataKey))] = 1;\n            }\n        }\n        else {\n            this._selection = null;\n            this.selectionChange.emit(this.selection);\n            this.onRowUnselect.emit({originalEvent: event.originalEvent, index: event.rowIndex, data: rowData, type: 'radiobutton'});\n        }\n\n        this.tableService.onSelectionChange();\n\n        if (this.isStateful()) {\n            this.saveState();\n        }\n    }\n\n    toggleRowWithCheckbox(event, rowData: any) {\n        this.selection = this.selection||[];\n        let selected = this.isSelected(rowData);\n        let dataKeyValue = this.dataKey ? String(ObjectUtils.resolveFieldData(rowData, this.dataKey)) : null;\n        this.preventSelectionSetterPropagation = true;\n\n        if (selected) {\n            let selectionIndex = this.findIndexInSelection(rowData);\n            this._selection = this.selection.filter((val, i) => i != selectionIndex);\n            this.selectionChange.emit(this.selection);\n            this.onRowUnselect.emit({ originalEvent: event.originalEvent, index: event.rowIndex, data: rowData, type: 'checkbox' });\n            if (dataKeyValue) {\n                delete this.selectionKeys[dataKeyValue];\n            }\n        }\n        else {\n            this._selection = this.selection ? [...this.selection, rowData] : [rowData];\n            this.selectionChange.emit(this.selection);\n            this.onRowSelect.emit({ originalEvent: event.originalEvent, index: event.rowIndex, data: rowData, type: 'checkbox' });\n            if (dataKeyValue) {\n                this.selectionKeys[dataKeyValue] = 1;\n            }\n        }\n\n        this.tableService.onSelectionChange();\n\n        if (this.isStateful()) {\n            this.saveState();\n        }\n    }\n\n    toggleRowsWithCheckbox(event: Event, check: boolean) {\n        this._selection = check ? this.filteredValue ? this.filteredValue.slice(): this.value.slice() : [];\n        this.preventSelectionSetterPropagation = true;\n        this.updateSelectionKeys();\n        this.selectionChange.emit(this._selection);\n        this.tableService.onSelectionChange();\n        this.onHeaderCheckboxToggle.emit({originalEvent: event, checked: check});\n\n        if (this.isStateful()) {\n            this.saveState();\n        }\n    }\n\n    equals(data1, data2) {\n        return this.compareSelectionBy === 'equals' ? (data1 === data2) : ObjectUtils.equals(data1, data2, this.dataKey);\n    }\n\n    filter(value, field, matchMode) {\n        if (this.filterTimeout) {\n            clearTimeout(this.filterTimeout);\n        }\n\n        if (!this.isFilterBlank(value)) {\n            this.filters[field] = { value: value, matchMode: matchMode };\n        } else if (this.filters[field]) {\n            delete this.filters[field];\n        }\n\n        this.filterTimeout = setTimeout(() => {\n            this._filter();\n            this.filterTimeout = null;\n        }, this.filterDelay);\n\n        this.anchorRowIndex = null;\n    }\n\n    filterGlobal(value, matchMode) {\n        this.filter(value, 'global', matchMode);\n    }\n\n    isFilterBlank(filter: any): boolean {\n        if (filter !== null && filter !== undefined) {\n            if ((typeof filter === 'string' && filter.trim().length == 0) || (filter instanceof Array && filter.length == 0))\n                return true;\n            else\n                return false;\n        }\n        return true;\n    }\n\n    _filter() {\n        if (!this.restoringFilter) {\n            this.first = 0;\n            this.firstChange.emit(this.first);\n        }\n\n        if (this.lazy) {\n            this.onLazyLoad.emit(this.createLazyLoadMetadata());\n        }\n        else {\n            if (!this.value) {\n                return;\n            }\n\n            if (!this.hasFilter()) {\n                this.filteredValue = null;\n                if (this.paginator) {\n                    this.totalRecords = this.value ? this.value.length : 0;\n                }\n            }\n            else {\n                let globalFilterFieldsArray;\n                if (this.filters['global']) {\n                    if (!this.columns && !this.globalFilterFields)\n                        throw new Error('Global filtering requires dynamic columns or globalFilterFields to be defined.');\n                    else\n                        globalFilterFieldsArray = this.globalFilterFields||this.columns;\n                }\n\n                this.filteredValue = [];\n\n                for (let i = 0; i < this.value.length; i++) {\n                    let localMatch = true;\n                    let globalMatch = false;\n                    let localFiltered = false;\n\n                    for (let prop in this.filters) {\n                        if (this.filters.hasOwnProperty(prop) && prop !== 'global') {\n                            localFiltered = true;\n                            let filterMeta = this.filters[prop];\n                            let filterField = prop;\n                            let filterValue = filterMeta.value;\n                            let filterMatchMode = filterMeta.matchMode || 'startsWith';\n                            let dataFieldValue = ObjectUtils.resolveFieldData(this.value[i], filterField);\n                            let filterConstraint = FilterUtils[filterMatchMode];\n\n                            if (!filterConstraint(dataFieldValue, filterValue, this.filterLocale)) {\n                                localMatch = false;\n                            }\n\n                            if (!localMatch) {\n                                break;\n                            }\n                        }\n                    }\n\n                    if (this.filters['global'] && !globalMatch && globalFilterFieldsArray) {\n                        for(let j = 0; j < globalFilterFieldsArray.length; j++) {\n                            let globalFilterField = globalFilterFieldsArray[j].field||globalFilterFieldsArray[j];\n                            globalMatch = FilterUtils[this.filters['global'].matchMode](ObjectUtils.resolveFieldData(this.value[i], globalFilterField), this.filters['global'].value, this.filterLocale);\n\n                            if (globalMatch) {\n                                break;\n                            }\n                        }\n                    }\n\n                    let matches: boolean;\n                    if (this.filters['global']) {\n                        matches = localFiltered ? (localFiltered && localMatch && globalMatch) : globalMatch;\n                    }\n                    else {\n                        matches = localFiltered && localMatch;\n                    }\n\n                    if (matches) {\n                        this.filteredValue.push(this.value[i]);\n                    }\n                }\n\n                if (this.filteredValue.length === this.value.length) {\n                    this.filteredValue = null;\n                }\n\n                if (this.paginator) {\n                    this.totalRecords = this.filteredValue ? this.filteredValue.length : this.value ? this.value.length : 0;\n                }\n            }\n        }\n\n        this.onFilter.emit({\n            filters: this.filters,\n            filteredValue: this.filteredValue || this.value\n        });\n\n        this.tableService.onValueChange(this.value);\n\n        if (this.isStateful() && !this.restoringFilter) {\n            this.saveState();\n        }\n\n        if (this.restoringFilter) {\n            this.restoringFilter = false;\n        }\n\n        this.cd.markForCheck();\n\n        if (this.scrollable) {\n            this.resetScrollTop();\n        }\n    }\n\n    hasFilter() {\n        let empty = true;\n        for (let prop in this.filters) {\n            if (this.filters.hasOwnProperty(prop)) {\n                empty = false;\n                break;\n            }\n        }\n\n        return !empty;\n    }\n\n    createLazyLoadMetadata(): any {\n        return {\n            first: this.first,\n            rows: this.rows,\n            sortField: this.sortField,\n            sortOrder: this.sortOrder,\n            filters: this.filters,\n            globalFilter: this.filters && this.filters['global'] ? this.filters['global'].value : null,\n            multiSortMeta: this.multiSortMeta\n        };\n    }\n\n    public clear() {\n        this._sortField = null;\n        this._sortOrder = this.defaultSortOrder;\n        this._multiSortMeta = null;\n        this.tableService.onSort(null);\n\n        this.filteredValue = null;\n        this.filters = {};\n\n        this.first = 0;\n        this.firstChange.emit(this.first);\n\n        if (this.lazy) {\n            this.onLazyLoad.emit(this.createLazyLoadMetadata());\n        }\n        else {\n            this.totalRecords = (this._value ? this._value.length : 0);\n        }\n    }\n\n    public reset() {\n        console.warn(\"reset function is deprecated, use clear instead.\");\n        this.clear();\n    }\n\n    public exportCSV(options?: any) {\n        let data;\n        let csv = '';\n        let columns = this.frozenColumns ? [...this.frozenColumns, ...this.columns] : this.columns;\n\n        if (options && options.selectionOnly) {\n            data = this.selection || [];\n        }\n        else {\n            data = this.filteredValue || this.value;\n\n            if (this.frozenValue) {\n                data = data ? [...this.frozenValue, ...data] : this.frozenValue;\n            }\n        }\n\n        //headers\n        for (let i = 0; i < columns.length; i++) {\n            let column = columns[i];\n            if (column.exportable !== false && column.field) {\n                csv += '\"' + (column.header || column.field) + '\"';\n\n                if (i < (columns.length - 1)) {\n                    csv += this.csvSeparator;\n                }\n            }\n        }\n\n        //body\n        data.forEach((record, i) => {\n            csv += '\\n';\n            for (let i = 0; i < columns.length; i++) {\n                let column = columns[i];\n                if (column.exportable !== false && column.field) {\n                    let cellData = ObjectUtils.resolveFieldData(record, column.field);\n\n                    if (cellData != null) {\n                        if (this.exportFunction) {\n                            cellData = this.exportFunction({\n                                data: cellData,\n                                field: column.field\n                            });\n                        }\n                        else\n                            cellData = String(cellData).replace(/\"/g, '\"\"');\n                    }\n                    else\n                        cellData = '';\n\n                    csv += '\"' + cellData + '\"';\n\n                    if (i < (columns.length - 1)) {\n                        csv += this.csvSeparator;\n                    }\n                }\n            }\n        });\n\n        let blob = new Blob([csv], {\n            type: 'text/csv;charset=utf-8;'\n        });\n\n        if (window.navigator.msSaveOrOpenBlob) {\n            navigator.msSaveOrOpenBlob(blob, this.exportFilename + '.csv');\n        }\n        else {\n            let link = document.createElement(\"a\");\n            link.style.display = 'none';\n            document.body.appendChild(link);\n            if (link.download !== undefined) {\n                link.setAttribute('href', URL.createObjectURL(blob));\n                link.setAttribute('download', this.exportFilename + '.csv');\n                link.click();\n            }\n            else {\n                csv = 'data:text/csv;charset=utf-8,' + csv;\n                window.open(encodeURI(csv));\n            }\n            document.body.removeChild(link);\n        }\n    }\n\n    public resetScrollTop() {\n        if (this.virtualScroll)\n            this.scrollToVirtualIndex(0);\n        else\n            this.scrollTo({top: 0});\n    }\n\n    public scrollToVirtualIndex(index: number) {\n        if (this.scrollableViewChild) {\n            this.scrollableViewChild.scrollToVirtualIndex(index);\n        }\n\n        if (this.scrollableFrozenViewChild) {\n            this.scrollableFrozenViewChild.scrollToVirtualIndex(index);\n        }\n    }\n\n    public scrollTo(options) {\n        if (this.scrollableViewChild) {\n            this.scrollableViewChild.scrollTo(options);\n        }\n\n        if (this.scrollableFrozenViewChild) {\n            this.scrollableFrozenViewChild.scrollTo(options);\n        }\n    }\n\n    updateEditingCell(cell, data, field, index) {\n        this.editingCell = cell;\n        this.editingCellData = data;\n        this.editingCellField = field;\n        this.editingCellRowIndex = index;\n        this.bindDocumentEditListener();\n    }\n\n    isEditingCellValid() {\n        return (this.editingCell && DomHandler.find(this.editingCell, '.ng-invalid.ng-dirty').length === 0);\n    }\n\n    bindDocumentEditListener() {\n        if (!this.documentEditListener) {\n            this.documentEditListener = (event) => {\n                if (this.editingCell && !this.editingCellClick && this.isEditingCellValid()) {\n                    DomHandler.removeClass(this.editingCell, 'p-cell-editing');\n                    this.editingCell = null;\n                    this.onEditComplete.emit({ field: this.editingCellField, data: this.editingCellData, originalEvent: event, index: this.editingCellRowIndex });\n                    this.editingCellField = null;\n                    this.editingCellData = null;\n                    this.editingCellRowIndex = null;\n                    this.unbindDocumentEditListener();\n                    this.cd.markForCheck();\n                }\n\n                this.editingCellClick = false;\n            };\n\n            document.addEventListener('click', this.documentEditListener);\n        }\n    }\n\n    unbindDocumentEditListener() {\n        if (this.documentEditListener) {\n            document.removeEventListener('click', this.documentEditListener);\n            this.documentEditListener = null;\n        }\n    }\n\n    initRowEdit(rowData: any) {\n        let dataKeyValue = String(ObjectUtils.resolveFieldData(rowData, this.dataKey));\n        this.editingRowKeys[dataKeyValue] = true;\n    }\n\n    saveRowEdit(rowData: any, rowElement: HTMLTableRowElement) {\n        if (DomHandler.find(rowElement, '.ng-invalid.ng-dirty').length === 0) {\n            let dataKeyValue = String(ObjectUtils.resolveFieldData(rowData, this.dataKey));\n            delete this.editingRowKeys[dataKeyValue];\n        }\n    }\n\n    cancelRowEdit(rowData: any) {\n        let dataKeyValue = String(ObjectUtils.resolveFieldData(rowData, this.dataKey));\n        delete this.editingRowKeys[dataKeyValue];\n    }\n\n    toggleRow(rowData: any, event?: Event) {\n        if (!this.dataKey) {\n            throw new Error('dataKey must be defined to use row expansion');\n        }\n\n        let dataKeyValue = String(ObjectUtils.resolveFieldData(rowData, this.dataKey));\n\n        if (this.expandedRowKeys[dataKeyValue] != null) {\n            delete this.expandedRowKeys[dataKeyValue];\n            this.onRowCollapse.emit({\n                originalEvent: event,\n                data: rowData\n            });\n        }\n        else {\n            if (this.rowExpandMode === 'single') {\n                this.expandedRowKeys = {};\n            }\n\n            this.expandedRowKeys[dataKeyValue] = true;\n            this.onRowExpand.emit({\n                originalEvent: event,\n                data: rowData\n            });\n        }\n\n        if (event) {\n            event.preventDefault();\n        }\n\n        if (this.isStateful()) {\n            this.saveState();\n        }\n    }\n\n    isRowExpanded(rowData: any): boolean {\n        return this.expandedRowKeys[String(ObjectUtils.resolveFieldData(rowData, this.dataKey))] === true;\n    }\n\n    isRowEditing(rowData: any): boolean {\n        return this.editingRowKeys[String(ObjectUtils.resolveFieldData(rowData, this.dataKey))] === true;\n    }\n\n    isSingleSelectionMode() {\n        return this.selectionMode === 'single';\n    }\n\n    isMultipleSelectionMode() {\n        return this.selectionMode === 'multiple';\n    }\n\n    onColumnResizeBegin(event) {\n        let containerLeft = DomHandler.getOffset(this.containerViewChild.nativeElement).left;\n        this.lastResizerHelperX = (event.pageX - containerLeft + this.containerViewChild.nativeElement.scrollLeft);\n        this.onColumnResize(event);\n        event.preventDefault();\n    }\n\n    onColumnResize(event) {\n        let containerLeft = DomHandler.getOffset(this.containerViewChild.nativeElement).left;\n        DomHandler.addClass(this.containerViewChild.nativeElement, 'p-unselectable-text');\n        this.resizeHelperViewChild.nativeElement.style.height = this.containerViewChild.nativeElement.offsetHeight + 'px';\n        this.resizeHelperViewChild.nativeElement.style.top = 0 + 'px';\n        this.resizeHelperViewChild.nativeElement.style.left = (event.pageX - containerLeft + this.containerViewChild.nativeElement.scrollLeft) + 'px';\n\n        this.resizeHelperViewChild.nativeElement.style.display = 'block';\n    }\n\n    onColumnResizeEnd(event, column) {\n        let delta = this.resizeHelperViewChild.nativeElement.offsetLeft - this.lastResizerHelperX;\n        let columnWidth = column.offsetWidth;\n        let minWidth = parseInt(column.style.minWidth || 15);\n\n        if (columnWidth + delta < minWidth) {\n            delta = minWidth - columnWidth;\n        }\n\n        const newColumnWidth = columnWidth + delta;\n\n        if (newColumnWidth >= minWidth) {\n            if (this.columnResizeMode === 'fit') {\n                let nextColumn = column.nextElementSibling;\n                while (!nextColumn.offsetParent) {\n                    nextColumn = nextColumn.nextElementSibling;\n                }\n\n                if (nextColumn) {\n                    let nextColumnWidth = nextColumn.offsetWidth - delta;\n                    let nextColumnMinWidth = nextColumn.style.minWidth || 15;\n\n                    if (newColumnWidth > 15 && nextColumnWidth > parseInt(nextColumnMinWidth)) {\n                        if (this.scrollable) {\n                            let scrollableView = this.findParentScrollableView(column);\n                            let scrollableBodyTable = DomHandler.findSingle(scrollableView, '.p-datatable-scrollable-body table');\n                            let scrollableHeaderTable = DomHandler.findSingle(scrollableView, 'table.p-datatable-scrollable-header-table');\n                            let scrollableFooterTable = DomHandler.findSingle(scrollableView, 'table.p-datatable-scrollable-footer-table');\n                            let resizeColumnIndex = DomHandler.index(column);\n\n                            this.resizeColGroup(scrollableHeaderTable, resizeColumnIndex, newColumnWidth, nextColumnWidth);\n                            this.resizeColGroup(scrollableBodyTable, resizeColumnIndex, newColumnWidth, nextColumnWidth);\n                            this.resizeColGroup(scrollableFooterTable, resizeColumnIndex, newColumnWidth, nextColumnWidth);\n                        }\n                        else {\n                            column.style.width = newColumnWidth + 'px';\n                            if (nextColumn) {\n                                nextColumn.style.width = nextColumnWidth + 'px';\n                            }\n                        }\n                    }\n                }\n            }\n            else if (this.columnResizeMode === 'expand') {\n                if (newColumnWidth >= minWidth) {\n                    if (this.scrollable) {\n                        this.setScrollableItemsWidthOnExpandResize(column, newColumnWidth, delta);\n                    }\n                    else {\n                        this.tableViewChild.nativeElement.style.width = this.tableViewChild.nativeElement.offsetWidth + delta + 'px';\n                        column.style.width = newColumnWidth + 'px';\n                        let containerWidth = this.tableViewChild.nativeElement.style.width;\n                        this.containerViewChild.nativeElement.style.width = containerWidth + 'px';\n                    }\n                }\n            }\n\n            this.onColResize.emit({\n                element: column,\n                delta: delta\n            });\n\n            if (this.isStateful()) {\n                this.saveState();\n            }\n        }\n\n        this.resizeHelperViewChild.nativeElement.style.display = 'none';\n        DomHandler.removeClass(this.containerViewChild.nativeElement, 'p-unselectable-text');\n    }\n\n    setScrollableItemsWidthOnExpandResize(column, newColumnWidth, delta) {\n        let scrollableView = column ? this.findParentScrollableView(column) : this.containerViewChild.nativeElement;\n        let scrollableBody = DomHandler.findSingle(scrollableView, '.p-datatable-scrollable-body');\n        let scrollableHeader = DomHandler.findSingle(scrollableView, '.p-datatable-scrollable-header');\n        let scrollableFooter = DomHandler.findSingle(scrollableView, '.p-datatable-scrollable-footer');\n        let scrollableBodyTable = DomHandler.findSingle(scrollableBody, '.p-datatable-scrollable-body table');\n        let scrollableHeaderTable = DomHandler.findSingle(scrollableHeader, 'table.p-datatable-scrollable-header-table');\n        let scrollableFooterTable = DomHandler.findSingle(scrollableFooter, 'table.p-datatable-scrollable-footer-table');\n\n        const scrollableBodyTableWidth = column ? scrollableBodyTable.offsetWidth + delta : newColumnWidth;\n        const scrollableHeaderTableWidth = column ? scrollableHeaderTable.offsetWidth + delta : newColumnWidth;\n        const isContainerInViewport = this.containerViewChild.nativeElement.offsetWidth >= scrollableBodyTableWidth;\n\n        let setWidth = (container, table, width, isContainerInViewport) => {\n            if (container && table) {\n                container.style.width = isContainerInViewport ? width + DomHandler.calculateScrollbarWidth(scrollableBody) + 'px' : 'auto'\n                table.style.width = width + 'px';\n            }\n        };\n\n        setWidth(scrollableBody, scrollableBodyTable, scrollableBodyTableWidth, isContainerInViewport);\n        setWidth(scrollableHeader, scrollableHeaderTable, scrollableHeaderTableWidth, isContainerInViewport);\n        setWidth(scrollableFooter, scrollableFooterTable, scrollableHeaderTableWidth, isContainerInViewport);\n\n        if (column) {\n            let resizeColumnIndex = DomHandler.index(column);\n\n            this.resizeColGroup(scrollableHeaderTable, resizeColumnIndex, newColumnWidth, null);\n            this.resizeColGroup(scrollableBodyTable, resizeColumnIndex, newColumnWidth, null);\n            this.resizeColGroup(scrollableFooterTable, resizeColumnIndex, newColumnWidth, null);\n        }\n    }\n\n    findParentScrollableView(column) {\n        if (column) {\n            let parent = column.parentElement;\n            while (parent && !DomHandler.hasClass(parent, 'p-datatable-scrollable-view')) {\n                parent = parent.parentElement;\n            }\n\n            return parent;\n        }\n        else {\n            return null;\n        }\n    }\n\n    resizeColGroup(table, resizeColumnIndex, newColumnWidth, nextColumnWidth) {\n        if (table) {\n            let colGroup = table.children[0].nodeName === 'COLGROUP' ? table.children[0] : null;\n\n            if (colGroup) {\n                let col = colGroup.children[resizeColumnIndex];\n                let nextCol = col.nextElementSibling;\n                col.style.width = newColumnWidth + 'px';\n\n                if (nextCol && nextColumnWidth) {\n                    nextCol.style.width = nextColumnWidth + 'px';\n                }\n            }\n            else {\n                throw \"Scrollable tables require a colgroup to support resizable columns\";\n            }\n        }\n    }\n\n    onColumnDragStart(event, columnElement) {\n        this.reorderIconWidth = DomHandler.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement);\n        this.reorderIconHeight = DomHandler.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement);\n        this.draggedColumn = columnElement;\n        event.dataTransfer.setData('text', 'b');    // For firefox\n    }\n\n    onColumnDragEnter(event, dropHeader) {\n        if (this.reorderableColumns && this.draggedColumn && dropHeader) {\n            event.preventDefault();\n            let containerOffset = DomHandler.getOffset(this.containerViewChild.nativeElement);\n            let dropHeaderOffset = DomHandler.getOffset(dropHeader);\n\n            if (this.draggedColumn != dropHeader) {\n                let dragIndex = DomHandler.indexWithinGroup(this.draggedColumn, 'preorderablecolumn');\n                let dropIndex = DomHandler.indexWithinGroup(dropHeader, 'preorderablecolumn');\n                let targetLeft = dropHeaderOffset.left - containerOffset.left;\n                let targetTop = containerOffset.top - dropHeaderOffset.top;\n                let columnCenter = dropHeaderOffset.left + dropHeader.offsetWidth / 2;\n\n                this.reorderIndicatorUpViewChild.nativeElement.style.top = dropHeaderOffset.top - containerOffset.top - (this.reorderIconHeight - 1) + 'px';\n                this.reorderIndicatorDownViewChild.nativeElement.style.top = dropHeaderOffset.top - containerOffset.top + dropHeader.offsetHeight + 'px';\n\n                if (event.pageX > columnCenter) {\n                    this.reorderIndicatorUpViewChild.nativeElement.style.left = (targetLeft + dropHeader.offsetWidth - Math.ceil(this.reorderIconWidth / 2)) + 'px';\n                    this.reorderIndicatorDownViewChild.nativeElement.style.left = (targetLeft + dropHeader.offsetWidth - Math.ceil(this.reorderIconWidth / 2)) + 'px';\n                    this.dropPosition = 1;\n                }\n                else {\n                    this.reorderIndicatorUpViewChild.nativeElement.style.left = (targetLeft - Math.ceil(this.reorderIconWidth / 2)) + 'px';\n                    this.reorderIndicatorDownViewChild.nativeElement.style.left = (targetLeft - Math.ceil(this.reorderIconWidth / 2)) + 'px';\n                    this.dropPosition = -1;\n                }\n\n                if ((dropIndex - dragIndex === 1 && this.dropPosition === -1) || (dropIndex - dragIndex === -1 && this.dropPosition === 1)) {\n                    this.reorderIndicatorUpViewChild.nativeElement.style.display = 'none';\n                    this.reorderIndicatorDownViewChild.nativeElement.style.display = 'none';\n                }\n                else {\n                    this.reorderIndicatorUpViewChild.nativeElement.style.display = 'block';\n                    this.reorderIndicatorDownViewChild.nativeElement.style.display = 'block';\n                }\n            }\n            else {\n                event.dataTransfer.dropEffect = 'none';\n            }\n        }\n    }\n\n    onColumnDragLeave(event) {\n        if (this.reorderableColumns && this.draggedColumn) {\n            event.preventDefault();\n            this.reorderIndicatorUpViewChild.nativeElement.style.display = 'none';\n            this.reorderIndicatorDownViewChild.nativeElement.style.display = 'none';\n        }\n    }\n\n    onColumnDrop(event, dropColumn) {\n        event.preventDefault();\n        if (this.draggedColumn) {\n            let dragIndex = DomHandler.indexWithinGroup(this.draggedColumn, 'preorderablecolumn');\n            let dropIndex = DomHandler.indexWithinGroup(dropColumn, 'preorderablecolumn');\n            let allowDrop = (dragIndex != dropIndex);\n            if (allowDrop && ((dropIndex - dragIndex == 1 && this.dropPosition === -1) || (dragIndex - dropIndex == 1 && this.dropPosition === 1))) {\n                allowDrop = false;\n            }\n\n            if (allowDrop && ((dropIndex < dragIndex && this.dropPosition === 1))) {\n                dropIndex = dropIndex + 1;\n            }\n\n            if (allowDrop && ((dropIndex > dragIndex && this.dropPosition === -1))) {\n                dropIndex = dropIndex - 1;\n            }\n\n            if (allowDrop) {\n                ObjectUtils.reorderArray(this.columns, dragIndex, dropIndex);\n\n                this.onColReorder.emit({\n                    dragIndex: dragIndex,\n                    dropIndex: dropIndex,\n                    columns: this.columns\n                });\n\n                if (this.isStateful()) {\n                    this.zone.runOutsideAngular(() => {\n                        setTimeout(() => {\n                            this.saveState();\n                        });\n                    });\n                }\n            }\n\n            this.reorderIndicatorUpViewChild.nativeElement.style.display = 'none';\n            this.reorderIndicatorDownViewChild.nativeElement.style.display = 'none';\n            this.draggedColumn.draggable = false;\n            this.draggedColumn = null;\n            this.dropPosition = null;\n        }\n    }\n\n    onRowDragStart(event, index) {\n        this.rowDragging = true;\n        this.draggedRowIndex = index;\n        event.dataTransfer.setData('text', 'b');    // For firefox\n    }\n\n    onRowDragOver(event, index, rowElement) {\n        if (this.rowDragging && this.draggedRowIndex !== index) {\n            let rowY = DomHandler.getOffset(rowElement).top + DomHandler.getWindowScrollTop();\n            let pageY = event.pageY;\n            let rowMidY = rowY + DomHandler.getOuterHeight(rowElement) / 2;\n            let prevRowElement = rowElement.previousElementSibling;\n\n            if (pageY < rowMidY) {\n                DomHandler.removeClass(rowElement, 'p-datatable-dragpoint-bottom');\n\n                this.droppedRowIndex = index;\n                if (prevRowElement)\n                    DomHandler.addClass(prevRowElement, 'p-datatable-dragpoint-bottom');\n                else\n                    DomHandler.addClass(rowElement, 'p-datatable-dragpoint-top');\n            }\n            else {\n                if (prevRowElement)\n                    DomHandler.removeClass(prevRowElement, 'p-datatable-dragpoint-bottom');\n                else\n                    DomHandler.addClass(rowElement, 'p-datatable-dragpoint-top');\n\n                this.droppedRowIndex = index + 1;\n                DomHandler.addClass(rowElement, 'p-datatable-dragpoint-bottom');\n            }\n        }\n    }\n\n    onRowDragLeave(event, rowElement) {\n        let prevRowElement = rowElement.previousElementSibling;\n        if (prevRowElement) {\n            DomHandler.removeClass(prevRowElement, 'p-datatable-dragpoint-bottom');\n        }\n\n        DomHandler.removeClass(rowElement, 'p-datatable-dragpoint-bottom');\n        DomHandler.removeClass(rowElement, 'p-datatable-dragpoint-top');\n    }\n\n    onRowDragEnd(event) {\n        this.rowDragging = false;\n        this.draggedRowIndex = null;\n        this.droppedRowIndex = null;\n    }\n\n    onRowDrop(event, rowElement) {\n        if (this.droppedRowIndex != null) {\n            let dropIndex = (this.draggedRowIndex > this.droppedRowIndex) ? this.droppedRowIndex : (this.droppedRowIndex === 0) ? 0 : this.droppedRowIndex - 1;\n            ObjectUtils.reorderArray(this.value, this.draggedRowIndex, dropIndex);\n\n            this.onRowReorder.emit({\n                dragIndex: this.draggedRowIndex,\n                dropIndex: dropIndex\n            });\n        }\n        //cleanup\n        this.onRowDragLeave(event, rowElement);\n        this.onRowDragEnd(event);\n    }\n\n    isEmpty() {\n        let data = this.filteredValue||this.value;\n        return data == null || data.length == 0;\n    }\n\n    getBlockableElement(): HTMLElement{\n        return this.el.nativeElement.children[0];\n    }\n\n    getStorage() {\n        switch(this.stateStorage) {\n            case 'local':\n                return window.localStorage;\n\n            case 'session':\n                return window.sessionStorage;\n\n            default:\n                throw new Error(this.stateStorage + ' is not a valid value for the state storage, supported values are \"local\" and \"session\".');\n        }\n    }\n\n    isStateful() {\n        return this.stateKey != null;\n    }\n\n    saveState() {\n        const storage = this.getStorage();\n        let state: TableState = {};\n\n        if (this.paginator) {\n            state.first = this.first;\n            state.rows = this.rows;\n        }\n\n        if (this.sortField) {\n            state.sortField = this.sortField;\n            state.sortOrder = this.sortOrder;\n        }\n\n        if (this.multiSortMeta) {\n            state.multiSortMeta = this.multiSortMeta;\n        }\n\n        if (this.hasFilter()) {\n            state.filters = this.filters;\n        }\n\n        if (this.resizableColumns) {\n            this.saveColumnWidths(state);\n        }\n\n        if (this.reorderableColumns) {\n            this.saveColumnOrder(state);\n        }\n\n        if (this.selection) {\n            state.selection = this.selection;\n        }\n\n        if (Object.keys(this.expandedRowKeys).length) {\n            state.expandedRowKeys = this.expandedRowKeys;\n        }\n\n        if (Object.keys(state).length) {\n            storage.setItem(this.stateKey, JSON.stringify(state));\n        }\n\n        this.onStateSave.emit(state);\n    }\n\n    clearState() {\n        const storage = this.getStorage();\n\n        if (this.stateKey) {\n            storage.removeItem(this.stateKey);\n        }\n    }\n\n    restoreState() {\n        const storage = this.getStorage();\n        const stateString = storage.getItem(this.stateKey);\n\n        if (stateString) {\n            let state: TableState = JSON.parse(stateString);\n\n            if (this.paginator) {\n                if (this.first !== undefined) {\n                    this.first = state.first;\n                    this.firstChange.emit(this.first);\n                }\n\n                if (this.rows !== undefined) {\n                    this.rows = state.rows;\n                    this.rowsChange.emit(this.rows);\n                }\n            }\n\n            if (state.sortField) {\n                this.restoringSort = true;\n                this._sortField = state.sortField;\n                this._sortOrder = state.sortOrder;\n            }\n\n            if (state.multiSortMeta) {\n                this.restoringSort = true;\n                this._multiSortMeta = state.multiSortMeta;\n            }\n\n            if (state.filters) {\n                this.restoringFilter = true;\n                this.filters = state.filters;\n            }\n\n            if (this.resizableColumns) {\n                this.columnWidthsState = state.columnWidths;\n                this.tableWidthState = state.tableWidth;\n            }\n\n            if (state.expandedRowKeys) {\n                this.expandedRowKeys = state.expandedRowKeys;\n            }\n\n            if (state.selection) {\n                Promise.resolve(null).then(() => this.selectionChange.emit(state.selection));\n            }\n\n            this.stateRestored = true;\n\n            this.onStateRestore.emit(state);\n        }\n    }\n\n    saveColumnWidths(state) {\n        let widths = [];\n        let headers = DomHandler.find(this.containerViewChild.nativeElement, '.p-datatable-thead > tr:first-child > th');\n        headers.map(header => widths.push(DomHandler.getOuterWidth(header)));\n        state.columnWidths = widths.join(',');\n\n        if (this.columnResizeMode === 'expand') {\n            state.tableWidth = this.scrollable ? DomHandler.findSingle(this.containerViewChild.nativeElement, '.p-datatable-scrollable-header-table').style.width :\n                                                DomHandler.getOuterWidth(this.tableViewChild.nativeElement) + 'px';\n        }\n    }\n\n    restoreColumnWidths() {\n        if (this.columnWidthsState) {\n            let widths = this.columnWidthsState.split(',');\n\n            if (this.columnResizeMode === 'expand' && this.tableWidthState) {\n                if (this.scrollable) {\n                    this.setScrollableItemsWidthOnExpandResize(null, this.tableWidthState, 0);\n                }\n                else {\n                    this.tableViewChild.nativeElement.style.width = this.tableWidthState;\n                    this.containerViewChild.nativeElement.style.width = this.tableWidthState;\n                }\n            }\n\n            if (this.scrollable) {\n                let headerCols = DomHandler.find(this.containerViewChild.nativeElement, '.p-datatable-scrollable-header-table > colgroup > col');\n                let bodyCols = DomHandler.find(this.containerViewChild.nativeElement, '.p-datatable-scrollable-body table > colgroup > col');\n\n                headerCols.map((col, index) => col.style.width = widths[index] + 'px');\n                bodyCols.map((col, index) => col.style.width = widths[index] + 'px');\n            }\n            else {\n                let headers = DomHandler.find(this.tableViewChild.nativeElement, '.p-datatable-thead > tr:first-child > th');\n                headers.map((header, index) => header.style.width = widths[index] + 'px');\n            }\n        }\n    }\n\n    saveColumnOrder(state) {\n        if (this.columns) {\n            let columnOrder: string[] = [];\n            this.columns.map(column => {\n                columnOrder.push(column.field||column.key)\n            });\n\n            state.columnOrder = columnOrder;\n        }\n    }\n\n    restoreColumnOrder() {\n        const storage = this.getStorage();\n        const stateString = storage.getItem(this.stateKey);\n        if (stateString) {\n            let state: TableState = JSON.parse(stateString);\n            let columnOrder = state.columnOrder;\n            if (columnOrder) {\n                let reorderedColumns = [];\n                columnOrder.map(key => reorderedColumns.push(this.findColumnByKey(key)));\n                this.columnOrderStateRestored = true;\n                this.columns = reorderedColumns;\n            }\n        }\n    }\n\n    findColumnByKey(key) {\n        if (this.columns) {\n            for (let col of this.columns) {\n                if (col.key === key || col.field === key)\n                    return col;\n                else\n                    continue;\n            }\n        }\n        else {\n            return null;\n        }\n    }\n\n    ngOnDestroy() {\n        this.unbindDocumentEditListener();\n        this.editingCell = null;\n        this.initialized = null;\n    }\n}\n\n@Component({\n    selector: '[pTableBody]',\n    template: `\n        <ng-container *ngIf=\"!dt.expandedRowTemplate && !dt.virtualScroll\">\n            <ng-template ngFor let-rowData let-rowIndex=\"index\" [ngForOf]=\"(dt.paginator && !dt.lazy) ? ((dt.filteredValue||dt.value) | slice:dt.first:(dt.first + dt.rows)) : (dt.filteredValue||dt.value)\" [ngForTrackBy]=\"dt.rowTrackBy\">\n                <ng-container *ngTemplateOutlet=\"template; context: {$implicit: rowData, rowIndex: dt.paginator ? (dt.first + rowIndex) : rowIndex, columns: columns, editing: (dt.editMode === 'row' && dt.isRowEditing(rowData))}\"></ng-container>\n            </ng-template>\n        </ng-container>\n        <ng-container *ngIf=\"!dt.expandedRowTemplate && dt.virtualScroll\">\n            <ng-template cdkVirtualFor let-rowData let-rowIndex=\"index\" [cdkVirtualForOf]=\"dt.filteredValue||dt.value\" [cdkVirtualForTrackBy]=\"dt.rowTrackBy\" [cdkVirtualForTemplateCacheSize]=\"0\">\n                <ng-container *ngTemplateOutlet=\"rowData ? template: dt.loadingBodyTemplate; context: {$implicit: rowData, rowIndex: dt.paginator ? (dt.first + rowIndex) : rowIndex, columns: columns, editing: (dt.editMode === 'row' && dt.isRowEditing(rowData))}\"></ng-container>\n            </ng-template>\n        </ng-container>\n        <ng-container *ngIf=\"dt.expandedRowTemplate\">\n            <ng-template ngFor let-rowData let-rowIndex=\"index\" [ngForOf]=\"(dt.paginator && !dt.lazy) ? ((dt.filteredValue||dt.value) | slice:dt.first:(dt.first + dt.rows)) : (dt.filteredValue||dt.value)\" [ngForTrackBy]=\"dt.rowTrackBy\">\n                <ng-container *ngTemplateOutlet=\"template; context: {$implicit: rowData, rowIndex: dt.paginator ? (dt.first + rowIndex) : rowIndex, columns: columns, expanded: dt.isRowExpanded(rowData), editing: (dt.editMode === 'row' && dt.isRowEditing(rowData))}\"></ng-container>\n                <ng-container *ngIf=\"dt.isRowExpanded(rowData)\">\n                    <ng-container *ngTemplateOutlet=\"dt.expandedRowTemplate; context: {$implicit: rowData, rowIndex: dt.paginator ? (dt.first + rowIndex) : rowIndex, columns: columns}\"></ng-container>\n                </ng-container>\n            </ng-template>\n        </ng-container>\n        <ng-container *ngIf=\"dt.loading\">\n            <ng-container *ngTemplateOutlet=\"dt.loadingBodyTemplate; context: {$implicit: columns, frozen: frozen}\"></ng-container>\n        </ng-container>\n        <ng-container *ngIf=\"dt.isEmpty() && !dt.loading\">\n            <ng-container *ngTemplateOutlet=\"dt.emptyMessageTemplate; context: {$implicit: columns, frozen: frozen}\"></ng-container>\n        </ng-container>\n    `,\n    changeDetection: ChangeDetectionStrategy.Default,\n    encapsulation: ViewEncapsulation.None\n})\nexport class TableBody implements OnDestroy {\n\n    @Input(\"pTableBody\") columns: any[];\n\n    @Input(\"pTableBodyTemplate\") template: TemplateRef<any>;\n\n    @Input() frozen: boolean;\n\n    subscription: Subscription;\n\n    constructor(public dt: Table, public tableService: TableService, public cd: ChangeDetectorRef) {\n        this.subscription = this.dt.tableService.valueSource$.subscribe(() => {\n            if (this.dt.virtualScroll) {\n                this.cd.detectChanges();\n            }\n        });\n    }\n\n    ngOnDestroy() {\n        if (this.subscription) {\n            this.subscription.unsubscribe();\n        }\n    }\n}\n\n@Component({\n    selector: '[pScrollableView]',\n    template: `\n        <div #scrollHeader class=\"p-datatable-scrollable-header\">\n            <div #scrollHeaderBox class=\"p-datatable-scrollable-header-box\">\n                <table class=\"p-datatable-scrollable-header-table\" [ngClass]=\"dt.tableStyleClass\" [ngStyle]=\"dt.tableStyle\">\n                    <ng-container *ngTemplateOutlet=\"frozen ? dt.frozenColGroupTemplate||dt.colGroupTemplate : dt.colGroupTemplate; context {$implicit: columns}\"></ng-container>\n                    <thead class=\"p-datatable-thead\">\n                        <ng-container *ngTemplateOutlet=\"frozen ? dt.frozenHeaderTemplate||dt.headerTemplate : dt.headerTemplate; context {$implicit: columns}\"></ng-container>\n                    </thead>\n                    <tbody class=\"p-datatable-tbody\">\n                        <ng-template ngFor let-rowData let-rowIndex=\"index\" [ngForOf]=\"dt.frozenValue\" [ngForTrackBy]=\"dt.rowTrackBy\">\n                            <ng-container *ngTemplateOutlet=\"dt.frozenRowsTemplate; context: {$implicit: rowData, rowIndex: rowIndex, columns: columns}\"></ng-container>\n                        </ng-template>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        <ng-container *ngIf=\"!dt.virtualScroll; else virtualScrollTemplate\">\n            <div #scrollBody class=\"p-datatable-scrollable-body\" [ngStyle]=\"{'max-height': dt.scrollHeight !== 'flex' ? scrollHeight : undefined}\">\n                <table #scrollTable [class]=\"dt.tableStyleClass\" [ngStyle]=\"dt.tableStyle\">\n                    <ng-container *ngTemplateOutlet=\"frozen ? dt.frozenColGroupTemplate||dt.colGroupTemplate : dt.colGroupTemplate; context {$implicit: columns}\"></ng-container>\n                    <tbody class=\"p-datatable-tbody\" [pTableBody]=\"columns\" [pTableBodyTemplate]=\"frozen ? dt.frozenBodyTemplate||dt.bodyTemplate : dt.bodyTemplate\" [frozen]=\"frozen\"></tbody>\n                </table>\n                <div #scrollableAligner style=\"background-color:transparent\" *ngIf=\"frozen\"></div>\n            </div>\n        </ng-container>\n        <ng-template #virtualScrollTemplate>\n            <cdk-virtual-scroll-viewport [itemSize]=\"dt.virtualRowHeight\" [style.height]=\"dt.scrollHeight !== 'flex' ? scrollHeight : undefined\" \n                    [minBufferPx]=\"dt.minBufferPx\" [maxBufferPx]=\"dt.maxBufferPx\" (scrolledIndexChange)=\"onScrollIndexChange($event)\" class=\"p-datatable-virtual-scrollable-body\">\n                <table #scrollTable [class]=\"dt.tableStyleClass\" [ngStyle]=\"dt.tableStyle\">\n                    <ng-container *ngTemplateOutlet=\"frozen ? dt.frozenColGroupTemplate||dt.colGroupTemplate : dt.colGroupTemplate; context {$implicit: columns}\"></ng-container>\n                    <tbody class=\"p-datatable-tbody\" [pTableBody]=\"columns\" [pTableBodyTemplate]=\"frozen ? dt.frozenBodyTemplate||dt.bodyTemplate : dt.bodyTemplate\" [frozen]=\"frozen\"></tbody>\n                </table>\n                <div #scrollableAligner style=\"background-color:transparent\" *ngIf=\"frozen\"></div>\n            </cdk-virtual-scroll-viewport>\n        </ng-template>\n        <div #scrollFooter class=\"p-datatable-scrollable-footer\">\n            <div #scrollFooterBox class=\"p-datatable-scrollable-footer-box\">\n                <table class=\"p-datatable-scrollable-footer-table\" [ngClass]=\"dt.tableStyleClass\" [ngStyle]=\"dt.tableStyle\">\n                    <ng-container *ngTemplateOutlet=\"frozen ? dt.frozenColGroupTemplate||dt.colGroupTemplate : dt.colGroupTemplate; context {$implicit: columns}\"></ng-container>\n                    <tfoot class=\"p-datatable-tfoot\">\n                        <ng-container *ngTemplateOutlet=\"frozen ? dt.frozenFooterTemplate||dt.footerTemplate : dt.footerTemplate; context {$implicit: columns}\"></ng-container>\n                    </tfoot>\n                </table>\n            </div>\n        </div>\n    `,\n    changeDetection: ChangeDetectionStrategy.Default,\n    encapsulation: ViewEncapsulation.None\n})\nexport class ScrollableView implements AfterViewInit,OnDestroy {\n\n    @Input(\"pScrollableView\") columns: any[];\n\n    @Input() frozen: boolean;\n\n    @ViewChild('scrollHeader') scrollHeaderViewChild: ElementRef;\n\n    @ViewChild('scrollHeaderBox') scrollHeaderBoxViewChild: ElementRef;\n\n    @ViewChild('scrollBody') scrollBodyViewChild: ElementRef;\n\n    @ViewChild('scrollTable') scrollTableViewChild: ElementRef;\n\n    @ViewChild('scrollFooter') scrollFooterViewChild: ElementRef;\n\n    @ViewChild('scrollFooterBox') scrollFooterBoxViewChild: ElementRef;\n\n    @ViewChild('scrollableAligner') scrollableAlignerViewChild: ElementRef;\n\n    @ViewChild(CdkVirtualScrollViewport) virtualScrollBody: CdkVirtualScrollViewport;\n\n    headerScrollListener: any;\n\n    bodyScrollListener: any;\n\n    footerScrollListener: any;\n\n    frozenSiblingBody: HTMLDivElement;\n\n    preventBodyScrollPropagation: boolean;\n\n    loadedPages: number[] = [];\n\n    _scrollHeight: string;\n\n    @Input() get scrollHeight(): string {\n        return this._scrollHeight;\n    }\n    set scrollHeight(val: string) {\n        this._scrollHeight = val;\n        if (val != null && (val.includes('%') || val.includes('calc'))) {\n            console.log('Percentage scroll height calculation is removed in favor of the more performant CSS based flex mode, use scrollHeight=\"flex\" instead.')\n        }\n    }\n\n    constructor(public dt: Table, public el: ElementRef, public zone: NgZone) {}\n\n    ngAfterViewInit() {\n        if (!this.frozen) {\n            if (this.dt.frozenColumns || this.dt.frozenBodyTemplate) {\n                DomHandler.addClass(this.el.nativeElement, 'p-datatable-unfrozen-view');\n            }\n\n            let frozenView = this.el.nativeElement.previousElementSibling;\n            if (frozenView) {\n                if (this.dt.virtualScroll)\n                    this.frozenSiblingBody = DomHandler.findSingle(frozenView, '.p-datatabe-virtual-scrollable-body');\n                else\n                    this.frozenSiblingBody = DomHandler.findSingle(frozenView, '.p-datatable-scrollable-body');\n            }\n\n            let scrollBarWidth = DomHandler.calculateScrollbarWidth();\n            this.scrollHeaderBoxViewChild.nativeElement.style.paddingRight = scrollBarWidth + 'px';\n\n            if (this.scrollFooterBoxViewChild && this.scrollFooterBoxViewChild.nativeElement) {\n                this.scrollFooterBoxViewChild.nativeElement.style.paddingRight = scrollBarWidth + 'px';\n            }\n        }\n        else {\n            if (this.scrollableAlignerViewChild && this.scrollableAlignerViewChild.nativeElement) {\n                this.scrollableAlignerViewChild.nativeElement.style.height = DomHandler.calculateScrollbarHeight() + 'px';\n            }\n        }\n\n        this.bindEvents();\n    }\n\n    bindEvents() {\n        this.zone.runOutsideAngular(() => {\n            if (this.scrollHeaderViewChild && this.scrollHeaderViewChild.nativeElement) {\n                this.headerScrollListener = this.onHeaderScroll.bind(this);\n                this.scrollHeaderViewChild.nativeElement.addEventListener('scroll', this.headerScrollListener);\n            }\n\n            if (this.scrollFooterViewChild && this.scrollFooterViewChild.nativeElement) {\n                this.footerScrollListener = this.onFooterScroll.bind(this);\n                this.scrollFooterViewChild.nativeElement.addEventListener('scroll', this.footerScrollListener);\n            }\n\n            if (!this.frozen) {\n                this.bodyScrollListener = this.onBodyScroll.bind(this);\n\n                if (this.dt.virtualScroll)\n                    this.virtualScrollBody.getElementRef().nativeElement.addEventListener('scroll', this.bodyScrollListener);\n                else\n                    this.scrollBodyViewChild.nativeElement.addEventListener('scroll', this.bodyScrollListener);\n            }\n        });\n    }\n\n    unbindEvents() {\n        if (this.scrollHeaderViewChild && this.scrollHeaderViewChild.nativeElement) {\n            this.scrollHeaderViewChild.nativeElement.removeEventListener('scroll', this.headerScrollListener);\n        }\n\n        if (this.scrollFooterViewChild && this.scrollFooterViewChild.nativeElement) {\n            this.scrollFooterViewChild.nativeElement.removeEventListener('scroll', this.footerScrollListener);\n        }\n\n        if (this.scrollBodyViewChild && this.scrollBodyViewChild.nativeElement) {\n            this.scrollBodyViewChild.nativeElement.removeEventListener('scroll', this.bodyScrollListener);\n        }\n\n        if (this.virtualScrollBody && this.virtualScrollBody.getElementRef()) {\n            this.virtualScrollBody.getElementRef().nativeElement.removeEventListener('scroll', this.bodyScrollListener);\n        }\n    }\n\n    onHeaderScroll() {\n        const scrollLeft = this.scrollHeaderViewChild.nativeElement.scrollLeft;\n\n        this.scrollBodyViewChild.nativeElement.scrollLeft = scrollLeft;\n\n        if (this.scrollFooterViewChild && this.scrollFooterViewChild.nativeElement) {\n            this.scrollFooterViewChild.nativeElement.scrollLeft = scrollLeft;\n        }\n\n        this.preventBodyScrollPropagation = true;\n    }\n\n    onFooterScroll() {\n        const scrollLeft = this.scrollFooterViewChild.nativeElement.scrollLeft;\n        this.scrollBodyViewChild.nativeElement.scrollLeft = scrollLeft;\n\n        if (this.scrollHeaderViewChild && this.scrollHeaderViewChild.nativeElement) {\n            this.scrollHeaderViewChild.nativeElement.scrollLeft = scrollLeft;\n        }\n\n        this.preventBodyScrollPropagation = true;\n    }\n\n    onBodyScroll(event) {\n        if (this.preventBodyScrollPropagation) {\n            this.preventBodyScrollPropagation = false;\n            return;\n        }\n\n        if (this.scrollHeaderViewChild && this.scrollHeaderViewChild.nativeElement) {\n            this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft = -1 * event.target.scrollLeft + 'px';\n        }\n\n        if (this.scrollFooterViewChild && this.scrollFooterViewChild.nativeElement) {\n            this.scrollFooterBoxViewChild.nativeElement.style.marginLeft = -1 * event.target.scrollLeft + 'px';\n        }\n\n        if (this.frozenSiblingBody) {\n            this.frozenSiblingBody.scrollTop = event.target.scrollTop;\n        }\n    }\n\n    onScrollIndexChange(index: number) {\n        if (this.dt.lazy) {\n            let pageRange = this.createPageRange(Math.floor(index / this.dt.rows));\n            pageRange.forEach(page => this.loadPage(page));\n        }\n    }\n\n    createPageRange(page: number) {\n        let range: number[] = [];\n\n        if (page !== 0) {\n            range.push(page - 1);\n        }\n        range.push(page);\n        if (page !== (this.getPageCount() - 1)) {\n            range.push(page + 1);\n        }\n\n        return range;\n    }\n\n    loadPage(page: number) {\n        if (!this.loadedPages.includes(page)) {\n            this.dt.onLazyLoad.emit({\n                first: this.dt.rows * page, \n                rows: this.dt.rows,\n                sortField: this.dt.sortField,\n                sortOrder: this.dt.sortOrder,\n                filters: this.dt.filters,\n                globalFilter: this.dt.filters && this.dt.filters['global'] ? this.dt.filters['global'].value : null,\n                multiSortMeta: this.dt.multiSortMeta\n            });\n            this.loadedPages.push(page);\n        }\n    }\n\n    clearCache() {\n        this.loadedPages = [];\n    }\n\n    getPageCount() {\n        let dataToRender = this.dt.filteredValue || this.dt.value;\n        let dataLength = dataToRender ? dataToRender.length: 0;\n        return Math.ceil(dataLength / this.dt.rows);\n    }\n\n    scrollToVirtualIndex(index: number): void {\n        if (this.virtualScrollBody) {\n            this.virtualScrollBody.scrollToIndex(index);\n        }\n    }\n\n    scrollTo(options): void {\n        if (this.virtualScrollBody) {\n            this.virtualScrollBody.scrollTo(options);\n        }\n        else {\n            if (this.scrollBodyViewChild.nativeElement.scrollTo) {\n                this.scrollBodyViewChild.nativeElement.scrollTo(options);\n            }\n            else {\n                this.scrollBodyViewChild.nativeElement.scrollLeft = options.left;\n                this.scrollBodyViewChild.nativeElement.scrollTop = options.top;\n            }\n        }\n    }\n\n    ngOnDestroy() {\n        this.unbindEvents();\n        this.frozenSiblingBody = null;\n    }\n}\n\n@Directive({\n    selector: '[pSortableColumn]',\n    host: {\n        '[class.p-sortable-column]': 'isEnabled()',\n        '[class.p-highlight]': 'sorted',\n        '[attr.tabindex]': 'isEnabled() ? \"0\" : null',\n        '[attr.role]': '\"columnheader\"',\n        '[attr.aria-sort]': 'sortOrder'\n    }\n})\nexport class SortableColumn implements OnInit, OnDestroy {\n\n    @Input(\"pSortableColumn\") field: string;\n\n    @Input() pSortableColumnDisabled: boolean;\n\n    sorted: boolean;\n\n    sortOrder: string;\n\n    subscription: Subscription;\n\n    constructor(public dt: Table) {\n        if (this.isEnabled()) {\n            this.subscription = this.dt.tableService.sortSource$.subscribe(sortMeta => {\n                this.updateSortState();\n            });\n        }\n    }\n\n    ngOnInit() {\n        if (this.isEnabled()) {\n            this.updateSortState();\n        }\n    }\n\n    updateSortState() {\n        this.sorted = this.dt.isSorted(this.field);\n        this.sortOrder = this.sorted ? (this.dt.sortOrder === 1 ? 'ascending' : 'descending') : 'none';\n    }\n\n    @HostListener('click', ['$event'])\n    onClick(event: MouseEvent) {\n        if (this.isEnabled()) {\n            this.updateSortState();\n            this.dt.sort({\n                originalEvent: event,\n                field: this.field\n            });\n\n            DomHandler.clearSelection();\n        }\n    }\n\n    @HostListener('keydown.enter', ['$event'])\n    onEnterKey(event: MouseEvent) {\n        this.onClick(event);\n    }\n\n    isEnabled() {\n        return this.pSortableColumnDisabled !== true;\n    }\n\n    ngOnDestroy() {\n        if (this.subscription) {\n            this.subscription.unsubscribe();\n        }\n    }\n\n}\n\n\n@Component({\n    selector: 'p-sortIcon',\n    template: `\n        <i class=\"p-sortable-column-icon pi pi-fw\" [ngClass]=\"{'pi-sort-amount-up-alt': sortOrder === 1, 'pi-sort-amount-down': sortOrder === -1, 'pi-sort-alt': sortOrder === 0}\"></i>\n    `,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n})\nexport class SortIcon implements OnInit, OnDestroy {\n\n    @Input() field: string;\n\n    subscription: Subscription;\n\n    sortOrder: number;\n\n    constructor(public dt: Table, public cd: ChangeDetectorRef) {\n        this.subscription = this.dt.tableService.sortSource$.subscribe(sortMeta => {\n            this.updateSortState();\n        });\n    }\n\n    ngOnInit() {\n        this.updateSortState();\n    }\n\n    onClick(event){\n        event.preventDefault();\n    }\n\n    updateSortState() {\n        if (this.dt.sortMode === 'single') {\n            this.sortOrder = this.dt.isSorted(this.field) ? this.dt.sortOrder : 0;\n        }\n        else if (this.dt.sortMode === 'multiple') {\n            let sortMeta = this.dt.getSortMeta(this.field);\n            this.sortOrder = sortMeta ? sortMeta.order: 0;\n        }\n\n        this.cd.markForCheck();\n    }\n\n    ngOnDestroy() {\n        if (this.subscription) {\n            this.subscription.unsubscribe();\n        }\n    }\n}\n\n@Directive({\n    selector: '[pSelectableRow]',\n    host: {\n        '[class.p-selectable-row]': 'isEnabled()',\n        '[class.p-highlight]': 'selected',\n        '[attr.tabindex]': 'isEnabled() ? 0 : undefined'\n    }\n})\nexport class SelectableRow implements OnInit, OnDestroy {\n\n    @Input(\"pSelectableRow\") data: any;\n\n    @Input(\"pSelectableRowIndex\") index: number;\n\n    @Input() pSelectableRowDisabled: boolean;\n\n    selected: boolean;\n\n    subscription: Subscription;\n\n    constructor(public dt: Table, public tableService: TableService) {\n        if (this.isEnabled()) {\n            this.subscription = this.dt.tableService.selectionSource$.subscribe(() => {\n                this.selected = this.dt.isSelected(this.data);\n            });\n        }\n    }\n\n    ngOnInit() {\n        if (this.isEnabled()) {\n            this.selected = this.dt.isSelected(this.data);\n        }\n    }\n\n    @HostListener('click', ['$event'])\n    onClick(event: Event) {\n        if (this.isEnabled()) {\n            this.dt.handleRowClick({\n                originalEvent: event,\n                rowData: this.data,\n                rowIndex: this.index\n            });\n        }\n    }\n\n    @HostListener('touchend', ['$event'])\n    onTouchEnd(event: Event) {\n        if (this.isEnabled()) {\n            this.dt.handleRowTouchEnd(event);\n        }\n    }\n\n    @HostListener('keydown.arrowdown', ['$event'])\n    onArrowDownKeyDown(event: KeyboardEvent) {\n        if (!this.isEnabled()) {\n            return;\n        }\n\n        const row = <HTMLTableRowElement>event.currentTarget;\n        const nextRow = this.findNextSelectableRow(row);\n\n        if (nextRow) {\n            nextRow.focus();\n        }\n\n        event.preventDefault();\n    }\n\n    @HostListener('keydown.arrowup', ['$event'])\n    onArrowUpKeyDown(event: KeyboardEvent) {\n        if (!this.isEnabled()) {\n            return;\n        }\n\n        const row = <HTMLTableRowElement>event.currentTarget;\n        const prevRow = this.findPrevSelectableRow(row);\n\n        if (prevRow) {\n            prevRow.focus();\n        }\n\n        event.preventDefault();\n    }\n\n    @HostListener('keydown.enter', ['$event'])\n    onEnterKeyDown(event: KeyboardEvent) {\n        if (!this.isEnabled()) {\n            return;\n        }\n\n        this.dt.handleRowClick({\n            originalEvent: event,\n            rowData: this.data,\n            rowIndex: this.index\n        });\n    }\n\n    findNextSelectableRow(row: HTMLTableRowElement): HTMLTableRowElement {\n        let nextRow = <HTMLTableRowElement> row.nextElementSibling;\n        if (nextRow) {\n            if (DomHandler.hasClass(nextRow, 'p-datatable-selectable-row'))\n                return nextRow;\n            else\n                return this.findNextSelectableRow(nextRow);\n        }\n        else {\n            return null;\n        }\n    }\n\n    findPrevSelectableRow(row: HTMLTableRowElement): HTMLTableRowElement {\n        let prevRow = <HTMLTableRowElement> row.previousElementSibling;\n        if (prevRow) {\n            if (DomHandler.hasClass(prevRow, 'p-datatable-selectable-row'))\n                return prevRow;\n            else\n                return this.findPrevSelectableRow(prevRow);\n        }\n        else {\n            return null;\n        }\n    }\n\n    isEnabled() {\n        return this.pSelectableRowDisabled !== true;\n    }\n\n    ngOnDestroy() {\n        if (this.subscription) {\n            this.subscription.unsubscribe();\n        }\n    }\n\n}\n\n@Directive({\n    selector: '[pSelectableRowDblClick]',\n    host: {\n        '[class.p-datatable-selectable-row]': 'isEnabled()',\n        '[class.p-highlight]': 'selected'\n    }\n})\nexport class SelectableRowDblClick implements OnInit, OnDestroy {\n\n    @Input(\"pSelectableRowDblClick\") data: any;\n\n    @Input(\"pSelectableRowIndex\") index: number;\n\n    @Input() pSelectableRowDisabled: boolean;\n\n    selected: boolean;\n\n    subscription: Subscription;\n\n    constructor(public dt: Table, public tableService: TableService) {\n        if (this.isEnabled()) {\n            this.subscription = this.dt.tableService.selectionSource$.subscribe(() => {\n                this.selected = this.dt.isSelected(this.data);\n            });\n        }\n    }\n\n    ngOnInit() {\n        if (this.isEnabled()) {\n            this.selected = this.dt.isSelected(this.data);\n        }\n    }\n\n    @HostListener('dblclick', ['$event'])\n    onClick(event: Event) {\n        if (this.isEnabled()) {\n            this.dt.handleRowClick({\n                originalEvent: event,\n                rowData: this.data,\n                rowIndex: this.index\n            });\n        }\n    }\n\n    isEnabled() {\n        return this.pSelectableRowDisabled !== true;\n    }\n\n    ngOnDestroy() {\n        if (this.subscription) {\n            this.subscription.unsubscribe();\n        }\n    }\n\n}\n\n@Directive({\n    selector: '[pContextMenuRow]',\n    host: {\n        '[class.p-highlight-contextmenu]': 'selected',\n        '[attr.tabindex]': 'isEnabled() ? 0 : undefined'\n    }\n})\nexport class ContextMenuRow {\n\n    @Input(\"pContextMenuRow\") data: any;\n\n    @Input(\"pContextMenuRowIndex\") index: number;\n\n    @Input() pContextMenuRowDisabled: boolean;\n\n    selected: boolean;\n\n    subscription: Subscription;\n\n    constructor(public dt: Table, public tableService: TableService, private el: ElementRef) {\n        if (this.isEnabled()) {\n            this.subscription = this.dt.tableService.contextMenuSource$.subscribe((data) => {\n                this.selected = this.dt.equals(this.data, data);\n            });\n        }\n    }\n\n    @HostListener('contextmenu', ['$event'])\n    onContextMenu(event: Event) {\n        if (this.isEnabled()) {\n            this.dt.handleRowRightClick({\n                originalEvent: event,\n                rowData: this.data,\n                rowIndex: this.index\n            });\n\n            this.el.nativeElement.focus();\n            event.preventDefault();\n        }\n    }\n\n    isEnabled() {\n        return this.pContextMenuRowDisabled !== true;\n    }\n\n    ngOnDestroy() {\n        if (this.subscription) {\n            this.subscription.unsubscribe();\n        }\n    }\n\n}\n\n@Directive({\n    selector: '[pRowToggler]'\n})\nexport class RowToggler {\n\n    @Input('pRowToggler') data: any;\n\n    @Input() pRowTogglerDisabled: boolean;\n\n    constructor(public dt: Table) { }\n\n    @HostListener('click', ['$event'])\n    onClick(event: Event) {\n        if (this.isEnabled()) {\n            this.dt.toggleRow(this.data, event);\n            event.preventDefault();\n        }\n    }\n\n    isEnabled() {\n        return this.pRowTogglerDisabled !== true;\n    }\n}\n\n@Directive({\n    selector: '[pResizableColumn]'\n})\nexport class ResizableColumn implements AfterViewInit, OnDestroy {\n\n    @Input() pResizableColumnDisabled: boolean;\n\n    resizer: HTMLSpanElement;\n\n    resizerMouseDownListener: any;\n\n    documentMouseMoveListener: any;\n\n    documentMouseUpListener: any;\n\n    constructor(public dt: Table, public el: ElementRef, public zone: NgZone) { }\n\n    ngAfterViewInit() {\n        if (this.isEnabled()) {\n            DomHandler.addClass(this.el.nativeElement, 'p-resizable-column');\n            this.resizer = document.createElement('span');\n            this.resizer.className = 'p-column-resizer';\n            this.el.nativeElement.appendChild(this.resizer);\n\n            this.zone.runOutsideAngular(() => {\n                this.resizerMouseDownListener = this.onMouseDown.bind(this);\n                this.resizer.addEventListener('mousedown', this.resizerMouseDownListener);\n            });\n        }\n    }\n\n    bindDocumentEvents() {\n        this.zone.runOutsideAngular(() => {\n            this.documentMouseMoveListener = this.onDocumentMouseMove.bind(this);\n            document.addEventListener('mousemove', this.documentMouseMoveListener);\n\n            this.documentMouseUpListener = this.onDocumentMouseUp.bind(this);\n            document.addEventListener('mouseup', this.documentMouseUpListener);\n        });\n    }\n\n    unbindDocumentEvents() {\n        if (this.documentMouseMoveListener) {\n            document.removeEventListener('mousemove', this.documentMouseMoveListener);\n            this.documentMouseMoveListener = null;\n        }\n\n        if (this.documentMouseUpListener) {\n            document.removeEventListener('mouseup', this.documentMouseUpListener);\n            this.documentMouseUpListener = null;\n        }\n    }\n\n    onMouseDown(event: MouseEvent) {\n        if (event.which === 1) {\n            this.dt.onColumnResizeBegin(event);\n            this.bindDocumentEvents();\n        }\n    }\n\n    onDocumentMouseMove(event: MouseEvent) {\n        this.dt.onColumnResize(event);\n    }\n\n    onDocumentMouseUp(event: MouseEvent) {\n        this.dt.onColumnResizeEnd(event, this.el.nativeElement);\n        this.unbindDocumentEvents();\n    }\n\n    isEnabled() {\n        return this.pResizableColumnDisabled !== true;\n    }\n\n    ngOnDestroy() {\n        if (this.resizerMouseDownListener) {\n            this.resizer.removeEventListener('mousedown', this.resizerMouseDownListener);\n        }\n\n        this.unbindDocumentEvents();\n    }\n}\n\n@Directive({\n    selector: '[pReorderableColumn]'\n})\nexport class ReorderableColumn implements AfterViewInit, OnDestroy {\n\n    @Input() pReorderableColumnDisabled: boolean;\n\n    dragStartListener: any;\n\n    dragOverListener: any;\n\n    dragEnterListener: any;\n\n    dragLeaveListener: any;\n\n    mouseDownListener: any;\n\n    constructor(public dt: Table, public el: ElementRef, public zone: NgZone) { }\n\n    ngAfterViewInit() {\n        if (this.isEnabled()) {\n            this.bindEvents();\n        }\n    }\n\n    bindEvents() {\n        this.zone.runOutsideAngular(() => {\n            this.mouseDownListener = this.onMouseDown.bind(this);\n            this.el.nativeElement.addEventListener('mousedown', this.mouseDownListener);\n\n            this.dragStartListener = this.onDragStart.bind(this);\n            this.el.nativeElement.addEventListener('dragstart', this.dragStartListener);\n\n            this.dragOverListener = this.onDragEnter.bind(this);\n            this.el.nativeElement.addEventListener('dragover', this.dragOverListener);\n\n            this.dragEnterListener = this.onDragEnter.bind(this);\n            this.el.nativeElement.addEventListener('dragenter', this.dragEnterListener);\n\n            this.dragLeaveListener = this.onDragLeave.bind(this);\n            this.el.nativeElement.addEventListener('dragleave', this.dragLeaveListener);\n        });\n    }\n\n    unbindEvents() {\n        if (this.mouseDownListener) {\n            document.removeEventListener('mousedown', this.mouseDownListener);\n            this.mouseDownListener = null;\n        }\n\n        if (this.dragOverListener) {\n            document.removeEventListener('dragover', this.dragOverListener);\n            this.dragOverListener = null;\n        }\n\n        if (this.dragEnterListener) {\n            document.removeEventListener('dragenter', this.dragEnterListener);\n            this.dragEnterListener = null;\n        }\n\n        if (this.dragEnterListener) {\n            document.removeEventListener('dragenter', this.dragEnterListener);\n            this.dragEnterListener = null;\n        }\n\n        if (this.dragLeaveListener) {\n            document.removeEventListener('dragleave', this.dragLeaveListener);\n            this.dragLeaveListener = null;\n        }\n    }\n\n    onMouseDown(event) {\n        if (event.target.nodeName === 'INPUT' || event.target.nodeName === 'TEXTAREA' || DomHandler.hasClass(event.target, 'p-column-resizer'))\n            this.el.nativeElement.draggable = false;\n        else\n            this.el.nativeElement.draggable = true;\n    }\n\n    onDragStart(event) {\n        this.dt.onColumnDragStart(event, this.el.nativeElement);\n    }\n\n    onDragOver(event) {\n        event.preventDefault();\n    }\n\n    onDragEnter(event) {\n        this.dt.onColumnDragEnter(event, this.el.nativeElement);\n    }\n\n    onDragLeave(event) {\n        this.dt.onColumnDragLeave(event);\n    }\n\n    @HostListener('drop', ['$event'])\n    onDrop(event) {\n        if (this.isEnabled()) {\n            this.dt.onColumnDrop(event, this.el.nativeElement);\n        }\n    }\n\n    isEnabled() {\n        return this.pReorderableColumnDisabled !== true;\n    }\n\n    ngOnDestroy() {\n        this.unbindEvents();\n    }\n\n}\n\n@Directive({\n    selector: '[pEditableColumn]'\n})\nexport class EditableColumn implements AfterViewInit {\n\n    @Input(\"pEditableColumn\") data: any;\n\n    @Input(\"pEditableColumnField\") field: any;\n\n    @Input(\"pEditableColumnRowIndex\") rowIndex: number;\n\n    @Input() pEditableColumnDisabled: boolean;\n\n    @Input() pFocusCellSelector: string;\n\n    constructor(public dt: Table, public el: ElementRef, public zone: NgZone) {}\n\n    ngAfterViewInit() {\n        if (this.isEnabled()) {\n            DomHandler.addClass(this.el.nativeElement, 'p-editable-column');\n        }\n    }\n\n    @HostListener('click', ['$event'])\n    onClick(event: MouseEvent) {\n        if (this.isEnabled()) {\n            this.dt.editingCellClick = true;\n\n            if (this.dt.editingCell) {\n                if (this.dt.editingCell !== this.el.nativeElement) {\n                    if (!this.dt.isEditingCellValid()) {\n                        return;\n                    }\n\n                    this.closeEditingCell(true, event);\n                    this.openCell();\n                }\n            }\n            else {\n                this.openCell();\n            }\n        }\n    }\n\n    openCell() {\n        this.dt.updateEditingCell(this.el.nativeElement, this.data, this.field, this.rowIndex);\n        DomHandler.addClass(this.el.nativeElement, 'p-cell-editing');\n        this.dt.onEditInit.emit({field: this.field, data: this.data, index: this.rowIndex});\n        this.zone.runOutsideAngular(() => {\n            setTimeout(() => {\n                let focusCellSelector = this.pFocusCellSelector || 'input, textarea, select';\n                let focusableElement = DomHandler.findSingle(this.el.nativeElement, focusCellSelector);\n\n                if (focusableElement) {\n                    focusableElement.focus();\n                }\n            }, 50);\n        });\n    }\n\n    closeEditingCell(completed, event) {\n        if (completed)\n            this.dt.onEditComplete.emit({field: this.dt.editingCellField, data: this.dt.editingCellData, originalEvent: event, index: this.rowIndex});\n        else\n            this.dt.onEditCancel.emit({field: this.dt.editingCellField, data: this.dt.editingCellData, originalEvent: event, index: this.rowIndex});\n\n        DomHandler.removeClass(this.dt.editingCell, 'p-cell-editing');\n        this.dt.editingCell = null;\n        this.dt.editingCellData = null;\n        this.dt.editingCellField = null;\n        this.dt.unbindDocumentEditListener();\n    }\n\n    @HostListener('keydown.enter', ['$event'])\n    onEnterKeyDown(event: KeyboardEvent) {\n        if (this.isEnabled()) {\n            if (this.dt.isEditingCellValid()) {\n                this.closeEditingCell(true, event);\n            }\n\n            event.preventDefault();\n        }\n    }\n\n    @HostListener('keydown.escape', ['$event'])\n    onEscapeKeyDown(event: KeyboardEvent) {\n        if (this.isEnabled()) {\n            if (this.dt.isEditingCellValid()) {\n                this.closeEditingCell(false, event);\n            }\n\n            event.preventDefault();\n        }\n    }\n\n    @HostListener('keydown.tab', ['$event'])\n    @HostListener('keydown.shift.tab', ['$event'])\n    @HostListener('keydown.meta.tab', ['$event'])\n    onShiftKeyDown(event: KeyboardEvent) {\n        if (this.isEnabled()) {\n            if (event.shiftKey)\n                this.moveToPreviousCell(event);\n            else{\n                this.moveToNextCell(event);\n            }\n        }\n    }\n\n    findCell(element) {\n        if (element) {\n            let cell = element;\n            while (cell && !DomHandler.hasClass(cell, 'p-cell-editing')) {\n                cell = cell.parentElement;\n            }\n\n            return cell;\n        }\n        else {\n            return null;\n        }\n    }\n\n    moveToPreviousCell(event: KeyboardEvent) {\n        let currentCell = this.findCell(event.target);\n        if (currentCell) {\n            let targetCell = this.findPreviousEditableColumn(currentCell);\n\n            if (targetCell) {\n                if (this.dt.isEditingCellValid()) {\n                    this.closeEditingCell(true, event);\n                }\n\n                DomHandler.invokeElementMethod(event.target, 'blur');\n                DomHandler.invokeElementMethod(targetCell, 'click');\n                event.preventDefault();\n            }\n        }\n    }\n\n    moveToNextCell(event: KeyboardEvent) {\n        let currentCell = this.findCell(event.target);\n        if (currentCell) {\n            let targetCell = this.findNextEditableColumn(currentCell);\n\n            if (targetCell) {\n                if (this.dt.isEditingCellValid()) {\n                    this.closeEditingCell(true, event);\n                }\n\n                DomHandler.invokeElementMethod(event.target, 'blur');\n                DomHandler.invokeElementMethod(targetCell, 'click');\n                event.preventDefault();\n            }\n        }\n    }\n\n    findPreviousEditableColumn(cell: Element) {\n        let prevCell = cell.previousElementSibling;\n\n        if (!prevCell) {\n            let previousRow = cell.parentElement.previousElementSibling;\n            if (previousRow) {\n                prevCell = previousRow.lastElementChild;\n            }\n        }\n\n        if (prevCell) {\n            if (DomHandler.hasClass(prevCell, 'p-editable-column'))\n                return prevCell;\n            else\n                return this.findPreviousEditableColumn(prevCell);\n        }\n        else {\n            return null;\n        }\n    }\n\n    findNextEditableColumn(cell: Element) {\n        let nextCell = cell.nextElementSibling;\n\n        if (!nextCell) {\n            let nextRow = cell.parentElement.nextElementSibling;\n            if (nextRow) {\n                nextCell = nextRow.firstElementChild;\n            }\n        }\n\n        if (nextCell) {\n            if (DomHandler.hasClass(nextCell, 'p-editable-column'))\n                return nextCell;\n            else\n                return this.findNextEditableColumn(nextCell);\n        }\n        else {\n            return null;\n        }\n    }\n\n    isEnabled() {\n        return this.pEditableColumnDisabled !== true;\n    }\n\n}\n\n@Directive({\n    selector: '[pEditableRow]'\n})\nexport class EditableRow {\n\n    @Input(\"pEditableRow\") data: any;\n\n    @Input() pEditableRowDisabled: boolean;\n\n    constructor(public el: ElementRef) {}\n\n    isEnabled() {\n        return this.pEditableRowDisabled !== true;\n    }\n\n}\n\n@Directive({\n    selector: '[pInitEditableRow]'\n})\nexport class InitEditableRow {\n\n    constructor(public dt: Table, public editableRow: EditableRow) {}\n\n    @HostListener('click', ['$event'])\n    onClick(event: Event) {\n        this.dt.initRowEdit(this.editableRow.data);\n        event.preventDefault();\n    }\n\n}\n\n@Directive({\n    selector: '[pSaveEditableRow]'\n})\nexport class SaveEditableRow {\n\n    constructor(public dt: Table, public editableRow: EditableRow) {}\n\n    @HostListener('click', ['$event'])\n    onClick(event: Event) {\n        this.dt.saveRowEdit(this.editableRow.data, this.editableRow.el.nativeElement);\n        event.preventDefault();\n    }\n}\n\n@Directive({\n    selector: '[pCancelEditableRow]'\n})\nexport class CancelEditableRow {\n\n    constructor(public dt: Table, public editableRow: EditableRow) {}\n\n    @HostListener('click', ['$event'])\n    onClick(event: Event) {\n        this.dt.cancelRowEdit(this.editableRow.data);\n        event.preventDefault();\n    }\n}\n\n@Component({\n    selector: 'p-cellEditor',\n    template: `\n        <ng-container *ngIf=\"editing\">\n            <ng-container *ngTemplateOutlet=\"inputTemplate\"></ng-container>\n        </ng-container>\n        <ng-container *ngIf=\"!editing\">\n            <ng-container *ngTemplateOutlet=\"outputTemplate\"></ng-container>\n        </ng-container>\n    `,\n    encapsulation: ViewEncapsulation.None\n})\nexport class CellEditor implements AfterContentInit {\n\n    @ContentChildren(PrimeTemplate) templates: QueryList<PrimeTemplate>;\n\n    inputTemplate: TemplateRef<any>;\n\n    outputTemplate: TemplateRef<any>;\n\n    constructor(public dt: Table, @Optional() public editableColumn: EditableColumn, @Optional() public editableRow: EditableRow) { }\n\n    ngAfterContentInit() {\n        this.templates.forEach((item) => {\n            switch (item.getType()) {\n                case 'input':\n                    this.inputTemplate = item.template;\n                    break;\n\n                case 'output':\n                    this.outputTemplate = item.template;\n                    break;\n            }\n        });\n    }\n\n    get editing(): boolean {\n        return (this.dt.editingCell && this.editableColumn && this.dt.editingCell === this.editableColumn.el.nativeElement) ||\n                (this.editableRow && this.dt.editMode === 'row' && this.dt.isRowEditing(this.editableRow.data));\n    }\n\n}\n\n@Component({\n    selector: 'p-tableRadioButton',\n    template: `\n        <div class=\"p-radiobutton p-component\" (click)=\"onClick($event)\">\n            <div class=\"p-hidden-accessible\">\n                <input type=\"radio\" [attr.id]=\"inputId\" [attr.name]=\"name\" [checked]=\"checked\" (focus)=\"onFocus()\" (blur)=\"onBlur()\"\n                [disabled]=\"disabled\" [attr.aria-label]=\"ariaLabel\">\n            </div>\n            <div #box [ngClass]=\"{'p-radiobutton-box p-component':true,\n                'p-highlight':checked, 'p-disabled':disabled}\" role=\"radio\" [attr.aria-checked]=\"checked\">\n                <div class=\"p-radiobutton-icon\"></div>\n            </div>\n        </div>\n    `,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n})\nexport class TableRadioButton  {\n\n    @Input() disabled: boolean;\n\n    @Input() value: any;\n\n    @Input() index: number;\n\n    @Input() inputId: string;\n\n    @Input() name: string;\n\n    @Input() ariaLabel: string;\n\n    @ViewChild('box') boxViewChild: ElementRef;\n\n    checked: boolean;\n\n    subscription: Subscription;\n\n    constructor(public dt: Table, public tableService: TableService, public cd: ChangeDetectorRef) {\n        this.subscription = this.dt.tableService.selectionSource$.subscribe(() => {\n            this.checked = this.dt.isSelected(this.value);\n            this.cd.markForCheck();\n        });\n    }\n\n    ngOnInit() {\n        this.checked = this.dt.isSelected(this.value);\n    }\n\n    onClick(event: Event) {\n        if (!this.disabled) {\n            this.dt.toggleRowWithRadio({\n                originalEvent: event,\n                rowIndex: this.index\n            }, this.value);\n        }\n        DomHandler.clearSelection();\n    }\n\n    onFocus() {\n        DomHandler.addClass(this.boxViewChild.nativeElement, 'p-focus');\n    }\n\n    onBlur() {\n        DomHandler.removeClass(this.boxViewChild.nativeElement, 'p-focus');\n    }\n\n    ngOnDestroy() {\n        if (this.subscription) {\n            this.subscription.unsubscribe();\n        }\n    }\n\n}\n\n@Component({\n    selector: 'p-tableCheckbox',\n    template: `\n        <div class=\"p-checkbox p-component\" (click)=\"onClick($event)\">\n            <div class=\"p-hidden-accessible\">\n                <input type=\"checkbox\" [attr.id]=\"inputId\" [attr.name]=\"name\" [checked]=\"checked\" (focus)=\"onFocus()\" (blur)=\"onBlur()\" [disabled]=\"disabled\"\n                [attr.required]=\"required\" [attr.aria-label]=\"ariaLabel\">\n            </div>\n            <div #box [ngClass]=\"{'p-checkbox-box p-component':true,\n                'p-highlight':checked, 'p-disabled':disabled}\" role=\"checkbox\" [attr.aria-checked]=\"checked\">\n                <span class=\"p-checkbox-icon\" [ngClass]=\"{'pi pi-check':checked}\"></span>\n            </div>\n        </div>\n    `,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n})\nexport class TableCheckbox  {\n\n    @Input() disabled: boolean;\n\n    @Input() value: any;\n\n    @Input() index: number;\n\n    @Input() inputId: string;\n\n    @Input() name: string;\n\n    @Input() required: boolean;\n\n    @Input() ariaLabel: string;\n\n    @ViewChild('box') boxViewChild: ElementRef;\n\n    checked: boolean;\n\n    subscription: Subscription;\n\n    constructor(public dt: Table, public tableService: TableService, public cd: ChangeDetectorRef) {\n        this.subscription = this.dt.tableService.selectionSource$.subscribe(() => {\n            this.checked = this.dt.isSelected(this.value);\n            this.cd.markForCheck();\n        });\n    }\n\n    ngOnInit() {\n        this.checked = this.dt.isSelected(this.value);\n    }\n\n    onClick(event: Event) {\n        if (!this.disabled) {\n            this.dt.toggleRowWithCheckbox({\n                originalEvent: event,\n                rowIndex: this.index\n            }, this.value);\n        }\n        DomHandler.clearSelection();\n    }\n\n    onFocus() {\n        DomHandler.addClass(this.boxViewChild.nativeElement, 'p-focus');\n    }\n\n    onBlur() {\n        DomHandler.removeClass(this.boxViewChild.nativeElement, 'p-focus');\n    }\n\n    ngOnDestroy() {\n        if (this.subscription) {\n            this.subscription.unsubscribe();\n        }\n    }\n\n}\n\n@Component({\n    selector: 'p-tableHeaderCheckbox',\n    template: `\n        <div class=\"p-checkbox p-component\" (click)=\"onClick($event)\">\n            <div class=\"p-hidden-accessible\">\n                <input #cb type=\"checkbox\" [attr.id]=\"inputId\" [attr.name]=\"name\" [checked]=\"checked\" (focus)=\"onFocus()\" (blur)=\"onBlur()\"\n                [disabled]=\"isDisabled()\" [attr.aria-label]=\"ariaLabel\">\n            </div>\n            <div #box [ngClass]=\"{'p-checkbox-box':true,\n                'p-highlight':checked, 'p-disabled': isDisabled()}\" role=\"checkbox\" [attr.aria-checked]=\"checked\">\n                <span class=\"p-checkbox-icon\" [ngClass]=\"{'pi pi-check':checked}\"></span>\n            </div>\n        </div>\n    `,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None\n})\nexport class TableHeaderCheckbox  {\n\n    @ViewChild('box') boxViewChild: ElementRef;\n\n    @Input() disabled: boolean;\n\n    @Input() inputId: string;\n\n    @Input() name: string;\n\n    @Input() ariaLabel: string;\n\n    checked: boolean;\n\n    selectionChangeSubscription: Subscription;\n\n    valueChangeSubscription: Subscription;\n\n    constructor(public dt: Table, public tableService: TableService, public cd: ChangeDetectorRef) {\n        this.valueChangeSubscription = this.dt.tableService.valueSource$.subscribe(() => {\n            this.checked = this.updateCheckedState();\n        });\n\n        this.selectionChangeSubscription = this.dt.tableService.selectionSource$.subscribe(() => {\n            this.checked = this.updateCheckedState();\n        });\n    }\n\n    ngOnInit() {\n        this.checked = this.updateCheckedState();\n    }\n\n    onClick(event: Event) {\n        if (!this.disabled) {\n            if (this.dt.value && this.dt.value.length > 0) {\n                this.dt.toggleRowsWithCheckbox(event, !this.checked);\n            }\n        }\n\n        DomHandler.clearSelection();\n    }\n\n    onFocus() {\n        DomHandler.addClass(this.boxViewChild.nativeElement, 'p-focus');\n    }\n\n    onBlur() {\n        DomHandler.removeClass(this.boxViewChild.nativeElement, 'p-focus');\n    }\n\n    isDisabled() {\n        return this.disabled || !this.dt.value || !this.dt.value.length;\n    }\n\n    ngOnDestroy() {\n        if (this.selectionChangeSubscription) {\n            this.selectionChangeSubscription.unsubscribe();\n        }\n\n        if (this.valueChangeSubscription) {\n            this.valueChangeSubscription.unsubscribe();\n        }\n    }\n\n    updateCheckedState() {\n        this.cd.markForCheck();\n\n        if (this.dt.filteredValue) {\n            const val = this.dt.filteredValue;\n            return (val && val.length > 0 && this.dt.selection && this.dt.selection.length > 0 && this.isAllFilteredValuesChecked());\n        }\n        else {\n            const val = this.dt.value;\n            return (val && val.length > 0 && this.dt.selection && this.dt.selection.length > 0 && this.dt.selection.length === val.length);\n        }\n    }\n\n    isAllFilteredValuesChecked() {\n        if (!this.dt.filteredValue) {\n            return false;\n        }\n        else {\n            for (let rowData of this.dt.filteredValue) {\n                if (!this.dt.isSelected(rowData)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }\n\n}\n\n@Directive({\n    selector: '[pReorderableRowHandle]'\n})\nexport class ReorderableRowHandle implements AfterViewInit {\n\n    @Input(\"pReorderableRowHandle\") index: number;\n\n    constructor(public el: ElementRef) {}\n\n    ngAfterViewInit() {\n        DomHandler.addClass(this.el.nativeElement, 'p-datatable-reorderablerow-handle');\n    }\n}\n\n@Directive({\n    selector: '[pReorderableRow]'\n})\nexport class ReorderableRow implements AfterViewInit {\n\n    @Input(\"pReorderableRow\") index: number;\n\n    @Input() pReorderableRowDisabled: boolean;\n\n    mouseDownListener: any;\n\n    dragStartListener: any;\n\n    dragEndListener: any;\n\n    dragOverListener: any;\n\n    dragLeaveListener: any;\n\n    dropListener: any;\n\n    constructor(public dt: Table, public el: ElementRef, public zone: NgZone) {}\n\n    ngAfterViewInit() {\n        if (this.isEnabled()) {\n            this.el.nativeElement.droppable = true;\n            this.bindEvents();\n        }\n    }\n\n    bindEvents() {\n        this.zone.runOutsideAngular(() => {\n            this.mouseDownListener = this.onMouseDown.bind(this);\n            this.el.nativeElement.addEventListener('mousedown', this.mouseDownListener);\n\n            this.dragStartListener = this.onDragStart.bind(this);\n            this.el.nativeElement.addEventListener('dragstart', this.dragStartListener);\n\n            this.dragEndListener = this.onDragEnd.bind(this);\n            this.el.nativeElement.addEventListener('dragend', this.dragEndListener);\n\n            this.dragOverListener = this.onDragOver.bind(this);\n            this.el.nativeElement.addEventListener('dragover', this.dragOverListener);\n\n            this.dragLeaveListener = this.onDragLeave.bind(this);\n            this.el.nativeElement.addEventListener('dragleave', this.dragLeaveListener);\n        });\n    }\n\n    unbindEvents() {\n        if (this.mouseDownListener) {\n            document.removeEventListener('mousedown', this.mouseDownListener);\n            this.mouseDownListener = null;\n        }\n\n        if (this.dragStartListener) {\n            document.removeEventListener('dragstart', this.dragStartListener);\n            this.dragStartListener = null;\n        }\n\n        if (this.dragEndListener) {\n            document.removeEventListener('dragend', this.dragEndListener);\n            this.dragEndListener = null;\n        }\n\n        if (this.dragOverListener) {\n            document.removeEventListener('dragover', this.dragOverListener);\n            this.dragOverListener = null;\n        }\n\n        if (this.dragLeaveListener) {\n            document.removeEventListener('dragleave', this.dragLeaveListener);\n            this.dragLeaveListener = null;\n        }\n    }\n\n    onMouseDown(event) {\n        if (DomHandler.hasClass(event.target, 'p-datatable-reorderablerow-handle'))\n            this.el.nativeElement.draggable = true;\n        else\n            this.el.nativeElement.draggable = false;\n    }\n\n    onDragStart(event) {\n        this.dt.onRowDragStart(event, this.index);\n    }\n\n    onDragEnd(event) {\n        this.dt.onRowDragEnd(event);\n        this.el.nativeElement.draggable = false;\n    }\n\n    onDragOver(event) {\n        this.dt.onRowDragOver(event, this.index, this.el.nativeElement);\n        event.preventDefault();\n    }\n\n    onDragLeave(event) {\n        this.dt.onRowDragLeave(event, this.el.nativeElement);\n    }\n\n    isEnabled() {\n        return this.pReorderableRowDisabled !== true;\n    }\n\n    @HostListener('drop', ['$event'])\n    onDrop(event) {\n        if (this.isEnabled() && this.dt.rowDragging) {\n            this.dt.onRowDrop(event, this.el.nativeElement);\n        }\n\n        event.preventDefault()\n    }\n}\n\n@NgModule({\n    imports: [CommonModule,PaginatorModule,ScrollingModule],\n    exports: [Table,SharedModule,SortableColumn,SelectableRow,RowToggler,ContextMenuRow,ResizableColumn,ReorderableColumn,EditableColumn,CellEditor,SortIcon,TableRadioButton,TableCheckbox,TableHeaderCheckbox,ReorderableRowHandle,ReorderableRow,SelectableRowDblClick,EditableRow,InitEditableRow,SaveEditableRow,CancelEditableRow,ScrollingModule],\n    declarations: [Table,SortableColumn,SelectableRow,RowToggler,ContextMenuRow,ResizableColumn,ReorderableColumn,EditableColumn,CellEditor,TableBody,ScrollableView,SortIcon,TableRadioButton,TableCheckbox,TableHeaderCheckbox,ReorderableRowHandle,ReorderableRow,SelectableRowDblClick,EditableRow,InitEditableRow,SaveEditableRow,CancelEditableRow]\n})\nexport class TableModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]},"metadata":{},"sourceType":"module"}